#+STARTUP: overview
#+OPTIONS: d:nil
#+OPTIONS: toc:nil
#+TAGS: Presentation(p) noexport(n) taskjuggler_project(t) taskjuggler_resource(r) 
#+DRAWERS: PICTURE CLOSET 
#+PROPERTY: allocate_ALL dev doc test
#+COLUMNS: %30ITEM(Task) %effort %allocate %blocker %ordered
#+STARTUP: hidestars hideblocks 
#+LaTeX_CLASS_OPTIONS: [12pt,twoside]
#+LATEX_HEADER: \usepackage{lscape} 
#+LATEX_HEADER: \usepackage{fancyhdr} 
#+LATEX_HEADER: \usepackage{multirow}
#+LATEX_HEADER: \usepackage{multicol}
#+BEGIN_LaTeX
\pagenumbering{}
#+END_LaTeX 
#+TITLE: Notes
#+BEGIN_LaTeX
\newpage
\clearpage
% \addtolength{\oddsidemargin}{-.25in}
\addtolength{\oddsidemargin}{-.5in}
\addtolength{\evensidemargin}{-01.25in}
\addtolength{\textwidth}{1.4in}
\addtolength{\topmargin}{-1.25in}
\addtolength{\textheight}{2.45in}
\setcounter{tocdepth}{3}
\vspace*{1cm} 
\newpage
\pagenumbering{roman}
\setcounter{tocdepth}{2}
\pagestyle{fancy}
\fancyhf[ROF,LEF]{\bf\thepage}
\fancyhf[C]{}
#+END_LaTeX
#+TOC: headlines 2
#+BEGIN_LaTeX
\newpage
\pagenumbering{arabic}
#+END_LaTeX
:CLOSET:
: Hours #+PROPERTY: Effort_ALL 0.125 0.25 0.375 0.50 0.625 .75  0.875 1
: Days  #+PROPERTY: Effort_ALL 1.00 2.00 3.00 4.00 5.00 6.00 7.00 8.00 9.00
: weeks #+PROPERTY: Effort_ALL 5.00 10.00 15.00 20.00 25.00 30.00 35.00 40.00 45.00
 : Add a Picture
 :   #+ATTR_LaTeX: width=13cm [[file:example_picture.png]]

 : New Page
 : \newpage
:END:
* TODO Goals							 :noexport:
** TODO Add new monitors [50%]
   - [X] Add AR monitors
   - [X] Open ports to the EBI server
   - [ ] Add Dave's KPI monitors.
   - [ ] Number of records processed per day.
** TODO Fix the error monitors.
   - [ ] Find out what is causing the remaining errors.
* Statement of Principals						  

   - /Mathematics is a language with no ambiguity./
   - /A successful man made system will closely resembles some natural system./
   - /A Powerpoint presentation is like smoking a cigar, only the
     person doing it likes it./
   - /Probability from a point./
 
:   -  $a(i) = 1-$ \Large $\frac{i}{n}$ \normalsize where $0 <= i < n$ and $n > 0$
* Usage Overview
  An event that gets rated in the system is called usage and is why we have a billing system in the first place.  
** Voice Overview
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
One major undertaking in the transition to *TOPS* is moving most of
  the voice mediation to the *INTEC* platform. To help facilitate this
  move, the current rules system *(RBMS)* was studied and
  documented. The following provides a brief overview of the processes
  used. 
*** Call Types
#+BEGIN_LaTeX
\small
#+END_LaTeX  
  1. *M-M* - Mobile to Mobile 
  2. *M-L* - Mobile to Land Line 
  3. *L-M* - Land Line to Mobile 
  4. *L-L* - Land Line to Land Line 
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
  The call records can come in four possible states. 
#+BEGIN_LaTeX
\small
#+END_LaTeX  
  1. Mobile Terminating (Incoming)
  2. Mobile Originating (Outgoing)
  3. *NTI ONLY*
     - *Both* \\ *(NTI Mobile to Mobile)* in which for every voice event, two records
       are created, a *Mobile Originated* and *Mobile Terminated* record.
       For *APLX* this is taken care of automatically. In the case of an
       *NTI* switch, depending on the call scenario, it is up to the
       mediation platform to create one if needed. 
     - *Neither* \\ (per example *L-L* )
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

#+BEGIN_LaTeX
\begin{landscape}  
#+END_LaTeX
*** Incoming - Mobile Terminated
   An *Incoming* call is a /mobile terminated/ call where one of our customers receives a call from some caller to a *USCC* switch.\\
   *The diagram below shows the data flow for an incoming call:*\\ \\
#+ATTR_LaTeX: width=20cm
   [[file:Pictures/incoming.png]]

#+BEGIN_LaTeX
\end{landscape} 
#+END_LaTeX
#+BEGIN_LaTeX
\begin{landscape}  
#+END_LaTeX
*** Outgoing - Mobile Originated
   An *outgoing* call is a /mobile originating/ call from a *USCC*
   customer in which the following can occur. \\
   *The diagram below shows the data flow for an outgoing call:* \\ \\

#+ATTR_LaTeX: width=23cm

    [[file:Pictures/outgoing.png]]
#+BEGIN_LaTeX
\end{landscape} 
#+END_LaTeX
** Supported Switch Types for Postpaid
    The following switch types are first converted into the *UFF* CDR format:\\
    1. *SMSC Server* - Both *Motorola* and *Acatel-Lucent SMS* records that can be either a /Mobile Originating or Terminating/ record type. 
    2. *AAA Server* - Produces one record for each complete data session. 
       - *PGW* - P-Gateway *LTE* data usage
       - *ECS* - ECS *3G and lower* data usage.
       - *AAA* - Raw AAA usage found on the CallDump only.
       - *TAS* - /Volte/ Voice over *LTE*.
    3. *VALI* - /Premium SMS (Valista)/ pre-rated records one record per event. 
    4. *MMSC* - Used for both pictures and picture messaging text only (treated as an *SMS* message in the system). Produces both /Mobile Originating and Terminating/ records with a possible one to many relationships (multiple recipients). \\
    *Voice*
    5. *Alcatel Lucent (APLX)* - The *Alcatel Lucent APLX* switch record are found mostly in the Maine market. This switch produces both /Mobile Originating and Mobile Terminated/ records. 
    6. *Nortel (NTI)* - The *NORTEL NTI* switch record is the most common voice record format and since an NTI record contains both the /originating and terminating features/ certain call types may result in a record being generated.
    7. *GSM Roaming* - Voice and data recotrds from our customers who are roaming in Europe and other *GSM* countries.
    8. *CIBER* - For /InCollect and OutCollect/ processing we do not convert to *UFF*, instead the *CIBER* record format is used.

** Pre-Pay and Data Roaming
   In addition to *Post-Pay* we also handle *Pre-Pay* which follows a different flow using the diameter interface. The *Diameter interface* is described as follows:
  - *Diameter* is a *AAA* protocol, a type of computer networking
     protocol for authentication, authorization and accounting, and is
     a successor to *RADIUS*. *Diameter* controls communication
     between the authenticator (Secure Ticket Authority, STA) and any
     network entity requesting authentication. *Diameter Applications*
     extend the base protocol by adding new commands and/or
     attributes, such as those for use of the Extensible
     Authentication Protocol (*EAP*).
#+ATTR_LaTeX: width=23cm
    [[file:Pictures/roamingPrePay.png]]
#+BEGIN_LaTeX
\end{landscape} 
\newpage
#+END_LaTeX

** Guide By Criteria
|--------------+------------|
| *Data Types* | *Guide By* |
|--------------+------------|
| voice        | MSID       |
| GSM          | *IMSI*     |
| SMS          | MDN        |
| VOLTE/TAS    | IMSI       |
| PMG/PTX      | MSID       |
| AAA          | MSID       |
| *PGW/LTE*    | *MDN/IMSI* |
| Vali         | MDN        |
|--------------+------------|

** Usage Time Zones
|--------------+-----------------|
| *Usage Type* | *TimeZone*      |
|--------------+-----------------|
| AAA          | GMT             |
| PGW/LTE      | GMT             |
| PMG/PTX      | GMT             |
| TAS          | GMT             |
| MOT/ALU      | EST             |
| Voice        | Switch Location |
| CIBER        | Switch Location |
| GSMD/V/S     | GMT             |
|--------------+-----------------|


#+BEGIN_LaTeX
\newpage
#+END_LaTeX
#+BEGIN_LaTeX
\begin{landscape}  
#+END_LaTeX
#+ATTR_LaTeX: width=20cm
:PICTURE:
digraph BI {

graph [splines=true nodesep=0.8 size=8.5,11 compress=true overlap=false style=bold];

node [shape=folder];"Database";"CallDump""APRM";
node [shape=house];"Syniverse";"Business";"EPC";"MFT";

node [shape=triangle];"Switch";
node [shape=circle];"A&F";

"Switch" -> "Intec" [label = "(a)"];
"Switch" -> "SCP" [label = "(i)"];
"Syniverse" -> "Intec" [label = "(b)"];
"Syniverse" -> "Intec" [label = "(j)"];
"Intec" -> "CallDump" [label = "(n)"];
"Intec" -> "A&F" [label = "(d)"];	     
"Intec" -> "Syniverse" [label = "(c)"];
"Database" -> "Intec" [label = "(f)"];	
"A&F" -> "F2E" [label = "(e)"];
"F2E" -> "Turbo Charging" [label = "(e)"];
"Turbo Charging" -> "Database" [label = "(d)"];
"Turbo Charging" -> "Intec" [label = "(c)"];
"Turbo Charging" -> "MFT" [label = "(j)"];
"Turbo Charging" -> "APRM" [label = "(+)"];
"Database" -> "Turbo Charging" [label = "(e)"];
"MFT" -> "Turbo Charging" [label = "(o)"];
"SCP" -> "Turbo Charging" [label = "(i)"];
"EPC" -> "Database" [label = "(e)"];
"Business" -> "Database" [label = "(i)"];

subgraph cluster_2 {
	
"Switch";
"MFT";
"SCP";
color="#FFFFFF";
label = " ";

}


subgraph cluster_3 {
	"F2E";
	"Turbo Charging";
	"A&F";
	"APRM";
	label = "TOPS";
	
	subgraph cluster_1 {
		"Database";
		"EPC";
		color="#FFFFFF";
		label = " ";		
	}
	
}



}
:END:


   [[file:Pictures/usage_flow.jpg]]
#+BEGIN_LaTeX
\end{landscape} 
\newpage
#+END_LaTeX
#+BEGIN_LaTeX
\begin{landscape}  
#+END_LaTeX
* TOPS Usage Processing Operations
** Acquisition and Formating (A&F)
  *A&F* is to the new system what *MAF and RBMS* was to the old. Since
  the majority of rules will be moved to *INTEC, A&F's* primary
  function in the *post-TOPS* world will be to move the data from the
  *UFF* to the usage record[fn:2].  If an *A&F* error does
  occur the record will be dumped into a file to be later processed by
  the *AEM* /(Amdocs Error Manager)/.
  
** TurboCharging
#+ATTR_LaTeX: width=17.5cm
  [[file:Pictures/TC.png]]
  Though the overall architecture seems to be the same, with some name changes like *MAF* is now A&F[fn:AaF: Acquisitions and Formatting], as *CARES* the major change has been the addition of the new real-time rater which *Amdocs* calls *Turbo Charging* that can handle both PRE and POST pay customers.\\
    - All interaction is done through the network interface.
    - All tables are now in memory to improve performance.
    - We can re-rate continuously by running re-rating in daemon mode.
    - We can rate in other units beside minutes like *Content, Volume, Qos*.
    - Rating can be by step or tiered.
    - *Event flow:*
      1. An event comes in to via a network element
      2. Transforms data into a conical form which also includes the network element.
      3. Gets Rated
       -  For *Pre-Pay* the HLR[fn:HLR: Home Location Register]. is handled by the *SCP*
      4. The response is sent back to the calling network element.
    - *International Calls* are rated to the country not the individual city/town. 
    - Find that in *LD_COUNTRY_RATES* table.
    - For *Pre-Pay* roaming customers still get a record which needs to go through *CIBER* process.
    - Major problem for *CCMI*. It was decided to remove it but the *LERG* does not give us the granularity that we might need.
    - For *Pre-Pay* *MMS* we will not charge each recipient only the sender.
    - We convert everything to the *Home SID time* for bill presentment. 
    - Limiting or /choking/ usage can be handled by *Diameter* for real-time and *Turbo-Charging* for *Post-Pay*     
*** RLC (Rating Logic configurator)
   - The *RLC* has a repository that keeps it rules as an *XML* string
     in a /database column/.
   - Though they are stored as *XML* you can view them as *Product Catalog UI*.
      - *Customer* defines set of attributes possibly having different values for different *customers/subscribers*.These attributes are further used in qualification criteria to define guiding to service functionality, and in event handlers to personalize pricing logic for specific customer/subscriber 
      - *Performance Indicator* defines set of attributes (counters) to keep accumulated usage for some specific pricing item Its attributes are used and modified by the event handlers logic.
      - *Item Parameters* define a set of attributes that are the parameters of the Pricing Item Type Their values are set in the Product Catalog UI tool while creating a Pricing Item based on a given Pricing Item Type 
      - *External record* defines a set of attributes associated with a specific extract record layout. 
      - *Variables* define a set of attributes (variables) are used by handlers statements.
   - *PIT* /Pricing Item Type/
   - We can define a number of different *Rating roles* and rating events.
   - Incoming calls are not dropped but instead are zero rated.
**** Configuration Tools
    The tool is a split screen application. On the left side contains
    all the rating schemes which are then dragged and dropped to
    create a tree structure on the right side.

     - *RLC - Rating Logic configurator* /Used to configure the rating engine/
     - Uses the *EPC* to create the rating logic, not the price
       plans. Once your finished with the configurator you the compile
       with the *ICC (Implementation Compiler configurator)* which
       then creates C++ code thats added to the rater.

     - *TCC (Turbo-Charging configurator)* - Used to configure the
       Turbo-Charging rater.

     - *Replenishment Manager* - Used for *Pre-Pay*.   
** AEM
   AEM gets the Turbo-Charging errors from the *APE1_REJECTED_EVENTS* table. For *A&F* they are in the *EM1_RECORD* table. Since there are so many coulmns in the EM1_RECORD table we must limit are query's to the following columns.
   [[file:docs/EM1%20Query's][EM1 Queries]]
** Production Servers/EpsMonitors
#+BEGIN_LaTeX
\small
#+END_LaTeX
   - *Batch1* - *kprl1batch.uscc.com (10.176.177.177)* 
    - /pkgbl01/inf/aimsys/prdwrk1/eps/monitors
   - *Batch2* - *kprl2batch.uscc.com (10.176.177.178)* 
    - /pkgbl02/inf/aimsys/prdwrk2/eps/monitors
   - *Batch3* - *kprl3batch.uscc.com (10.176.177.179)* 
    - /pkgbl03/inf/aimsys/prdwrk3/eps/monitors
   - *Batch4* – *kprl6batch.uscc.com (10.176.181.123)*
   - *Event1* – *kprl1event.uscc.com (10.176.181.116)*
   - *Event2* – *kprl2event.uscc.com (10.176.181.117)*
   - *Event3* – *kprl3event.uscc.com (10.176.181.118)*
   - *Event4* – *kprl4event.uscc.com (10.176.181.119)*
   - *Event5* – *kprl5event.uscc.com (10.176.181.120)*
   - *Event6* – *kprl6event.uscc.com (10.176.181.121)*
  - *APRM* - *kprl1batch.uscc.com (10.176.177.179)*
    - /inf_nas/apm1/prod/aprmoper/eps/monitors
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
** Event Servers
   There are multiple Event Servers which coresspond to bill cycle and run on the event servers.   
   Their status can be viewed using the following query on the *PRDAF* database. 
   : SELECT * FROM ADJ3_JOBS_INST_CTRL WHERE JOB_NAME = 'ADJ1EVENTSRV';
   From the output if the column *event status = Y* then that particular server is in use. 
   If your job requires an event server that is already in use you can change it to one that is not by using *SQL* below on the *PRDCUST* database logged in as *PRDOPRC*. 

   In this example we are setting the job rec to run using the *ES_EOC1045* event server 

   : Update OP_APP_DATA set data = 'ES_EOC1045'
   :        where JOB_REC = '{Your Job Rec}' and field_seq_num = 1 
   :        and table_NAME IN ('ADJ1EVENTSRV');

** Rerate Servers
   There are three *Rerate Servers* they are:
#+BEGIN_LaTeX
\small
#+END_LaTeX
   1. *RRP_EOC1056*
   2. *RRP_EOC1068*
   3. *RRP_EOC1192*
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
** OutCollect Operational Jobs (CIBER Processing)
  *CIBER* files are a collection of roaming records, these can be
  either a foreign carrier on our network or one of our customers
  on another network. More succinctly there are two
  types of roaming scenarios.
    1. *OutCollects* \\ 
    Non-USCC customers using our network, eventually
       the records created become part of the *OutCollect* process.
    2. *InCollects* \\ 
       USCC customers roaming on another carriers
       network. These records are sent to Syniverse which in turn
       sends them to us and become part of our *InCollect* process. All though InCollects come pre-rated they are still re-rated according to their plan.

   The OutCollect process runs twice a day *1:00 a.m/p.m.*
#+BEGIN_LaTeX
\small
#+END_LaTeX
   - *OUTCOL* \\ 
      Extracts from the *APE1_RATED_EVENT* table and creates files for *MAS*.
   - *ADJ9MAS OUTCOL* \\ 
     Creates files for *SPL1*.
   - *SPL1* - /Daemon/ \\ 
     Processes files as it sees them and creates files for *RGD*.
   - *RGD* - /Daemon/ \\ 
     Processes files as it sees them and creates files for *APP*.
   - *APP* - /Daemon/ \\ 
     Processes files in RD after 12 hours of the last files processed. Output files for *Syniverse*.
   - *MF9FTDTAX* \\ 
     Loads data into *MF9_OUTCOL_TAXES* table
   - *AR9OUTCLTAX* \\ 
     
End-day after *MF9FTDTAX*.
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** OutCollect Files
   These are the file that are created by *TOPS* that will be sent to *Syniverse*.
   - *aprout (OutCollect Directory)* \\
   *pkgbl02/inf/aimsys/prdwrk2/var/usc/projs/apr/interfaces/output*
*** Operational Tables
**** *AC1_CONTROL* 
      The Outbound Syniverse files
      : select * from ac1_control
      : where nxt_pgm_name = 'CBRRPT'
      : and cur_pgm_name = 'APP'
      :
      : FILE_NAME
      : ---------
      : CIBER_CIBER_20130917090101_1312027_0001.dat
      : CIBER_CIBER_20131012092425_1237215_0013.dat
      : CIBER_CIBER_20130927090046_1027159_0012.dat
      : ...
      : CIBER_CIBER_20131011211952_1237215_0012.dat
**** *MF1_CIBER_BATCH_SEQ* 
    Contain the CIBER batch sequence numbers /(See Database Section)/.
** Overage Protection
   Overage notifications are detected on an event by event basis. As events are processed by *TC* and added to 
   the *APE1_ACCUMULATORS* table a check is made against the *L9_FIRST_THRESHOLD/L9_SECOND_THRESHOLD* fields. If an overage is detected the ***FIELD*** CTN is added to file (segregated by unique *TC* file?) in the NTF directory. MFT then pulls these files and delivers to DMI for distribution. A note is added to the NOTIFICATION_HUB.SMS_NOTIFICATION table (ODS) indicating the message was sent by DMI.
*** Overage process flow
#+ATTR_LaTeX: width=15cm
   [[file:Pictures/overage.png]]

*** Output Location
  : select notif_desc, file_path from CM9_NOTIFICATION_DEF
  : where  FILE_PATH = '$ABP_APR_ROOT/interfaces/output/NTF'
  : and FILE_ALIAS = 'SMSNTF'
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
|-----------------------------------------+-------------------------------------|
| *NOTIF_DESC*                            | *FILE_PATH*                         |
|-----------------------------------------+-------------------------------------|
| Overage cap notification on group level | $ABP_APR_ROOT/interfaces/output/NTF |
| Disclaimer notification on group level  | $ABP_APR_ROOT/interfaces/output/NTF |
| Bucket notification on group level      | $ABP_APR_ROOT/interfaces/output/NTF |
|-----------------------------------------+-------------------------------------|

| *prdwrk1@kprl1batch:/pkgbl01/inf/aimsys/prdwrk1/var/usc/projs/apr/interfaces/output/NTF* |
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
*** Fields of Interest
    S - SMS, M - MMS, V - Voice, D - Data, L - LTE => L3_CALL_SOURCE
** Billing Process
  The billing process follows a map which is created by the job *ADJ3_APR_CycleBillRun_Sh*. If it completes successfully it will create a billing map that will look something like the following:


#+ATTR_LaTeX: width=15.5cm
  [[file:Pictures/billing_tc_map-27124108.png]]
** Log File Location
*** Batch 1
    - cdlog - \//pkgbl01\//inf\//aimsys\//prdwrk1\//var\//usc\//log
    - A&F | ssh prdwrk2@kpr02batch | MF1_MD_MD_USC
    - F2E | ssh prdwrk4@kpr02batch | ADJ1_File2E_Daemon_Shell_Sh_F2E
** Alias 
   - *cdlog* - cd to the logfile directory.
   - *cdswitch (Batch1 Only)* - cd to the switch directory.
   - *aprout* - cd to the *CIBER* out directories.
** Operational Terms and Definitions
  - *Front-end Processes*
    - *CRM:* Customer Relationship Manager
      - *Smart Client Designer*
      - *ASCF Designer - Amdocs Smart Client Designer*
      - *APM - Amdocs Process manager*
    -  *RIM:*  Retail Interaction Manager
      - *POS:* Point of sale provided by *Microtelecom*
      - *Pricing Studio* 
      - *ASM Amdocs Security Module*
  - *Provisioning*
    - *AM or AAM - Activation Manager:* Provision Tool
      - *APM:* The Gui front end to *AM*
  - *Usage Acquisition and Rating*
   - *A&F* Acquisition and formatting
   - *Turbo-Charging* Real-time rater
     - *SCP* - Session Control Protocol
   - *MAF now called Acquisition and Formatting*
   - *AMC - Amdocs Monitoring and control*
   - *AEM - Amdocs Error Manager* /replaces EMS/
   - *RLC* - Rating Logic Configurator
  - *Billing*
   - *Billing Configurator*
   - *Invoicing Configurator*
   - *Replenishment Manager*
   - *Designer Studio* /for bill layout/
   - *Pooling* - Everyone brings there services to be shared within
     everyone in the pool. Pooling is customization.
   - *Sharing* - A finite set of resources are set-up and everyone can
     use it.
   - *MRC - Monthly Recurring Charge*
  - *Integration sub-systems*
   - *AIF - Amdocs Integration Framework*
   - *\index{ASM}ASM - Amdocs Security Manager*
   - *APM - Amdocs Process Manager*
   - *MMI - Multimedia Integrator*
   - *OM - Order Manager*
   - *OMS - Order Management System*
** Operational SQL
*** TC Files by Physical File
    - phy_file_ident = {some identifier}
      [[file:docs/Operational%20File%20Query][AC_CONTROL_HIST Query]]
** TC Runbook
   [[file:docs/AB%208%201%20-%20TC%208%201%20SP2%20-%20Run%20Book%20Core.pdf][TC Runbook Version 8.1]]
* TC Oncall Daily Duties:
** Check the Monitors
*** Batch Tab
   - Open Remedy against Amdocs - Tier 2 Billing to restart the scripts when any of the Batch1, Batch2, Batch3, or APRM columns are missing indicating they are down.
   - Open Remedy against Amdocs - Tier 2 Billing to restart the script when any of these scripts are red indicating they are down.\\
    *Batch 1 APPS*\\
    |------------------------------+----+-------|
    | Aged_reject_to_close_prdcust | Up | Jul23 |
    | AnFReport                    | Up | Jul23 |
    | BillingTasks                 | Up | Jul26 |
    | cpni_auto                    | Up | Jul23 |
    | ovpDmiRejectsWA              | Up | Jul26 |
    | ovpMonitorAuto               | Up | Jul24 |
    |------------------------------+----+-------|
    *Batch 2 APPS*\\
    |---------------------------+----+-------|
    | af_fixer                  | Up | Jul27 |
    | auto_error_handle_PRDUSG1 | Up | Jul27 |
    | auto_error_handle_PRDUSG2 | Up | Jul27 |
    | auto_error_handle_PRDUSG3 | Up | Jul27 |
    | auto_error_handle_PRDUSG4 | Up | Jul27 |
    | large_charge              | Up | Jul27 |
    | Log_Monitoring            | Up | 14:19 |
    | pseudoCron                | Up | Jul27 |
    | pseudoCron1day            | Up | Jul27 |
    |---------------------------+----+-------|
    *Batch 2 Filesystem*\\
     |----------+--------+--------+-------------+--------|
     | *Folder* | *Size* | *Used* | *Available* | *Used* |
     |----------+--------+--------+-------------+--------|
     | /var     | 1.9G   | 267M   | 1.6G        |    15% |
     | /tmp     | 5.7G   | 1.8G   | 3.6G        |    34% |
     | /af      | 9.4T   | 2.1T   | 7.4T        |    23% |
     | /JP_FS   | 5.9T   | 2.8T   | 3.2T        |    47% |
     |----------+--------+--------+-------------+--------|

*** Event Tab
    - Open Remedy against Amdocs - Tier 2 Billing to restart the scripts when any of the Event1 through Event6 columns are missing indicating they are down.
    - Open Remedy against Amdocs - Infra Environments to investigate available space when any of the File system % Used sections are red.
*** AC1 Control Tab
    - Open Remedy against Amdocs  for AF and stuck in IU or RD files when creation date and is less than current date.
    - Use the A&F monitor report for <MM/DD/YYYY> and APRM monitor report for <MM/DD/YYYY> emails as supporting evidence, which run every hour.
*** AEM Tab
    - Ignore – monitor was turned off due a conflict with prepaid event transactions.
*** Other Tab
    - Open Remedy against Amdocs - Tier 2 Billing to check on going rerating when rows are in red for more than one day.
** Check Overage Protection Monitor.
   - Go to the MPS mailbox and look for the Overage Notification Count for <MM-DD-YYYY> email.\\
     When received with counts similar to these there are no issues.
   : Total Files: 42987
   : Total Records: 154323
   : 75%: 84418
   : 100%: 69830
   : Disclaimer: 60
   : Balance: 15
     - When count are significantly low open a Sev 3 ticket against Amdocs.
   : Total Files: 2607
   : Total Records: 9458
   : 75%: 5365
   : 100%: 4092
   : Disclaimer: 0
   : Balance: 1
     - Open a Sev 2 ticket against Amdocs when Overage Notification Count FAILED for <MM-DD-YYYY>! is received.
       - Call IS Support at 608-828-5812 to inform them of a Sev 2 or above ticket.
       - Escalate ticket in Remedy, call Amdocs T2.5 on call at 217-766-1979.
       - Email applicable teams the ticket number and description.
   : To:  GSSUSCCTier25RA@amdocs.com
   : Cc:  USCDLISOps-BillingandAROperations@uscellular.com; MPS@uscellular.com
 
** Check .LOG file monitor.
   - Go to the MPS mailbox and look for the Log Monitoring Count for <MM-DD-YYYY> ! email
   - When received with No LOG files where found for  <MM-DD-YYYY> there are no issues.
   - When received with "Log files found for <MM-DD-YYYY> Total Log Files:  <XXXXXX> open a sev 3 Remedy ticket against Amdocs.
     - Escalate ticket in Remedy, call Amdocs T2.5 on call at 217-766-1979.
     - Email applicable teams the ticket number and description.
     : To:  GSSUSCCTier25RA@amdocs.com
     : Cc:  USCDLISOps-BillingandAROperations@uscellular.com; MPS@uscellular.com

** Check AC1_CONTROL Fixer Status.
   - Go to the MPS mailbox and look for the AC1_CONTROL Fixer Status emails.  There are two.  One at ~12:04AM and on at ~4:03AM.
   - The output is similar to what is shown below.  The only action needed is when a Sid is removed other than *SIDS* 45696, 49697, and 49698.  When a Sid other than the aforementioned *SIDS* is removed open a Sev 4 Remedy against Inter-carrier Services, email the ticket number, description, and details to Zachary.Gutter@uscellular.com asking him to validate the Sid.
 
    : Results for the AC1_CONTROL Fixer:
 
    : Fixed /pkgbl02/inf/aimsys/prdwrk2/var/usc/projs/up/physical/
    :       switch/DIRI/SDIRI_FCIBER_ID000069_T20150802185115.DAT 
    : and replaced it with /pkgbl02/inf/aimsys/prdwrk2/var/usc/projs
    :       /up/physical/switch/DIRI/SDIRI_FCIBER_ID000069_T20150802185199

    : Sid:  was removed
 
    : There were 0 CIBER AF files with wr_rec_quantity of 2
 
    : There were 0 out of sequence CIBER files
 
    : There were 0 OutColllects files stuck IU and set to RD
 
    : There were 0 File2E stuck IU/AF files and set to RD
 
    : There were 0 Files stuck FR files and set to RD
 
    : There were 21 ORG records updated at prdusg1c.ape1_subscriber_rerate
    : from num_of_rerate_tries=3 to 1
 
    : There were 14 ORG records updated at prdusg2c.ape1_subscriber_rerate 
    : from num_of_rerate_tries=3 to 1
 
    : There were 28 ORG records updated at prdusg3c.ape1_subscriber_rerate 
    : from num_of_rerate_tries=3 to 1
 
    : There were 28 ORG records updated at prdusg4c.ape1_subscriber_rerate 
    : from num_of_rerate_tries=3 to 1

** Check Large Charge monitor.
   - Go to the MPS mailbox and look for the Large Charge email.
   - When the subject line is other than Large Charge Not Detected - No Action Required open a sev 3 Remedy against Amdocs.
     - Escalate ticket in Remedy, call Amdocs T2.5 on call at 217-766-1979.
     - Email applicable teams the ticket number and description.
     : To:  GSSUSCCTier25RA@amdocs.com
     : Cc:  USCDLISOps-BillingandAROperations@uscellular.com; MPS@uscellular.com
*** High Dollar Amount Recovery Procedure
    *IMPORTANT :  High Dollar amounts must be reversed on the same day they are created.*
    1. Amdocs OCCGMSCPSGUSCCBOPSAR@amdocs.com receives an internal alert indicating there is a high dollar amount issue.
    2. Amdocs OCCGMSCPSGUSCCBOPSAR@amdocs.com calls the USC Billing On-Call Person from the daily Billing Priorities Email as soon as the alert is received.
    3. Amdocs OCCGMSCPSGUSCCBOPSAR@amdocs.com sends an email to the USCDLISOps-BillingandAROperations@uscellular.com email distribution list within 1 hour of the initial internal alert.  This email contains:
       - FA/BAR
       - transaction_id
       - amount (e.g. charges_amount)
       - tax_amount
       - debit_id
       - l9_geo_cod
       - operator_id (associate id)
       - first_name
       - last_name
       - e_mail
       - employee_no
       - work_group
    4. USC forwards the Amdocs communication email to the following Financial Services email addresses within 1 hour of receiving the email communication from Amdocs: 
       - NFSC-TulsaResolutions@uscellular.com  
       - NFSCMADFSHelpDesk@uscellular.com
       - Lane.Dohl@uscellular.com
    5. Financial Services reverses any incorrect transactions and replies to the email distribution list for USC and Amdocs.  If the process is successful, no further action is required.  If there are any other issues, further escalation is needed using our standard processes.  This escalation requires a Sev-3 ticket created and routed to the Amdocs Tier 2 Billing queue.

** Check out of sequence CIBER records monitor.
   - Go to the MPS mailbox and look for the out of sequence CIBER records email.
   - When the subject line is other than No out of sequence CIBER records for <YYYYMMDD> open a sev 4 Remedy against Amdocs.
       - Email applicable teams the ticket number and description.
   : To:  GSSUSCCTier25RA@amdocs.com
   : Cc:  USCDLISOps-BillingandAROperations@uscellular.com; MPS@uscellular.com

** Check Late Usage Processing
   Follow the link below to see a query to find late usage for a given cycle.
   [[/home/dbalchen/workspace/CommonPlace/docs/LateUsage.sql][Late Usage SQL]]
** When Notified Nonfictions.
   - kpr01ebiap maintenance. 
     - Login to the EBI server with your LAN ID and password.
     - Check if AEM and KPI scripts are running.
   : [md1dsmi1@kpr01ebiap eps]$ ps -ef | grep perl | grep md1dsmi1 | grep -v grep
   : md1dsmi1   16566       1  0 Jul30 ?        00:00:00 perl ./aem_purge_trending_split.pl 1 0
   : md1dsmi1 2345044       1  0 Jul28 ?        00:00:00 perl ./aem_error_trending_auto.pl
   : md1dsmi1 2345048       1  0 Jul28 ?        00:00:00 perl ./aem_purge_trending_auto.pl
   : md1dsmi1 2345050       1  0 Jul28 ?        00:00:00 perl ./em1_errors_trending_auto.pl
   : md1dsmi1 2345052       1  0 Jul28 ?        00:00:00 perl ./em1_errors_write_off_auto.pl
   : md1dsmi1 2345053       1  0 Jul28 ?        00:00:00 perl ./remedy_reports_auto.pl
   : md1dsmi1 2345054       1  0 Jul28 ?        00:00:43 perl ./tc_kpi_auto.pl 2 2 1 1
   : md1dsmi1 2345055       1  0 Jul28 ?        00:00:02 perl ./tc_kpi_datain_auto.pl 2 2 1 1
   - Check if Business Report scripts are running.
   : [md1dsmi1@kpr01ebiap eps]$ ps -ef | grep MainLoop | grep -v grep
   : md1dsmi1 2188567       1  0 Jul28 ?        00:00:00 HS1H MainLoop - next: 
   : md1dsmi1 2188568       1  0 Jul28 ?        00:00:00 CancelLineIL MainLoop - next:
   : md1dsmi1 2188569       1  0 Jul28 ?        00:00:00 MADISON MainLoop - next: 
   : md1dsmi1 2188570       1  0 Jul28 ?        00:00:00 CancelLineWI MainLoop - next:
   : md1dsmi1 2188571       1  0 Jul28 ?        00:00:00 daily_counts MainLoop - next:

** Restart AEM and KPI scripts.
   - Login to the EBI server with your LAN ID and password.
   - cd to /home/common/eps/das
   - Run from the command line nohup ./StartAllErrorAndKPI.sh &
 
** Restart Business Report scripts.
   - Login to the EBI server with your LAN ID and password.
   - cd to /home/common/eps/reports
   - Run from the command line nohup ./StartAllReportCron.sh &
 
   Note all scripts use Dave Smith's LAN ID password and when the failure is due to the password being expired please notify him immediately and if he is out of the office wait until he returns to the office to reset his password and update the scripts.

#+BEGIN_LaTeX
\end{landscape} 
\newpage
#+END_LaTeX
* CIBER File Format
** Ciber Record Types
   The *Ciber* standard defines the following record Types:
   - *01* Header
   - *22* Voice (main Record type)
   - *32* Data
   - *52* One time charge
   - *98* Trailer
*** CIBER 01 Record
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lrr
|--------------------------------+------------+---------------|
| *Field*                        | *Position* | *Description* |
|--------------------------------+------------+---------------|
| Record Type                    |        1-2 |               |
| Batch Creation Date            |        3-8 |               |
| Batch Sequence Number          |       9-11 |               |
| Sending Carrier SID/BID        |      12-16 |               |
| Receiving Carrier SID/BID      |      17-21 |               |
| CIBER Record Release Number    |      22-23 |               |
| Original/Return Indicator      |      24-24 |               |
| Currency Type                  |      25-26 |               |
| Settlement Period              |      27-32 |               |
| Clearinghouse ID               |      33-33 |               |
| CIBER Batch Reject Reason Code |      34-35 |               |
| Batch Contents                 |      36-36 |               |
| Local Carrier Reserved         |      37-56 |               |
| System Reserved Filler         |     57-200 |               |
|--------------------------------+------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** CIBER 22 Record
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lrl
|------------------------------------------+------------+---------------|
| *FIELD NAME*                             | *POSITION* | *Description* |
|------------------------------------------+------------+---------------|
| Record Type                              |        1-2 |               |
| Return Code                              |        3-3 |               |
| CIBER Record Return Reason Code          |        4-5 |               |
| Invalid Field Identifier                 |        6-8 |               |
| Home Carrier SID/BID                     |       9-13 |               |
| MSID Indicator                           |      14-14 |               |
| *MSID*                                   |      15-29 |               |
| MSISDN/MDN Length                        |      30-31 |               |
| *MSISDN/MDN*                             |      32-46 |               |
| *ESN/UIMID/IMEI/MEID Indicator*          |      47-47 | 0 = NA        |
|                                          |            | 1 = ESN       |
|                                          |            | 2 = IMEI      |
|                                          |            | 3 = MEID      |
|                                          |            | 4 = pESN      |
| *ESN/UIMID/IMEI/MEID*                    |      48-66 |               |
| *Serving Carrier SID/BID*                |      67-71 |               |
| *Total Charges and Taxes*                |      72-81 |               |
| System Reserved Filler                   |      82-82 |               |
| *Total State/Province Taxes*             |      83-92 |               |
| System Reserved Filler                   |      93-93 |               |
| *Total Local/Other Taxes*                |     94-103 |               |
| System Reserved Filler                   |    104-104 |               |
| *Call Date*                              |    105-110 |               |
| *Call Direction*                         |    111-111 |               |
| Call Completion Indicator                |    112-112 |               |
| Call Termination Indicator               |    113-113 |               |
| Caller ID Length                         |    114-115 |               |
| Caller ID                                |    116-130 |               |
| Called Number Length                     |    131-132 |               |
| *Called Number Digits*                   |    133-147 |               |
| Location Routing Number Length Indicator |    148-149 |               |
| Location Routing Number                  |    150-164 |               |
| TLDN Length                              |    165-166 |               |
| TLDN                                     |    167-181 |               |
| Currency Type                            |    182-183 |               |
| System Reserved Filler                   |    184-185 |               |
| Original Batch Sequence Number           |    186-188 |               |
| Initial Cell Site                        |    189-199 |               |
| Time Zone Indicator                      |    200-201 |               |
| Daylight Savings Indicator               |    202-202 |               |
| Message Accounting Digits                |    203-212 |               |
| Air Connect Time                         |    213-218 |               |
| Air Chargeable Time                      |    219-224 |               |
| Air Elapsed Time                         |    225-230 |               |
| Air Rate Period                          |    231-232 |               |
| Air Multi-Rate Period                    |    233-233 |               |
| *Air Charge*                             |    234-243 |               |
| System Reserved Filler                   |    244-244 |               |
| Other Charge No. 1 Indicator             |    245-246 |               |
| *Other Charge No. 1*                     |    247-256 |               |
| System Reserved Filler                   |    257-257 |               |
| System Reserved Filler                   |    258-270 |               |
| Printed Call                             |    271-285 |               |
| Fraud Indicator                          |    286-287 |               |
| Fraud Sub-Indicator                      |    288-288 |               |
| *Special Features Used*                  |    289-293 |               |
| *Called Place*                           |    294-303 |               |
| *Called State/Province*                  |    304-305 |               |
| *Called Country*                         |    306-308 |               |
| *Serving Place*                          |    309-318 |               |
| *Serving State/Province*                 |    319-320 |               |
| *Serving Country*                        |    321-323 |               |
| Toll Connect Time                        |    324-329 |               |
| Toll Chargeable Time                     |    330-335 |               |
| Toll Elapsed Time                        |    336-341 |               |
| Toll Tariff Descriptor                   |    342-343 |               |
| Toll Rate Period                         |    344-345 |               |
| Toll Multi-Rate Period                   |    346-346 |               |
| Toll Rate Class                          |    347-347 |               |
| Toll Rating Point Length Indicator       |    348-349 |               |
| Toll Rating Point                        |    350-359 |               |
| *Toll Charge*                            |    360-369 |               |
| System Reserved Filler                   |    370-370 |               |
| *Toll State/Province Taxes*              |    371-380 |               |
| System Reserved Filler                   |    381-381 |               |
| *Toll Local Taxes*                       |    382-391 |               |
| System Reserved Filler                   |    392-392 |               |
| Toll Network Carrier ID                  |    393-397 |               |
| Local Carrier Reserved                   |    398-472 |               |
| System Reserved Filler                   |    473-547 |               |
|------------------------------------------+------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** CIBER 32 Record
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lrr
   |------------------------------------------+------------+---------------|
   | *Field*                                  | *Position* | *Description* |
   |------------------------------------------+------------+---------------|
   | Record Type                              |        1-2 |               |
   | Return Code                              |        3-3 |               |
   | CIBER Record Return Reason Code          |        4-5 |               |
   | Invalid Field Identifier                 |        6-8 |               |
   | Home Carrier SID/BID                     |       9-13 |               |
   | MSID Indicator                           |      14-14 |               |
   | MSID                                     |      15-29 |               |
   | MSISDN/MDN Length                        |      30-31 |               |
   | MSISDN/MDN                               |      32-46 |               |
   | ESN/UIMID/IMEI/MEID Indicator            |      47-47 |               |
   | ESN/UIMID/IMEI/MEID                      |      48-66 |               |
   | Serving Carrier SID/BID                  |      67-71 |               |
   | Total Charges and Taxes                  |      72-81 |               |
   | System Reserved Filler                   |      82-82 |               |
   | Total State/Province Taxes               |      83-92 |               |
   | System Reserved Filler                   |      93-93 |               |
   | Total Local Taxes                        |     94-103 |               |
   | System Reserved Filler                   |    104-104 |               |
   | Call Date                                |    105-110 |               |
   | Call Direction                           |    111-111 |               |
   | Call Completion Indicator                |    112-112 |               |
   | Call Termination Indicator               |    113-113 |               |
   | Caller ID Length                         |    114-115 |               |
   | Caller ID                                |    116-130 |               |
   | Called Number Length                     |    131-132 |               |
   | Called Number Digits                     |    133-147 |               |
   | Location Routing Number Length Indicator |    148-149 |               |
   | Location Routing Number                  |    150-164 |               |
   | TLDN Length                              |    165-166 |               |
   | TLDN                                     |    167-181 |               |
   | Currency Type                            |    182-183 |               |
   | System Reserved Filler                   |    184-185 |               |
   | Original Batch Sequence Number           |    186-188 |               |
   | Initial Cell Site                        |    189-199 |               |
   | Time Zone Indicator                      |    200-201 |               |
   | Daylight Savings Indicator               |    202-202 |               |
   | Message Accounting Digits                |    203-212 |               |
   | Charge No. 1 Indicator                   |    213-214 |               |
   | Charge No. 1 Connect Time                |    215-220 |               |
   | Charge No. 1 Chargeable Time             |    221-226 |               |
   | Charge No. 1 Elapsed Time                |    227-232 |               |
   | Charge No. 1 Rate Period                 |    233-234 |               |
   | Charge No. 1 Multi-Rate Period           |    235-235 |               |
   | Charge No. 1 Tax/Surcharge Indicator     |    236-236 |               |
   | Charge No. 1                             |    237-246 |               |
   | System Reserved Filler                   |    247-247 |               |
   | Charge No. 2 Indicator                   |    248-249 |               |
   | Charge No. 2 Connect Time                |    250-255 |               |
   | Charge No. 2 Chargeable Time             |    256-261 |               |
   | Charge No. 2 Elapsed TIme                |    262-267 |               |
   | Charge No. 2 Rate Period                 |    268-269 |               |
   | Charge No. 2 Multi-Rate Period           |    270-270 |               |
   | Charge No. 2 Tax/Surcharge Indicator     |    271-271 |               |
   | Charge No. 2                             |    272-281 |               |
   | System Reserved Filler                   |    282-282 |               |
   | Charge No. 3 Indicator                   |    283-284 |               |
   | Charge No. 3 Connect Time                |    285-290 |               |
   | Charge No. 3 Chargeable Time             |    291-296 |               |
   | Charge No. 3 Elapsed Time                |    297-302 |               |
   | Charge No. 3 Rate Period                 |    303-304 |               |
   | Charge No. 3 Multi-Rate Period           |    305-305 |               |
   | Charge No. 3 Tax/Surcharge Indicator     |    306-306 |               |
   | Charge No. 3                             |    307-316 |               |
   | System Reserved Filler                   |    317-317 |               |
   | Charge No. 4 Indicator                   |    318-319 |               |
   | Charge No. 4 Connect Time                |    320-325 |               |
   | Charge No. 4 Chargeable Time             |    326-331 |               |
   | Charge No. 4 Elapsed Time                |    332-337 |               |
   | Charge No. 4 Rate Period                 |    338-339 |               |
   | Charge No. 4 Multi-Rate Period           |    340-340 |               |
   | Charge No. 4 Tax/Surcharge Indicator     |    341-341 |               |
   | Charge No. 4                             |    342-351 |               |
   | System Reserved Filler                   |    352-352 |               |
   | Blank Fill Serving Place                 |    353-362 |               |
   | Serving State/Province                   |    363-364 |               |
   | Serving Country                          |    365-367 |               |
   | Special Features Used                    |    368-372 |               |
   | Other Charge No. 1 Indicator             |    373-374 |               |
   | Other Charge No. 1                       |    375-384 |               |
   | System Reserved Filler                   |    385-385 |               |
   | System Reserved Filler                   |    386-398 |               |
   | Printed Call                             |    399-413 |               |
   | Fraud Indicator                          |    414-415 |               |
   | Fraud Sub-Indicator                      |    416-416 |               |
   | Features Used After Handoff Indicator    |    417-417 |               |
   | Local Carrier Reserved                   |    418-492 |               |
   | System Reserved Filler                   |    493-567 |               |
   |------------------------------------------+------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX 
*** CIBER 52 Record
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lrr
|---------------------------------+------------+---------------|
| *FIELD*                         | *POSITION* | *Description* |
|---------------------------------+------------+---------------|
| Return Code                     |        3-3 |               |
| CIBER Record Return Reason Code |        4-5 |               |
| Invalid Field Identifier        |        6-8 |               |
| Home Carrier SID/BID            |       9-13 |               |
| MSID Indicator                  |      14-14 |               |
| *MSID*                          |      15-29 |               |
| MSISDN/MDN Length               |      30-31 |               |
| MSISDN/MDN                      |      32-46 |               |
| ESN/UIMID/IMEI/MEID Indicator   |      47-47 |               |
| ESN/UIMID/IMEI/MEID             |      48-66 |               |
| Serving Carrier SID/BID         |      67-71 |               |
| *Total Charges and Taxes*       |      72-81 |               |
| System Reserved Filler          |      82-82 |               |
| *Total State/Province Taxes*    |      83-92 |               |
| System Reserved Filler          |      93-93 |               |
| *Total Local Taxes*             |     94-103 |               |
| System Reserved Filler          |    104-104 |               |
| *OCC Charge/Start Date*         |    105-110 |               |
| Connect Time                    |    111-116 |               |
| OCC End Date                    |    117-122 |               |
| OCC Interval Indicator          |    124-133 |               |
| *OCC Charge*                    |    134-134 |               |
| System Reserved Filler          |    135-159 |               |
| OCC Description Currency Type   |    160-161 |               |
| System Reserved Filler          |    123-123 |               |
| Original Batch Sequence Number  |    164-166 |               |
| Initial Cell Site               |    167-177 |               |
| Time Zone Indicator             |    178-179 |               |
| Daylight Savings Indicator      |    180-180 |               |
| Message Accounting Digits       |    181-190 |               |
| Record Use Indicator            |    191-191 |               |
| Serving Place                   |    192-201 |               |
| Serving State/Province          |    202-203 |               |
| Serving Country                 |    204-206 |               |
| Other Charge No. 1 Indicator    |    207-208 |               |
| Other Charge No. 1              |    209-218 |               |
| System Reserved Filler          |    219-219 |               |
| System Reserved Filler          |    220-232 |               |
| Fraud Indicator                 |    233-234 |               |
| Fraud Sub-Indicator             |    235-235 |               |
| Record Create Date              |    236-241 |               |
| System Reserved Filler          |    220-232 |               |
| Fraud Indicator                 |    233-234 |               |
| Fraud Sub-Indicator             |    235-235 |               |
| Record Create Date              |    236-241 |               |
|---------------------------------+------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** CIBER 98 Record
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lrr
|----------------------------------+------------+---------------|
| *FIELD*                          | *POSITION* | *Description* |
|----------------------------------+------------+---------------|
| Record Type                      |        1-2 |               |
| Batch Creation Date              |        3-8 |               |
| Batch Sequence Number            |       9-11 |               |
| Sending Carrier SID/BID          |      12-16 |               |
| Receiving Carrier SID/BID        |      17-21 |               |
| *Total Number Records in Batch*  |      22-25 |               |
| *Batch Total Charges & Taxes*    |      26-37 |               |
| Settlement Period                |      38-43 |               |
| Clearinghouse ID                 |      44-44 |               |
| System Reserved Filler           |      45-49 |               |
| Original Total Number of Records |      50-53 |               |
| *Original Total Charges & Taxes* |      54-65 |               |
| System Reserved Filler           |      66-73 |               |
| Currency Type                    |      74-75 |               |
| Local Carrier Reserved           |      76-95 |               |
| System Reserved Filler           |     96-200 |               |
|----------------------------------+------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
** US Territories
   These calls are identified as international but are charged domestic rates.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
|--------------+-----------+------------------+------------------------------|
| Country Code | Area Code | ISO Country Code | Description                  |
|--------------+-----------+------------------+------------------------------|
|            1 |       340 | VIR              | United States Virgin Islands |
|            1 |       670 | MNP              | Northern Mariana Islands     |
|            1 |       671 | GUM              | Guam                         |
|            1 |       684 | ASM              | American Samoa               |
|            1 |   787/939 | PRI              | Puerto Rico                  |
|--------------+-----------+------------------+------------------------------|
#+BEGIN_LaTeX
\normalsize
\\
#+END_LaTeX
** Interfaces
*** Roamex/Fraudex
    #+ATTR_LaTeX: width=13cm
    [[file:Pictures/NDC.png]]
	 - *Business Process -* Mediation
	 - *Type -* Batch
	 - *Category -* Batch Redesign
	 - *Service -*   On all *Nortel* switches switch records are
           copied to *mad1rom1*. Then through out the day *Syniverse*
           comes in and finds all the roaming records and runs it
           against there *Fraudx* application to find evidence of
           fraud.
         - *Thoughts and other random musings* \\ For the most part
           the process is a black box and everything is handled by
           *Syniverse*. The file that is sent is raw switch data and at this time
           only *NTI (Nortel)* is supported. For all NDC processes the source,
           compilation and processing occur on the NDC machines where
           the base language is C. 
         - *Questions*
           - [ ] What are the names of the NDC machines.
           - [ ] Where is the source code kept.
	 - *Contacts*
	   - Kyle Matte
	   - Roberto Amezcua

*** OutCollects
    #+ATTR_LaTeX: width=13cm
    [[file:Pictures/outcoll.png]]
   :PICTURE:
digraph BI {
	rankdir=LR;
	"Switch" -> "TOPS \n System"  [label = "CDR's"];
	"TOPS \n System" -> "OutCollect \n file" [label = "Convert \n Ciber \n Records"];
	"OutCollect \n file" -> "Syniverse" [label = "Sent by NDC \n via SFTP"];
}
   :END: 
   - *Business Process -* Mediation
   - *Type -* Batch
   - *Category -* Batch Redesign
   - *Service -*  Send OutCollect data to *Syniverse*.
   - *Process Flow* 
     1. Switch records are passed through the billing system and any
        record that does not belong to a customer gets placed into a file. 
     2. Twice a day the /Ciber_Create/ job is run which takes these
        files and converts them to CIBER records.
     3. Five times a day *NDC* starts a job which sends these files to
        *Syniverse*.
     4. It also when it looks for CIBER files coming back from
        *Syniverse* of our customers who are roaming on other networks.
   - *Thoughts and other random musings* \\ A pretty simple batch
     interface it is here where we can use the new batch standards to
     make sure the transfer is complete.
   - *Contacts*
     - Kyle Matte
     - Roberto Amezcua
** CIBERNET - Specification/Reference
   https://www.one1clear.net/mxp/Login.asp
   - Mobile-X Code: USA-MPS-0001
   - Login: Skeup/SyFAGh
   :  <\\chil-data1\Share\Common\TOPS\outcollects>
** Incollect Voice CIBER
   [[file:docs/Ciber_Voice_Incollects.sql][Voice Operational SQL]]

** Incollect Data CIBER
   [[file:docs/Ciber_Data_Incollects.sql][Data Operational SQL]]

* Unified File Format (UFF)
  In *TOPs* system all *CDRs*, excluding *InCollect/OutCollect CIBER*,
  will be reformatted into a /Unified File Format/ (*UFF*). This
  format will be a standard *Unix/ASCII* formatted *CSV* file using
  '|' *(pipe)* as the delimiter. 

** UFF File Record Format
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=cll
|---------+-------------------------+-------------------------------------------------------------------|
| *Field* | *Field Name*            | *Description*                                                     |
|---------+-------------------------+-------------------------------------------------------------------|
|       1 | Record Type             | HR - Header Record                                                |
|         |                         | DR - Data Record                                                  |
|         |                         | TR - Trailer Record                                               |
|       2 | Service Type            | Initial record type of Usage Record *MOT, PTX, ALU, QIS*,         |
|         |                         | *AAA, TPC, APLX, NTI, PMG, PGW*                                   |
|       3 | Record sequence Number  | A unique numeric identifier for the record.                       |
|       4 | File Number             | A unique identifier that shows the original file                  |
|         |                         | that the record came in from. /(ex. ID044803/)                    |
|       5 | Record Disposition      | The disposition shows the destination of the record               |
|         |                         | in the Mediation process.                                         |
|         |                         | 0 = Rated                                                         |
|         |                         | 1 = Dropped                                                       |
|         |                         | 2 = Error                                                         |
|       6 | Record Code             | The Drop or Error code. The drop and error codes will be defined  |
|         |                         | using present day *AMDOCS* codes as a template. (presently a 3    |
|         |                         | digit integer but will bump to 5 for extra growth)                |
|       7 | Source System           | Switch identifier (See Switch Name and type tab for a complete    |
|         |                         | listing) (Possible Voice values include:                          |
|         |                         | madi, scha etc.) (Data values can include aaa1, vali etc.         |
|       8 | Start Date              | Start date for this event {YYYYMMDD}                              |
|       9 | Start Time              | Start Time for this event {HHMMSSss}                              |
|      10 | Start TimeZone          | Offset in seconds from *GMT*                                      |
|      11 | Home Sid                | Home Switch ID                                                    |
|      12 | Serve SID               | Serving Switch ID                                                 |
|      13 | Originating Cell Trunk  | Initial cell trunk                                                |
|      14 | Terminating Cell Trunk  | Termination Cell trunk                                            |
|      15 | BSID                    | Broadcast Station ID                                              |
|      16 | Carrier ID              | The carrier that handled the events identification symbol.        |
|         |                         | Mostly USCC but may contain others especially in                  |
|         |                         | data roaming situations.                                          |
|      17 | Protocol                | *EVDO, LTE, CDMA*                                                 |
|      18 | Event Type              | *QIS* event type used for reporting and drop logic                |
|      19 | Call Direction          | One of two types:                                                 |
|         |                         | *Mobile Originating (MO)* or *Mobile Terminating (MT)*.           |
|      20 | Originating MSID        | 10-Digit Mobile Identification Number 16 digits for               |
|         |                         | possible future use/Blanks if mobile terminated                   |
|      21 | Identity                | MEID/ESN                                                          |
|      22 | Originating MDN         | In a Mobile Originating call It's the originating callers         |
|         |                         | phone number.                                                     |
|      23 | Originating Address     | IP or Email                                                       |
|      24 | Terminating MSID        | Called MSID this is on Mobile to Mobile records only.             |
|      25 | Terminating Number      | Normalized number /(example 6085551212 instead of 411/            |
|      26 | Dialed Digits           | The untranslated dialed number /(e.g. 441 instead of 555-1212)/   |
|      27 | Terminating Address     | IP Address/Email Name Client IP for *PMG*                         |
|      28 | Termination Code        | *SMS.CALL_TERMINATION_CODE*                                       |
|      29 | Service Feature         | MPS Service feature codes                                         |
|      30 | Call Forwarding Ind     | If the call has been forwarded than true, false otherwise.        |
|         |                         | 0 = False                                                         |
|         |                         | 1 = True                                                          |
|      31 | Call Delivery Ind       | If the call has been through call delivery than true,             |
|         |                         | false otherwise                                                   |
|         |                         | 0 = False                                                         |
|         |                         | 1 = True                                                          |
|         |                         | 2 = CDLX                                                          |
|      32 | Call Waiting Ind        | If the call has been through call waiting than true,              |
|         |                         | false otherwise                                                   |
|         |                         | 0 = False                                                         |
|         |                         | 1 = True                                                          |
|      33 | 3 way Calling Ind       | If the call has been through 3 way calling, false otherwise       |
|         |                         | 0 = False                                                         |
|         |                         | 1 = True                                                          |
|      34 | Call Answered Ind       | If the call has been answered than true, false otherwise.         |
|         |                         | 0 = False                                                         |
|         |                         | 1 = True                                                          |
|      35 | Ring Time               | Total ring time in seconds                                        |
|      36 | Call Duration           | Call duration minus ring-time in seconds.                         |
|         |                         | Includes the duration in seconds of the data session              |
|      37 | Roaming Ind             | Data roaming indicator 0 = False 1 = True                         |
|      38 | Session ID              | Primary Key for AAA, Transaction ID for                           |
|         |                         | PSMS AAA.SESSION_ID <= 64 Chars                                   |
|         |                         | PSMS.TRANS_ID <= 50 Chars                                         |
|         |                         | QIS.EVENT_ID <= 50 chars Used to find the charge code             |
|      39 | Session Type            | For QIS 0 = Charge (only) For PSMS there are two possible values: |
|         |                         | 0 = Charge                                                        |
|         |                         | 1 = Adjustment                                                    |
|         |                         | For *PTX* and *SMS* we can have the following values:             |
|         |                         | *SMSTXT and SMSEMIL*                                              |
|      40 | Bytes In                | Total of incoming bytes associated                                |
|         |                         | this event can also be negative.                                  |
|         |                         | Using this field and the "Bytes Out" field                        |
|         |                         | we can derive the total bytes.                                    |
|      41 | Bytes Out               | Total of outgoing bytes associated with this event contains       |
|         |                         | a signed byte (+-) Using this field and the "Bytes In" field      |
|         |                         | we can derive the total bytes.                                    |
|      42 | Application ID          | QIS = Part ID AAA = AppID PSMS = Short Code                       |
|      43 | Application Type        | QIS = (Download or Subscription) PSMS = (One-Off or Subscription) |
|      44 | Application Name        |                                                                   |
|      45 | Purchase Category Code  | Used by PSMS                                                      |
|      46 | Application Description | Will be used for both QIS and PSMS for QIS it will come from the  |
|         |                         | AE field directly on the record for PSMS it will be a             |
|         |                         | combination of the <short code> <description> <content provider>  |
|         |                         | if it is a "Subscription", "Subscription -" is displayed.         |
|         |                         | If it is a one-off, it is not                                     |
|         |                         | presented in the invoice line item.                               |
|      47 | Content Amount          | Combines Pre-rated usage amount for QIS and PSMS                  |
|      48 | Orig_trans_ID           | Orig Trans ID PSMS.TRANS_ID                                       |
|      49 | Network Flag            | Used by QIS to calculate the charge code.                         |
|         |                         | 0 = not a 1 = is a network application..                          |
|         |                         | Default is 0                                                      |
|      50 | Femto-cell-ringtime     | Will not be needed until after *TOPS* implementation              |
|      51 | Femto-cell-ringpluse    | Will not be needed until after *TOPS* implementation              |
|      52 | LTE Handoff             | This maybe needed after the move to LTE,                          |
|         |                         | so is just used as a placeholder                                  |
|      53 | Market/Sub-market       | The Market and Sub-market for a customer this can also be blank.  |
|         |                         | This field is populated by using a MSID against the MIN_LR        |
|      54 | Originating IMSI        | The IMSI assigned to the SIM card originating a LTE or eHRPD      |
|         |                         | data session. This can be a routing parameter                     |
|         |                         | for LTE or eHRPD traffic.                                         |
|      55 | Adjustment Reason Code  | The Adjustment Reason Code for a PSMS adjustment                  |
|      56 | External Reference ID   | The External Reference ID for a PSMS record                       |
|      57 | Partner ID              | The Partner ID for PSMS record                                    |
|      58 | Campaign ID             | The Campaign ID for a PSMS record                                 |
|      59 | Initiator Type          | The Initiator Type for PSMS record                                |
|      60 | Initiator ID            | The Initiator ID for PSMS record                                  |
|---------+-------------------------+-------------------------------------------------------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
** Header
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
|---------+---------------+-----------------------------------------+--------------------------------|
| *Field* | *Field Name*  | *Description*                           | *Data Type*                    |
|---------+---------------+-----------------------------------------+--------------------------------|
|       1 | Record Type   | The record type for Header is HR        | 4 character alpha-numeric      |
|         |               |                                         |                                |
|       2 | File Number   | file Identifier A unique identifier     | alpha-numeric <= 24 chars and  |
|         |               | that shows the original file that       | have the pattern IDxxxxxxx..   |
|         |               | the record name in from. (ex. ID044803) | Where xxxx is a number that's  |
|         |               |                                         | no greater then 16 char        |
|         |               |                                         |                                |
|       3 | Source System | Switch identifier  (See Switch Name     | alpha-numeric <= 16 characters |
|         |               | and type tab for a complete listing)    |                                |
|         |               | (Possible Voice values include: madi,   |                                |
|         |               | scha etc.) (Data values can include     |                                |
|         |               | aaa1, vali etc.                         |                                |
|         |               |                                         |                                |
|       4 | Start Date    | Start date of file creation {YYYYMMDD}  | Event Date YYYYMMDD            |
|         |               |                                         | 1900 <= YYYY <=9999            |
|         |               |                                         | 01 <= MM <= 12                 |
|         |               |                                         | 01 <= DD <= 31                 |
|         |               |                                         |                                |
|       5 | Start Time    | Start Time for file creation {HHMMSSss} | Switch Time HHMMSSss           |
|         |               |                                         | 00 <= HH <= 23                 |
|         |               |                                         | 00 <= MM <= 59                 |
|         |               |                                         | 00 <= SS <= 59                 |
|         |               |                                         | 00 <= ss <= 59                 |
|---------+---------------+-----------------------------------------+--------------------------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
** Trailer
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
|---------+---------------+------------------------------------------+-----------------------------------------|
| *Field* | *Field Name*  | *Description*                            | *Data Type*                             |
|---------+---------------+------------------------------------------+-----------------------------------------|
|       1 | Record Type   | The record type for Trailer is TR        | 4 character alpha-numeric               |
|         |               |                                          |                                         |
|       2 | File Number   | File Identifier A unique identifier      | alpha-numeric <= 24 chars and have the  |
|         |               | that shows the original file that        | pattern IDxxxxxxx.. Where xxxx is       |
|         |               | the record came in from. (ex. ID044803)  | a number that's no greater then 16 char |
|         |               |                                          |                                         |
|       3 | Source System | Switch identifier  (See Switch Name      | alpha-numeric <= 16 chars               |
|         |               | and type tab for a complete listing)     |                                         |
|         |               | (Data values can include aaa1, vali etc. |                                         |
|         |               |                                          |                                         |
|       4 | End Date      | End date of file creation {YYYYMMDD}     | Event Date YYYYMMDD                     |
|         |               |                                          | 1900 <= YYYY <=9999                     |
|         |               |                                          | 01 <= MM <= 12                          |
|         |               |                                          | 01 <= DD <= 31                          |
|         |               |                                          |                                         |
|       5 | End Time      | End Time of file creation {HHMMSSss}     | Switch Time HHMMSSss                    |
|         |               |                                          | 00 <= HH <= 23                          |
|         |               |                                          | 00 <= MM <= 59                          |
|         |               |                                          | 00 <= SS <= 59                          |
|         |               |                                          | 00 <= ss <= 59                          |
|         |               |                                          |                                         |
|       6 | Total Records | Total number of records in this file     | numeric <= 100000000                    |
|         |               |                                          | (Including Header and trailers)         |
|---------+---------------+------------------------------------------+-----------------------------------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
** Service Feature Codes
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
   |------------------------------------+--------|
   | *Description*                      | *Code* |
   |------------------------------------+--------|
   | (NTI Only)  - Automatic Roaming    | ARM    |
   | Call Delivery Interconnect         | CDLX   |
   | Call Forward Immediate             | CFW    |
   | Call Forward Busy                  | CFB    |
   | Call Forward No Answer Transfer    | CFWTRN |
   | (NTI Only) - Calls to/from hotline | HT     |
   | (NTI Only) -Inter system hand-off  | ISH    |
   | Operator assisted call             | OPA    |
   | (NTI Only) - Vertical feature flag | VFF    |
   | Voice-mail delivery                | VMD    |
   | Voice-mail retrieval               | VMR    |
   | Caller ID Restriction (ID block)   | CIR    |
   |------------------------------------+--------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
** Drop Reason Codes
   /See the Drop Reasons Code spreadsheet/

* Databases
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

   |------------+------------+---------------+-----------------------|
   | *USERNAME* | *PASSWORD* | *DB_INSTANCE* | *Description*         |
   |------------+------------+---------------+-----------------------|
   | PRDAFC     | con8af8    | PRDAF         | Reference Tables      |
   | PRDCUSTC   | con8cst8   | PRDCUST       | Customer              |
   | PRDRPLC    | con8rpl8   | PRDRPL        | Replenishment Manager |
   | PRDOPRC    | con8opr8   | PRDCUST       | Operations            |
   | PRDUSG1C   | con8usg18  | PRDUSG1       | Usage                 |
   | PRDUSG2C   | con8usg28  | PRDUSG2       | Usage                 |
   | PRDUSG3C   | con8usg38  | PRDUSG3       | Usage                 |
   | PRDUSG4C   | con8usg48  | PRDUSG4       | Usage                 |
   | prdappc    | Con5app5   | PRDAPRM       | Aprm                  |
   |------------+------------+---------------+-----------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
** Usage DB by cycle
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
|-------------+------------+-------------------------------------------------|
| *CycleCode* | *Database* | *Description*                                   |
|-------------+------------+-------------------------------------------------|
|           2 | PRDUSG1    | General Cycle close on the 1st                  |
|           4 | PRDUSG4    | General Cycle close on the 3rd                  |
|           6 | PRDUSG4    | General Cycle close on the 5th                  |
|           8 | PRDUSG1    | General Cycle close on the 7th                  |
|          10 | PRDUSG3    | General Cycle close on the 9th                  |
|          12 | PRDUSG2    | General Cycle close on the 11th                 |
|          14 | PRDUSG4    | General Cycle close on the 13th                 |
|          16 | PRDUSG3    | General Cycle close on the 15th                 |
|          18 | PRDUSG2    | General Cycle close on the 17th                 |
|          20 | PRDUSG1    | General Cycle close on the 19th                 |
|          22 | PRDUSG2    | General Cycle close on the 21st                 |
|          24 | PRDUSG3    | General Cycle close on the 23rd                 |
|          26 | PRDUSG4    | General Cycle close on the 25th                 |
|          28 | PRDUSG3    | General Cycle close on the 27th                 |
|          77 | PRDUSG1    | Dropped events cycle                            |
|          80 | PRDUSG3    | Rejected events cycle                           |
|          99 | PRDUSG2    | Reserved for OutCollect Cycle close on the 31th |
|        1002 | PRDUSG2    | Reseller Cycle close on the 1st                 |
|        1004 | PRDUSG1    | Reseller Cycle close on the 3rd                 |
|        1006 | PRDUSG1    | Reseller Cycle close on the 5th                 |
|        1008 | PRDUSG3    | Reseller Cycle close on the 7th                 |
|        1010 | PRDUSG2    | Reseller Cycle close on the 9th                 |
|        1012 | PRDUSG4    | Reseller Cycle close on the 11th                |
|        1014 | PRDUSG1    | Reseller Cycle close on the 13th                |
|        1016 | PRDUSG2    | Reseller Cycle close on the 15th                |
|        1018 | PRDUSG4    | Reseller Cycle close on the 17th                |
|        1020 | PRDUSG3    | Reseller Cycle close on the 19th                |
|        1022 | PRDUSG3    | Reseller Cycle close on the 21st                |
|        1024 | PRDUSG1    | Reseller Cycle close on the 23rd                |
|        1026 | PRDUSG4    | Reseller Cycle close on the 25th                |
|        1028 | PRDUSG2    | Reseller Cycle close on the 27th                |
|-------------+------------+-------------------------------------------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

** DB Preparation
   For each DB instance, except ODS and SIT, You need to alter the session before you can use it.\\ For example  for usage 1 type
   : ALTER SESSION SET CURRENT_SCHEMA=PRDUSG1C
\newpage
#+BEGIN_LaTeX
\begin{landscape}  
#+END_LaTeX
** SQL Join Reference
#+ATTR_LaTeX: width=20cm
   [[file:Pictures/Sql_Joins.png]]
#+BEGIN_LaTeX
\end{landscape} 
\newpage
#+END_LaTeX
** Production Database Tables
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
|---------------------------+-------------+----------------------|
| *Table Name*              | Database*   | Description          |
|---------------------------+-------------+----------------------|
| *AC1_CONTROL*             | PRDCUST     | Check both PRDCUST   |
| *AC1_CONTROL_HIST*        | PRDAF       | and PRDAF            |
| SERVICE_AGREEMENT         | PRDCUST     |                      |
| CSM_OFFER                 | PRDCUST     |                      |
| SUBSCRIBER                | PRDCUST     |                      |
| *CM1_AGREEMENT_PARAM*     | PRDCUST     | Used for data        |
|                           |             | cap issues.          |
| *APE1_RATED_EVENT*        | PRDUSG(1-4) |                      |
| APE1_REJECTED_EVENT       | PRDUSG(1-4) |                      |
| *APE1_ACCUMULATORS*       | PRDUSG(1-4) |                      |
| *AC_PHYSICAL_FILES*       | PRDUSG(1-4) |                      |
| *AC_SOURCE*               | PRDCUST     |                      |
| *AGD1_RESOURCES*          | PRDAF       |                      |
| ADJ1_CYCLE_STATE          |             |                      |
| APR1_NOTIFICATIONS_CTL    |             |                      |
| AUH1_CTRL                 |             |                      |
| APE1_SUBSCRIBER_RERATE    | PRDUSG(1-4) |                      |
| APE1_SUBSCR_DATA          | PRDUSG(1-4) | /See the BPT/        |
| *APE1_SUBSCR_OFFERS*      | PRDUSG(1-4) | /for the definition/ |
| APE1_SUBSCR_PARAMS        | PRDUSG(1-4) | /of these tables/    |
| APE1_CUST_CYCLE_HISTORY   | PRDUSG(1-4) |                      |
| APE3_EPCEXT_OFFER_DETAILS | PRDCUST     |                      |
|---------------------------+-------------+----------------------|
*** CM1_AGREEMENT_PARAM
    In the PRDCUST database used for data cap and overage protection investigations.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
|-------------------+----------------------+-------------------|
| Name              | Data Type            | Description       |
|-------------------+----------------------+-------------------|
| AGREEMENT_KEY     | NUMBER (9)           |                   |
| AGREEMENT_NO      | NUMBER (10)          | Is equal to the   |
|                   |                      | subscriber number |
| PARAM_SEQ_NO      | NUMBER (10)          |                   |
| SYS_CREATION_DATE | DATE                 |                   |
| SYS_UPDATE_DATE   | DATE                 |                   |
| OPERATOR_ID       | NUMBER (9)           |                   |
| APPLICATION_ID    | CHAR (6 Byte)        |                   |
| DL_SERVICE_CODE   | CHAR (5 Byte)        |                   |
| DL_UPDATE_STAMP   | NUMBER (4)           |                   |
| PARAM_NAME        | VARCHAR2 (255 Byte)  |                   |
| PARAM_VALUES      | VARCHAR2 (4000 Byte) |                   |
| EFFECTIVE_DATE    | DATE                 |                   |
| EXPIRATION_DATE   | DATE                 |                   |
| AGR_LEVEL         | CHAR (1 Byte)        |                   |
| SOURCE_AGR_NO     | NUMBER (10)          |                   |
| TRX_ID            | NUMBER (10)          |                   |
| INS_TRX_ID        | NUMBER (10)          |                   |
| EFF_ISSUE_DATE    | DATE                 |                   |
| EXP_ISSUE_DATE    | DATE                 |                   |
| CONV_RUN_NO       | NUMBER (10)          |                   |
| OFFER_INSTANCE_ID | NUMBER (10)          |                   |
|-------------------+----------------------+-------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** AC1_CONTROL (-HIST)
    Similar to *ac_processing_accounting* there are two tables with the same name but in different databases, *PRDAF* (Usage) and *PRDCUST* (AR). 
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|------------------------+--------------------+-------------|
| *Column Name*          | *Data Type*        | Description |
|------------------------+--------------------+-------------|
| *IDENTIFIER*           | NUMBER(15,0)       |             |
| SYS_CREATION_DATE      | DATE               |             |
| SYS_UPDATE_DATE        | DATE               |             |
| OPERATOR_ID            | NUMBER(9,0)        |             |
| APPLICATION_ID         | CHAR(6 BYTE)       |             |
| DL_SERVICE_CODE        | CHAR(5 BYTE)       |             |
| DL_UPDATE_STAMP        | NUMBER(4,0)        |             |
| *FILE_NAME*            | VARCHAR2(200 BYTE) |             |
| *FILE_PATH*            | VARCHAR2(512 BYTE) |             |
| FILE_SEQ_NO            | NUMBER(6,0)        |             |
| HOST_NAME              | VARCHAR2(50 BYTE)  |             |
| DATA_GROUP             | VARCHAR2(64 BYTE)  |             |
| FILE_CREATE_DATE       | DATE               |             |
| *FILE_STATUS*          | VARCHAR2(2 BYTE)   |             |
| *ORIGIN_FILE_IDENT*    | NUMBER(15,0)       |             |
| *PHY_FILE_IDENT*       | NUMBER(15,0)       |             |
| CUR_PGM_NAME           | VARCHAR2(32 BYTE)  |             |
| CUR_FILE_ALIAS         | VARCHAR2(10 BYTE)  |             |
| NXT_PGM_NAME           | VARCHAR2(32 BYTE)  |             |
| NXT_FILE_ALIAS         | VARCHAR2(10 BYTE)  |             |
| FILE_FORMAT            | VARCHAR2(10 BYTE)  |             |
| FILE_GROUP             | CHAR(1 BYTE)       |             |
| FILE_TYPE              | CHAR(2 BYTE)       |             |
| REPRO_IND              | CHAR(1 BYTE)       |             |
| SOURCE_TYPE            | CHAR(10 BYTE)      |             |
| SOURCE_FILE_TYPE       | CHAR(10 BYTE)      |             |
| FILE_DELETED_IND       | CHAR(1 BYTE)       |             |
| SYSTEM_ID              | CHAR(5 BYTE)       |             |
| ABP_VAR                | VARCHAR2(512 BYTE) |             |
| PRIORITY               | CHAR(1 BYTE)       |             |
| WR_REC_QUANTITY        | NUMBER(9,0)        |             |
| WR_TIME_QUANTITY       | NUMBER(13,2)       |             |
| WR_MONEY_QUANTITY      | NUMBER(13,2)       |             |
| WR_EURO_QUANTITY       | NUMBER(13,2)       |             |
| IN_REC_QUANTITY        | NUMBER(9,0)        |             |
| IN_TIME_QUANTITY       | NUMBER(13,2)       |             |
| IN_MONEY_QUANTITY      | NUMBER(13,2)       |             |
| IN_EURO_QUANTITY       | NUMBER(13,2)       |             |
| GN_REC_QUANTITY        | NUMBER(9,0)        |             |
| GN_TIME_QUANTITY       | NUMBER(13,2)       |             |
| GN_MONEY_QUANTITY      | NUMBER(13,2)       |             |
| GN_EURO_QUANTITY       | NUMBER(13,2)       |             |
| DR_REC_QUANTITY        | NUMBER(9,0)        |             |
| DR_TIME_QUANTITY       | NUMBER(13,2)       |             |
| DR_MONEY_QUANTITY      | NUMBER(13,2)       |             |
| DR_EURO_QUANTITY       | NUMBER(13,2)       |             |
| PROCESSED_REC_NO       | NUMBER(9,0)        |             |
| REJECTED_REASON_CD     | CHAR(3 BYTE)       |             |
| OWNER_NAME             | VARCHAR2(50 BYTE)  |             |
| TABLE_ALIAS            | NUMBER(5,0)        |             |
| NXT_PROCESS_ID         | NUMBER(9,0)        |             |
| NXT_PROCESS_START_TIME | DATE               |             |
| CUR_PROCESS_ID         | NUMBER(9,0)        |             |
| MAX_EVENT_TIME         | DATE               |             |
| LOGICAL_FILE_IDENT     | NUMBER(15,0)       |             |
| TABLE_ISSUE_CODE       | NUMBER(9,0)        |             |
| EXTERNAL_ID            | VARCHAR2(32 BYTE)  |             |
| DEST_ROUT_CRTRIA       | VARCHAR2(24 BYTE)  |             |
| STATUS_CATEGORY        | VARCHAR2(20 BYTE)  |             |
| STATUS_CODE            | VARCHAR2(200 BYTE) |             |
| APPLICATION_CODE       | VARCHAR2(50 BYTE)  |             |
| FILE_SIZE              | NUMBER(15,0)       |             |
| RECYCLE_COUNTER        | NUMBER(15,0)       |             |
| GROUP_SEQUENCE         | NUMBER(15,0)       |             |
| OUT_REQ_QUANTITY       | NUMBER(9,0)        |             |
| BULK_ID                | NUMBER(9,0)        |             |
| STORE_MODE             | CHAR(2 BYTE)       |             |
| SESSION_ID             | NUMBER(15,0)       |             |
| TARGET_FILE_PATH       | VARCHAR2(512 BYTE) |             |
| TARGET_HOST            | VARCHAR2(50 BYTE)  |             |
| EXT_IDENTIFIER         | NUMBER(9,0)        |             |
| EXT_ORIG_IDENT         | NUMBER(9,0)        |             |
| ADDITIONAL_ATTR        | VARCHAR2(300 BYTE) |             |
| GROUP_SIZE             | NUMBER(4,0)        |             |
| MONITOR_DATA           | VARCHAR2(50 BYTE)  |             |
| WR_VOLUME_QUANTITY     | NUMBER(15,2)       |             |
| IN_VOLUME_QUANTITY     | NUMBER(15,2)       |             |
| GN_VOLUME_QUANTITY     | NUMBER(15,2)       |             |
| DR_VOLUME_QUANTITY     | NUMBER(15,2)       |             |
| END_PROCESS_TIME       | DATE               |             |
| FR_TIME                | DATE               |             |
| ENG_PRIORITY           | NUMBER(1,0)        |             |
|------------------------+--------------------+-------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** APE1_RATED_EVENT
    Where all the rateable events are contained. Most data inquires
    usually wind up here.

#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|------------------------------+---------------------+-----------------------|
| *Column Name*                | *Data Type*         | *Description*         |
|------------------------------+---------------------+-----------------------|
| *CYCLE_CODE*                 | NUMBER (4)          | See usage DB by Cycle |
|                              |                     | for complete list.    |
| *CYCLE_INSTANCE*             | NUMBER (2)          | cycle month           |
| CUSTOMER_SEGMENT             | NUMBER (4)          |                       |
| *CUSTOMER_ID*                | NUMBER (10)         |                       |
| EVENT_ID                     | NUMBER (18)         |                       |
| *SUBSCRIBER_ID*              | NUMBER (10)         |                       |
| START_TIME                   | DATE                |                       |
| *EVENT_TYPE_ID*              | NUMBER (9)          | The event type        |
|                              |                     | Voice - 62            |
|                              |                     | Data - 51             |
|                              |                     | LTE - 69              |
|                              |                     | SMS - 54              |
|                              |                     | MMS - 60              |
|                              |                     | Volte - 69            |
|                              |                     | /See wiki table/      |
|                              |                     | /for complete list/   |
| TARGET_CYCLE_CODE            | NUMBER (4)          |                       |
| CYCLE_YEAR                   | NUMBER (4)          |                       |
| BILLING_ARRANGEMENT          | NUMBER (18)         |                       |
| SOURCE_ID                    | NUMBER (15)         |                       |
| EVENT_STATE                  | CHAR (1 Byte)       | X = Stripped          |
| EVENT_STATE_REASON_CODE      | CHAR (5 Byte)       |                       |
| RERATE_TYPE                  | CHAR (1 Byte)       |                       |
| ORIGINAL_EVENT_ID            | NUMBER (18)         |                       |
| RESOURCE_VALUE               | VARCHAR2 (63 Byte)  |                       |
| *RESOURCE_TYPE*              | VARCHAR2 (16 Byte)  | 0  - MDN              |
|                              |                     | 19 - MIN              |
|                              |                     | 21 - OutCollects      |
|                              |                     | 23 - imsi             |
| SYS_CREATION_DATE            | DATE                |                       |
| SYS_UPDATE_DATE              | DATE                |                       |
| OPERATOR_ID                  | NUMBER (9)          |                       |
| APPLICATION_ID               | CHAR (6 Byte)       |                       |
| DL_SERVICE_CODE              | CHAR (5 Byte)       |                       |
| DL_UPDATE_STAMP              | NUMBER (4)          |                       |
| UPDATE_ID                    | NUMBER (9)          |                       |
| VERSION_ID                   | NUMBER (9)          |                       |
| NETWORK_START_TIME           | DATE                |                       |
| EVENT_STATUS                 | CHAR (1 Byte)       |                       |
| EVENT_COUNTERS               | NUMBER (20)         |                       |
| TOKEN_ID                     | NUMBER (20)         |                       |
| L3_ACCOUNT                   | NUMBER              |                       |
| L3_ADDITIONAL_CHG_AMT        | NUMBER              |                       |
| L3_AIRTIME_CHG_AMT           | NUMBER              |                       |
| L3_BASIC_SERVICE_CODE        | VARCHAR2 (2 Byte)   |                       |
| *L3_CALLING_COUNTRY_CODE*    | VARCHAR2 (3 Byte)   |                       |
| *L3_CALL_CATEGORY*           | VARCHAR2 (1 Byte)   | Volte = 'V'           |
| *L3_CALL_DIRECTION*          | VARCHAR2 (1 Byte)   | 1 = incoming          |
|                              |                     | 2 = outgoing          |
| L3_CALL_SOURCE               | VARCHAR2 (4 Byte)   |                       |
| *L3_CHARGE_AMOUNT*           | NUMBER              | The amount charged    |
| L3_CHARGE_CODE               | VARCHAR2 (15 Byte)  |                       |
| L3_CHG_AMT_INC_FREE_ALLOW    | NUMBER              |                       |
| L3_CUSTOMER_OFFER_CURRENCY   | VARCHAR2 (3 Byte)   |                       |
| L3_DISCOUNT_AMOUNT           | NUMBER              |                       |
| *L3_DURATION*                | NUMBER              |                       |
| *L3_IMSI*                    | VARCHAR2 (15 Byte)  |                       |
| *L3_OFFER_ID*                | NUMBER              | The price plan        |
|                              |                     | the event was         |
|                              |                     | rated against.        |
| L3_ORIGINAL_CHARGE_AMOUNT    | NUMBER              |                       |
| L3_PAYMENT_CATEGORY          | VARCHAR2 (4 Byte)   |                       |
| L3_PAY_CHANNEL               | NUMBER              |                       |
| *L3_PHYSICAL_FILE_ID*        | NUMBER              |                       |
| L3_PRICING_ITEM_ID           | NUMBER              |                       |
| L3_ROUNDED_UNIT              | NUMBER              |                       |
| L3_SPECIAL_NUMBER_GROUP      | VARCHAR2 (10 Byte)  |                       |
| L3_STARTING_PERIOD           | VARCHAR2 (10 Byte)  |                       |
| L3_TARGET_CUSTOMER_ID        | NUMBER              |                       |
| L3_UNAPPLIED_AMOUNT          | NUMBER              |                       |
| L3_UOM                       | VARCHAR2 (1 Byte)   |                       |
| L3_VOLUME                    | NUMBER              |                       |
| *SERVICE_FILTER*             | VARCHAR2 (15 Byte)  |                       |
| L9_CALL_TAX_INDICATOR        | VARCHAR2 (2 Byte)   |                       |
| L9_ORIGINATING_CELL_ID       | VARCHAR2 (16 Byte)  |                       |
| L9_NUMBER_OF_RECIPIENTS      | NUMBER              |                       |
| L9_CROSS_TOLL_PERIOD_IND     | VARCHAR2 (1 Byte)   |                       |
| L9_CHARGE_TYPE               | VARCHAR2 (4 Byte)   |                       |
| L9_FILE_NUMBER               | VARCHAR2 (24 Byte)  |                       |
| L9_AIR_TAX                   | NUMBER              |                       |
| L9_SURCHARGE_INDICATOR       | VARCHAR2 (1 Byte)   |                       |
| L9_SPECIAL_FEATURES_USED     | VARCHAR2 (2 Byte)   |                       |
| L9_ORIGINAL_TOLL_CHARGE      | NUMBER              |                       |
| *L9_CALLED_NUMBER*           | VARCHAR2 (256 Byte) |                       |
| L9_ORIGINATING_CATEGORY      | VARCHAR2 (6 Byte)   |                       |
| L9_VOLUME_TYPE               | VARCHAR2 (2 Byte)   |                       |
| L9_TOLL_TYPE_INDICATOR       | VARCHAR2 (2 Byte)   |                       |
| L9_ORIGINAL_ADD_CHRG_AMT     | NUMBER              |                       |
| L9_TERMINATION_REASON        | VARCHAR2 (8 Byte)   |                       |
| L9_TOLL_CHRG_AMT_INC_ALWNCE  | NUMBER              |                       |
| L9_AIR_RERATE_IND            | VARCHAR2 (1 Byte)   |                       |
| L9_NETWORK_FLAG              | VARCHAR2 (1 Byte)   |                       |
| *L9_CALLED_PLACE*            | VARCHAR2 (10 Byte)  |                       |
| L9_SURCHARGE_TYPE            | VARCHAR2 (1 Byte)   |                       |
| L9_SPECIAL_NUMBER_TYPE       | VARCHAR2 (32 Byte)  |                       |
| L9_PERIOD_NAME               | VARCHAR2 (10 Byte)  |                       |
| L9_CORRELATION_ID            | VARCHAR2 (14 Byte)  |                       |
| L9_ADDITIONAL_RATE_OFFER_ID  | NUMBER              |                       |
| L9_CROSS_PERIOD_IND          | VARCHAR2 (1 Byte)   |                       |
| L9_PRICE_PLAN_OFFER_ID       | NUMBER              |                       |
| L9_TOLL_RERATE_IND           | VARCHAR2 (1 Byte)   |                       |
| L9_SERVING_PLACE             | VARCHAR2 (26 Byte)  |                       |
| L9_ORIGINAL_TAX              | NUMBER              |                       |
| L9_TOLL_OFFER_INSTANCE       | NUMBER              |                       |
| L9_TERMINATING_CELL_ID       | VARCHAR2 (16 Byte)  |                       |
| L9_VISITOR_INDICATOR         | VARCHAR2 (1 Byte)   |                       |
| *L9_BAND_CODE*               | VARCHAR2 (1 Byte)   |                       |
| L9_VALIDITY_TIME             | NUMBER              |                       |
| L9_TOLL_OFFER_ID             | NUMBER              |                       |
| L9_ROUNDED_TOLL_DURATION     | NUMBER              |                       |
| *L9_CARRIER_ID*              | VARCHAR2 (16 Byte)  |                       |
| L9_SPECIAL_NUMBER            | VARCHAR2 (32 Byte)  |                       |
| L9_TOLL_CHARGE_AMOUNT        | NUMBER              |                       |
| L9_TOLL_DURATION             | NUMBER              |                       |
| L9_AIR_TIME_IND              | VARCHAR2 (1 Byte)   |                       |
| L9_EVENT_TYPE_NAME           | VARCHAR2 (50 Byte)  |                       |
| L9_RECORD_SEQUENCE_NUMBER    | NUMBER              |                       |
| *L9_SERVE_SID*               | VARCHAR2 (5 Byte)   |                       |
| *L9_DOWNLINK_VOLUME*         | NUMBER              |                       |
| *L9_CALLING_NUMBER*          | VARCHAR2 (256 Byte) |                       |
| L9_CALL_COMPLETION_CODE      | NUMBER              |                       |
| *L9_UPLINK_VOLUME*           | NUMBER              |                       |
| *L9_DIALED_DIGITS*           | VARCHAR2 (32 Byte)  |                       |
| L9_TOLL_RATE_CLASS           | VARCHAR2 (1 Byte)   |                       |
| L9_EHA_INDICATOR             | VARCHAR2 (1 Byte)   |                       |
| *L9_RING_TIME*               | NUMBER              |                       |
| L9_TOLL_TAX                  | NUMBER              |                       |
| L9_CURRENCY_TYPE             | VARCHAR2 (2 Byte)   |                       |
| L9_CALLING_STATE             | VARCHAR2 (2 Byte)   |                       |
| L9_TOLL_ITEM_ID              | NUMBER              |                       |
| L9_CUSTOMER_SUB_TYPE         | VARCHAR2 (15 Byte)  |                       |
| *L9_APPLICATION_ID*          | VARCHAR2 (64 Byte)  | Used for Brew         |
| L9_ORIG_TRANS_ID             | VARCHAR2 (64 Byte)  |                       |
| *L9_CALL_ANSWERED_INDICATOR* | VARCHAR2 (1 Byte)   |                       |
| L9_DESTINATION_CATEGORY      | VARCHAR2 (6 Byte)   |                       |
| L9_SURCHARGE_AMOUNT          | NUMBER              |                       |
| L9_DESTINATION_STATE_CODE    | VARCHAR2 (2 Byte)   |                       |
| L9_REDIRECT_NUMBER           | VARCHAR2 (32 Byte)  |                       |
| L9_TOLL_CHARGE_CODE          | VARCHAR2 (15 Byte)  |                       |
| L9_CUSTOMER_TYPE             | VARCHAR2 (1 Byte)   |                       |
| *L9_HOME_SID*                | VARCHAR2 (5 Byte)   |                       |
| L9_STARTING_CALL_TOLL_PERIOD | VARCHAR2 (10 Byte)  |                       |
| L9_CALLED_COUNTRY            | VARCHAR2 (3 Byte)   |                       |
| L9_AIR_ELAPSED_TIME          | NUMBER              |                       |
| *L9_ORIGINATING_ADDRESS*     | VARCHAR2 (26 Byte)  | Orig Address from UFF |
| L9_ADDITIONAL_CHARGE_TAX     | NUMBER              |                       |
| L9_DESTINATION_CITY_NAME     | VARCHAR2 (30 Byte)  |                       |
| L9_MEDIA_TYPE                | VARCHAR2 (1 Byte)   |                       |
| L9_TOLL_PERIOD_NAME          | VARCHAR2 (10 Byte)  |                       |
| *L9_CALL_TYPE*               | VARCHAR2 (1 Byte)   | 1 = International     |
|                              |                     | L= Local (SMS Only)   |
| L9_RERATE_INDICATOR          | VARCHAR2 (1 Byte)   |                       |
| L9_NT_ROAMING_IND            | VARCHAR2 (1 Byte)   |                       |
| L9_OFFER_INSTANCE            | NUMBER              |                       |
| L9_DAILY_SURCHARGE_IND       | VARCHAR2 (1 Byte)   |                       |
| *L9_INCOLLECT_INDICATOR*     | VARCHAR2 (1 Byte)   | If true then its      |
|                              |                     | an InCollect.         |
| L9_SESSION_IDENTIFIER        | VARCHAR2 (128 Byte) |                       |
| L9_FREE_UNIT                 | NUMBER              |                       |
| L9_EXT_TRX_ID                | VARCHAR2 (18 Byte)  |                       |
| *L9_ROAMING_IND*             | VARCHAR2 (1 Byte)   | Used for Data         |
|                              |                     | 2 = Roaming           |
| L9_BALANCE_EXP_DATE          | DATE                |                       |
| L9_ORIG_ADDITIONAL_CHG_TAX   | NUMBER              |                       |
| L9_METHOD                    | VARCHAR2 (50 Byte)  |                       |
| L9_RECHARGE_ID               | NUMBER              |                       |
| L9_ANNOUNCEMENT_PARAM        | VARCHAR2 (50 Byte)  |                       |
| L9_REASON                    | VARCHAR2 (10 Byte)  |                       |
| L9_ACTIVITY_AMOUNT           | NUMBER              |                       |
| L9_CHANNEL                   | VARCHAR2 (100 Byte) |                       |
| L9_BLOCKED_NUMBER_IND        | VARCHAR2 (1 Byte)   |                       |
| L9_REMAINING_BALANCE_AMT     | NUMBER              |                       |
| *L9_MIN*                     | VARCHAR2 (10 Byte)  | MSID                  |
| *L9_EQUIPMENT_ID*            | VARCHAR2 (32 Byte)  | PostPaid = ESN        |
|                              |                     | PrePaid = 0           |
| L9_THRESHOLD_AMOUNT          | NUMBER              |                       |
| *L9_SERVICE_FEATURE*         | VARCHAR2 (128 Byte) |                       |
| L9_ORIGINAL_AIR_TIME_CHG_AMT | NUMBER              |                       |
| L9_BE                        | NUMBER              |                       |
| L9_CHARG_BEYOND_CAP          | NUMBER              |                       |
| *L9_IS_ONLINE*               | VARCHAR2 (1 Byte)   | Y = *Pre-Pay*         |
| L9_VOLUME_PER_TYPE           | VARCHAR2 (512 Byte) |                       |
| L9_UNITS_BEYOND_CAP          | NUMBER              |                       |
| L9_VOLUME_COMPLEX            | VARCHAR2 (512 Byte) |                       |
| *L9_M2M_IND*                 | VARCHAR2 (2 Byte)   | Mobile to Mobile      |
| L9_BALANCE_AMOUNT            | NUMBER              |                       |
| L9_CALLING_AREA_NAME         | VARCHAR2 (50 Byte)  |                       |
| *L9_TOLL_FREE_IND*           | VARCHAR2 (1 Byte)   | Y = Toll Free         |
| *L9_PARTNER_ID*              | VARCHAR2 (64 Byte)  |                       |
| L9_EXT_REF_ID                | VARCHAR2 (64 Byte)  |                       |
| L9_CAMPAIGN_ID               | VARCHAR2 (64 Byte)  |                       |
| L9_APPLICATION_TYPE          | VARCHAR2 (64 Byte)  |                       |
| L9_APPLICATION_DESCRIPTION   | VARCHAR2 (193 Byte) |                       |
| L9_CHARGE_CODE_DESCRIPTION   | VARCHAR2 (193 Byte) |                       |
| L9_SYSTEM_SERVICE            | VARCHAR2 (4 Byte)   |                       |
| L9_INITIATOR_ID              | VARCHAR2 (64 Byte)  |                       |
| L9_ADJ_REASON_CD             | VARCHAR2 (64 Byte)  |                       |
| L9_INITIATOR_TYPE            | VARCHAR2 (19 Byte)  |                       |
|------------------------------+---------------------+-----------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** APE1_ACCUMULATORS
    The accumulation tables this is what is presented on the bill.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|--------------------------------+---------------------+---------------------|
| *Column Name*                  | *Data Type*         | Description         |
|--------------------------------+---------------------+---------------------|
| *CYCLE_CODE*                   | NUMBER(4,0)         |                     |
| *CYCLE_INSTANCE*               | NUMBER(2,0)         | Cycle Instance = 0  |
|                                |                     | Pre-Paid Subscriber |
| CUSTOMER_SEGMENT               | NUMBER(4,0)         |                     |
| *CUSTOMER_ID*                  | NUMBER(10,0)        |                     |
| *ACCUM_TYPE_ID*                | NUMBER(9,0)         |                     |
| OWNER_ID                       | NUMBER(10,0)        |                     |
| OWNER_TYPE                     | CHAR(1 BYTE)        |                     |
| ITEM_ID                        | NUMBER(9,0)         |                     |
| OFFER_INSTANCE                 | NUMBER(10,0)        |                     |
| DIMENSION_ID                   | NUMBER(5,0)         |                     |
| *CYCLE_YEAR*                   | NUMBER(4,0)         |                     |
| SYS_CREATION_DATE              | DATE                |                     |
| SYS_UPDATE_DATE                | DATE                |                     |
| OPERATOR_ID                    | NUMBER(9,0)         |                     |
| APPLICATION_ID                 | CHAR(6 BYTE)        |                     |
| DL_SERVICE_CODE                | CHAR(5 BYTE)        |                     |
| DL_UPDATE_STAMP                | NUMBER(4,0)         |                     |
| UPDATE_ID                      | NUMBER(9,0)         |                     |
| VERSION_ID                     | NUMBER(9,0)         |                     |
| GLOBAL_ACCUM_IND               | CHAR(1 BYTE)        |                     |
| CROSS_CYCLE_IND                | CHAR(1 BYTE)        |                     |
| *ACCUM_ID*                     | NUMBER(9,0)         |                     |
| RERATE_TYPE                    | CHAR(1 BYTE)        |                     |
| ACCOUNT                        | NUMBER              |                     |
| *ACCUM_CHARGE*                 | NUMBER              |                     |
| *ACCUM_CHG_INCL_FREE_ALLW*     | NUMBER              |                     |
| *ACCUM_FREE_UNIT*              | NUMBER              |                     |
| *ACCUM_UNIT*                   | NUMBER              |                     |
| BILLING_ARRANGEMENT            | NUMBER              |                     |
| *CURRENCY_CODE*                | VARCHAR2(3 BYTE)    |                     |
| FIRST_EVENT_DATE               | DATE                |                     |
| L3_BALANCE_AMOUNT              | NUMBER              |                     |
| L3_BALANCE_STATUS              | VARCHAR2(1 BYTE)    |                     |
| LAST_EVENT_DATE                | DATE                |                     |
| *NUMBER_OF_EVENTS*             | NUMBER              |                     |
| *NUMBER_OF_FREE_EVENTS*        | NUMBER              |                     |
| *NUMBER_OF_ROLLED_CYCLES*      | NUMBER              |                     |
| OFFER_ID                       | NUMBER              |                     |
| PI_ROLE                        | NUMBER              |                     |
| PI_STATUS                      | NUMBER              |                     |
| QUOTA                          | NUMBER              |                     |
| QUOTA_PER_PERIOD               | VARCHAR2(512 BYTE)  |                     |
| REMAINING_QUOTA_PER_PERIOD     | VARCHAR2(512 BYTE)  |                     |
| REMAIN_QUOTA_PER_MONTH_PERIOD  | VARCHAR2(512 BYTE)  |                     |
| ROLLED_PREVIOUS_CYC_PER_PERIOD | VARCHAR2(512 BYTE)  |                     |
| ROLLED_QUOTA_FROM_PREVIOUS_CYC | NUMBER              |                     |
| UOM                            | VARCHAR2(1 BYTE)    |                     |
| UTILIZED_QUOTA_PER_PERIOD      | VARCHAR2(512 BYTE)  |                     |
| UTILIZE_QUOTA_PER_MONTH_PERIOD | VARCHAR2(512 BYTE)  |                     |
| BILLING_RESOURCE_TYPE          | VARCHAR2(16 BYTE)   |                     |
| BILLING_RESOURCE_ID            | VARCHAR2(63 BYTE)   |                     |
| TOLL_TAX                       | NUMBER              |                     |
| L9_ACCUM_CHG_INCL_ALLW_CMPLX   | VARCHAR2(512 BYTE)  |                     |
| L9_ACCUM_CREDIT                | NUMBER              |                     |
| L9_ACCUMULATED_CHG_CMPLX       | VARCHAR2(512 BYTE)  |                     |
| L9_OVERAGE_CAP                 | NUMBER              |                     |
| L9_ACCUM_FREE_UNIT_CMPLX       | VARCHAR2(512 BYTE)  |                     |
| L9_NUMBER_OF_EVENTS_CMPLX      | VARCHAR2(512 BYTE)  |                     |
| L9_NUMBER_FREE_EVENTS_CMPLX    | VARCHAR2(512 BYTE)  |                     |
| L9_ACCUM_UNIT_CMPLX            | VARCHAR2(512 BYTE)  |                     |
| L9_CAP_EXCEED                  | VARCHAR2(1 BYTE)    |                     |
| L9_NUMBER_OF_CREDIT_EVENTS     | NUMBER              |                     |
| AIR_TAX                        | NUMBER              |                     |
| L9_TOT_UNITS_ABOVE_CAP         | VARCHAR2(512 BYTE)  |                     |
| ACCUM_DURATION                 | NUMBER              |                     |
| L9_CALL_DIRECTION              | VARCHAR2(1 BYTE)    |                     |
| L9_ROAMING_IND                 | VARCHAR2(1 BYTE)    |                     |
| L9_TAX_CHANGE_DATE             | VARCHAR2(25 BYTE)   |                     |
| L9_SERVE_SID                   | VARCHAR2(5 BYTE)    |                     |
| L9_EHA_INDICATOR               | VARCHAR2(1 BYTE)    |                     |
| L9_PAY_CHANNEL                 | NUMBER              |                     |
| L9_CUSTOMER_SUB_TYPE           | VARCHAR2(15 BYTE)   |                     |
| L9_BE                          | NUMBER              |                     |
| L9_CUSTOMER_TYPE               | VARCHAR2(1 BYTE)    |                     |
| L9_CALLED_COUNTRY              | VARCHAR2(3 BYTE)    |                     |
| *L9_PAYMENT_CATEGORY*          | VARCHAR2(4 BYTE)    | POST or PRE         |
| L9_BILLING_ARRANGEMENT         | NUMBER              |                     |
| L9_VOLUME_ACCUMULATION         | NUMBER              |                     |
| L9_OFFER_LEVEL                 | VARCHAR2(1 BYTE)    |                     |
| L9_FULL_CAP                    | NUMBER              |                     |
| L9_CHARGE_TYPE                 | VARCHAR2(3 BYTE)    |                     |
| L9_PREV_ADD_CHG_CMPLX2         | VARCHAR2(512 BYTE)  |                     |
| L9_PREV_ADD_CHG_CMPLX1         | VARCHAR2(512 BYTE)  |                     |
| L9_PREV_ADD_CHG_CMPLX3         | VARCHAR2(512 BYTE)  |                     |
| L9_PREV_ADD_CHG_CMPLX          | VARCHAR2(4000 BYTE) |                     |
| L9_ACC_USAGE_BEFORE_EOM        | NUMBER              |                     |
| L9_ACC_USAGE_AFTER_EOM         | NUMBER              |                     |
| L9_MSISDN                      | VARCHAR2(256 BYTE)  |                     |
| L9_CAP_TO_BE_USED              | NUMBER              |                     |
| L9_CHARGE_CODE                 | VARCHAR2(15 BYTE)   |                     |
| L9_OFFER_TYPE                  | VARCHAR2(255 BYTE)  |                     |
| L9_ACCUM_CHG_BEYO_CAP_CMPLX    | VARCHAR2(512 BYTE)  |                     |
| *L9_CTN*                       | VARCHAR2(10 BYTE)   |                     |
| L9_MEDIA_TYPE                  | VARCHAR2(1 BYTE)    |                     |
| L9_UTILIZED_QUOTA_CMPLX        | VARCHAR2(512 BYTE)  |                     |
| L9_FIRST_THRESHOLD_SENT_IND    | VARCHAR2(1 BYTE)    |                     |
| L9_REMAIN_QUOTA_CMPLX          | VARCHAR2(512 BYTE)  |                     |
| L9_USED_QUOTA                  | NUMBER              |                     |
| L9_LAST_THRESHOLD_SENT         | NUMBER              |                     |
| L9_CHARGE_REV_CODE             | VARCHAR2(2 BYTE)    |                     |
| L9_IS_NEW_SCALE                | VARCHAR2(1 BYTE)    |                     |
| L9_IS_FIRST_NOTIF              | VARCHAR2(1 BYTE)    |                     |
| L9_NOTIFIED_CTN                | VARCHAR2(32 BYTE)   |                     |
| L9_UNLIMITED_IND               | VARCHAR2(1 BYTE)    |                     |
| PRORATION_FACTOR               | NUMBER              |                     |
| L9_CURR_LEG                    | NUMBER              |                     |
| L9_NUM_OF_PERIOD               | NUMBER              |                     |
| L9_IS_NOTIF_SENT               | VARCHAR2(1 BYTE)    |                     |
| L9_PERIOD_NAME                 | VARCHAR2(255 BYTE)  |                     |
| L9_VOLUME_PER_LEG              | VARCHAR2(4000 BYTE) |                     |
| L9_CYCLE_START_DATE_CMPLX      | VARCHAR2(512 BYTE)  |                     |
| DISABLE_NOTIF_IND              | VARCHAR2(1 BYTE)    |                     |
| L9_NOTIF_ELIG                  | VARCHAR2(1 BYTE)    |                     |
| L9_IS_SECOND_NOTIF             | VARCHAR2(1 BYTE)    |                     |
| L9_LIMIT_QUOTA_CHANGE_CMPLX    | VARCHAR2(512 BYTE)  |                     |
| AGR_LEVEL_OFFER_INST           | VARCHAR2(512 BYTE)  |                     |
| L9_LAST_NOTIF_INDEX            | NUMBER              |                     |
| L9_SECOND_NOTIF_THRESH         | NUMBER              |                     |
| OFFER_EXP_DATE                 | DATE                |                     |
| L9_SECOND_THRESHOLD            | NUMBER              |                     |
| L9_ACCUM_FREE_UNTS_BEYO_CAP    | NUMBER              |                     |
| OFFER_EFF_DATE                 | DATE                |                     |
| L9_FIRST_THRESHOLD             | NUMBER              |                     |
| L9_SECOND_THRESHOLD_SENT_IND   | VARCHAR2(1 BYTE)    |                     |
| L9_LIMIT_QUOTA_CMPLX           | VARCHAR2(512 BYTE)  |                     |
| L9_FIRST_NOTIF_THRESH          | NUMBER              |                     |
| L9_REMAINING_BUCKET            | NUMBER              |                     |
| L9_CLASS_CODE                  | VARCHAR2(12 BYTE)   |                     |
| L9_IVR_ANN_CODE                | VARCHAR2(50 BYTE)   |                     |
| L9_ACCUM_ADD_TAX_AMT           | NUMBER              |                     |
| L9_ACCUM_TAX_AMT               | NUMBER              |                     |
| L9_DAYS_OF_DAILY_DATA          | NUMBER              |                     |
| L9_CALLING_AREA_NAME           | VARCHAR2(50 BYTE)   |                     |
| EXPIRATION_DATE                | DATE                |                     |
| L9_DISCLAIMER_SENT             | VARCHAR2(1 BYTE)    |                     |
| L9_IS_ROAM_DATA_SPEED_NOTIF    | VARCHAR2(1 BYTE)    |                     |
| L9_GEOCODE                     | VARCHAR2(10 BYTE)   |                     |
| L9_IS_TOTAL_DATA_SPEED_NOTIF   | VARCHAR2(1 BYTE)    |                     |
| L9_ROAM_VOLUME_ACCUMULATION    | NUMBER              |                     |
| L9_ROAM_SPEED_LIMIT            | NUMBER              |                     |
| L9_INDICATOR                   | VARCHAR2(1 BYTE)    |                     |
| L9_CHARGE_ACCUMULATION         | NUMBER              |                     |
| L9_PP_CHANGED_IND              | VARCHAR2(1 BYTE)    |                     |
| L9_FIRST_LEVEL                 | VARCHAR2(512 BYTE)  |                     |
| L9_GRP_LEVEL_OFFER_INST        | NUMBER              |                     |
| L9_GROUP_OFFER_ID              | NUMBER              |                     |
|--------------------------------+---------------------+---------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** AGD1_RESOURCES
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX

#+ATTR_LaTeX: longtable align=lll
|-----------------------+-------------------+------------------|
| *Column Name*         | *Data Type*       | Description      |
|-----------------------+-------------------+------------------|
| RESOURCE_SEGMENT      | NUMBER(4,0)       |                  |
| RESOURCE_VALUE        | VARCHAR2(63 BYTE) |                  |
| *RESOURCE_TYPE*       | NUMBER(4,0)       | 0 - MDN          |
|                       |                   | 19 - MIN         |
|                       |                   | 21 - OutCollects |
|                       |                   | 23 - TIMSI       |
| EFFECTIVE_DATE        | DATE              |                  |
| SYS_CREATION_DATE     | DATE              |                  |
| SYS_UPDATE_DATE       | DATE              |                  |
| OPERATOR_ID           | NUMBER(9,0)       |                  |
| APPLICATION_ID        | CHAR(6 BYTE)      |                  |
| DL_SERVICE_CODE       | CHAR(5 BYTE)      |                  |
| DL_UPDATE_STAMP       | NUMBER(4,0)       |                  |
| UPDATE_ID             | NUMBER(18,0)      |                  |
| EXPIRATION_DATE       | DATE              |                  |
| *SUBSCRIBER_ID*       | NUMBER(10,0)      |                  |
| SUB_STATUS            | CHAR(1 BYTE)      |                  |
| ROUTING_POLICY_ID     | NUMBER(9,0)       |                  |
| PAYMENT_CATEGORY      | CHAR(4 BYTE)      |                  |
| *CUSTOMER_ID*         | NUMBER(10,0)      |                  |
| BILL_CYCLE            | NUMBER(4,0)       |                  |
| NEW_BILL_CYCLE        | NUMBER(4,0)       |                  |
| CHG_CYC_REQ_DATE      | DATE              |                  |
| LARGE_CUST_IND        | CHAR(1 BYTE)      |                  |
| RESOURCE_HASH_VALUE   | NUMBER(10,0)      |                  |
| SUBSCRIBER_HASH_VALUE | NUMBER(10,0)      |                  |
| LOAD_IND              | CHAR(1 BYTE)      |                  |
|-----------------------+-------------------+------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
    - Subscriber Table Status
      - A = Active
      - C = Canceled
      - S = Suspended
      - U = Collection Suspend
      - L = Collection Canceled
      - D = Collection Suspend
	
*** AC_PHYSICAL_FILES
    Provides information for the physical files that were processed 
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|---------------------+--------------------+-------------|
| *Column Name*       | *Data Type*        | Description |
|---------------------+--------------------+-------------|
| *IDENTIFIER*        | NUMBER(15,0)       |             |
| SYS_CREATION_DATE   | DATE               |             |
| SYS_UPDATE_DATE     | DATE               |             |
| OPERATOR_ID         | NUMBER(9,0)        |             |
| APPLICATION_ID      | CHAR(6 BYTE)       |             |
| DL_SERVICE_CODE     | CHAR(5 BYTE)       |             |
| DL_UPDATE_STAMP     | NUMBER(4,0)        |             |
| *FILE_NAME*         | VARCHAR2(200 BYTE) |             |
| HOST_NAME           | VARCHAR2(50 BYTE)  |             |
| *FILE_PATH*         | VARCHAR2(512 BYTE) |             |
| SERIAL_NUMBER       | VARCHAR2(8 BYTE)   |             |
| SYSTEM_RCV_DATE     | DATE               |             |
| FSRC_SRC_TYPE       | CHAR(10 BYTE)      |             |
| FSRC_TYPE_ID        | CHAR(10 BYTE)      |             |
| RCRDNG_START_DATE   | DATE               |             |
| RCRDNG_END_DATE     | DATE               |             |
| *TRLR_RECORD_COUNT* | NUMBER(9,0)        |             |
| TRLR_BLOCK_COUNT    | NUMBER(9,0)        |             |
| TRLR_L_FILE_COUNT   | NUMBER(9,0)        |             |
| PGM_L_FILE_COUNT    | NUMBER(9,0)        |             |
| PGM_TRACER_IND      | CHAR(1 BYTE)       |             |
| DUPL_ENTRY_IND      | CHAR(1 BYTE)       |             |
| ENTRY_STATUS        | CHAR(2 BYTE)       |             |
| OLD_AGE_IND         | CHAR(1 BYTE)       |             |
| END_OF_TREE_SEQ     | NUMBER(9,0)        |             |
| *BALANCE_DATE*      | DATE               |             |
|---------------------+--------------------+-------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** AC_SOURCE
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|-------------------+-------------------+-------------|
| *Column Name*     | *Data Type*       | Description |
|-------------------+-------------------+-------------|
| SOURCE_TYPE       | CHAR(10 BYTE)     |             |
| *FILE_TYPE*       | CHAR(10 BYTE)     |             |
| SWITCH_ID         | VARCHAR2(32 BYTE) |             |
| SYS_CREATION_DATE | DATE              |             |
| SYS_UPDATE_DATE   | DATE              |             |
| OPERATOR_ID       | NUMBER(9,0)       |             |
| APPLICATION_ID    | CHAR(6 BYTE)      |             |
| DL_SERVICE_CODE   | CHAR(5 BYTE)      |             |
| DL_UPDATE_STAMP   | NUMBER(4,0)       |             |
| FILE_SEQ_NO       | NUMBER(6,0)       |             |
| MAX_FILE_SEQ_NO   | NUMBER(6,0)       |             |
| MAX_TIME          | NUMBER(10,0)      |             |
| MIN_TIME          | NUMBER(10,0)      |             |
| LAST_CYCLE_PROCD  | DATE              |             |
| NEXT_CYCLE_EXPECT | DATE              |             |
| STATUS_IND        | CHAR(2 BYTE)      |             |
| DUPL_ENTRY_IND    | CHAR(1 BYTE)      |             |
| HO_FROM_TIME      | DATE              |             |
| HO_FROM_SEQ       | NUMBER(6,0)       |             |
| DAYS_BFR_PHY_CLN  | NUMBER(4,0)       |             |
| GAP_PERMITTED     | NUMBER(6,0)       |             |
|-------------------+-------------------+-------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** APE1_SUBSCRIBER_RERATE
   Customers in this table are scheduled to be re-rated. Then they should be removed once re-rating is complete.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|---------------------+--------------------+-------------|
| *Column Name*       | *Data Type*        | Description |
|---------------------+--------------------+-------------|
| *CYCLE_CODE*        | NUMBER (4)         |             |
| CYCLE_INSTANCE      | NUMBER (2)         |             |
| CUSTOMER_SEGMENT    | NUMBER (4)         |             |
| *CUSTOMER_ID*       | NUMBER (10)        |             |
| *SUBSCRIBER_ID*     | NUMBER (10)        |             |
| SYS_CREATION_DATE   | DATE               |             |
| SYS_UPDATE_DATE     | DATE               |             |
| OPERATOR_ID         | NUMBER (9)         |             |
| APPLICATION_ID      | CHAR (6 Byte)      |             |
| DL_SERVICE_CODE     | CHAR (5 Byte)      |             |
| DL_UPDATE_STAMP     | NUMBER (4)         |             |
| CYCLE_YEAR          | NUMBER (4)         |             |
| RERATE_SOURCE       | VARCHAR2 (20 Byte) |             |
| MARK_TYPE           | NUMBER (1)         |             |
| STATUS              | CHAR (2 Byte)      |             |
| ACTIVITY_SOURCE     | VARCHAR2 (20 Byte) |             |
| NUM_OF_RERATE_TRIES | NUMBER (2)         |             |
|---------------------+--------------------+-------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

  Once re-rating starts you can check the progress with the following query:
  : select * from ape1_rerate_population 
  :  where cycle_code=2 and cycle_instance=5 
  :  and cycle_year=2014 and activity_source='R3'
  
*** MF1_CIBER_BATCH_SEQ
    The table used to keep the CIBER Outcollect sequences in sync with Syniverse. Every once a while we need to update it to keep in sync. 
    [[file:~/workspace/Outcollects/updateSeq.pl][Sequence Creation Job]]
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|-------------------+---------------+---------------|
| *Column Name*     | *Data Type*   | *Description* |
|-------------------+---------------+---------------|
| APPLICATION_ID    | CHAR (6 Byte) |               |
| DL_SERVICE_CODE   | CHAR (5 Byte) |               |
| DL_UPDATE_STAMP   | NUMBER (4)    |               |
| *HOME_SID*        | CHAR (5 Byte) |               |
| LOCKED_SID        | NUMBER (10)   |               |
| OPERATOR_ID       | NUMBER (9)    |               |
| SEQ_NO            | NUMBER (3)    |               |
| *SERVE_SID*       | CHAR (5 Byte) |               |
| STATUS_IND        | CHAR (2 Byte) |               |
| SYS_CREATION_DATE | DATE          |               |
| SYS_UPDATE_DATE   | DATE          |               |
|-------------------+---------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** EM1_RECORD
    The EM1 record database is the database used by *AEM* and it has so many columns that you cannot use a /select */ to query. Instead click on the link provided below and use that as a template.
    [[/home/dbalchen/workspace/CommonPlace/docs/em1_example.sql][EM1_RECORD Example]]
** BPT Tables
  The *Business Process Tables* are the Tops equivalent to the
  reference tables in *CARES*. The following is the list of all *BPT*
  tables that we are responsible for:
*** ADJ1_OUTCOL_PROVIDER
   A list of all vendors we have an agreement with for out-collects.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
   |-------------------+--------------------+---------------|
   | *Column Name*     | *Data Type*        | *Description* |
   |-------------------+--------------------+---------------|
   | PROVIDER_ID       | NUMBER(18,0)       |               |
   | CUSTOMER_ID       | NUMBER(10,0)       |               |
   | SYS_CREATION_DATE | DATE               |               |
   | SYS_UPDATE_DATE   | DATE               |               |
   | OPERATOR_ID       | NUMBER(9,0)        |               |
   | APPLICATION_ID    | CHAR(6 BYTE)       |               |
   | DL_SERVICE_CODE   | CHAR(5 BYTE)       |               |
   | DL_UPDATE_STAMP   | NUMBER(4,0)        |               |
   | CYCLE_CODE        | NUMBER(4,0)        |               |
   | GROUP_ID          | NUMBER(9,0)        |               |
   | MIN_TIME_TO_SEND  | NUMBER(4,0)        |               |
   | MAX_RECS_IN_FILE  | NUMBER(9,0)        |               |
   | SEND_EMPTY_NOTIF  | CHAR(1 BYTE)       |               |
   | EXPIRATION_DATE   | DATE               |               |
   | EFFECTIVE_DATE    | DATE               |               |
   | PROVIDER_DESC     | VARCHAR2(256 BYTE) |               |
   | RESOURCE_TYPE     | NUMBER(4,0)        |               |
   |-------------------+--------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
*** ADJ9_TIME_ZONE_REF 
   Time zone parameters.
:CLOSET:
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
   |-------------------+--------------+------------+------|
   | *Column Name*     | *Data Type*  | *Nullable* | *ID* |
   |-------------------+--------------+------------+------|
   | EFFECTIVE_DATE    | DATE         | No         |    1 |
   | EXPIRATION_DATE   | DATE         | No         |    2 |
   | CONV_OFFSET       | NUMBER(9,0)  | No         |    3 |
   | SYS_CREATION_DATE | DATE         | No         |    4 |
   | SYS_UPDATE_DATE   | DATE         | Yes        |    5 |
   | OPERATOR_ID       | NUMBER(9,0)  | Yes        |    6 |
   | APPLICATION_ID    | CHAR(6 BYTE) | Yes        |    7 |
   | DL_SERVICE_CODE   | CHAR(5 BYTE) | Yes        |    8 |
   | DL_UPDATE_STAMP   | NUMBER(4,0)  | Yes        |    9 |
   |-------------------+--------------+------------+------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
:END:

*** AGD1_RESOURCES_REF
   Lists *TOPS* resources used by Turbo charging very important to map *SIDS* to there offers.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
 |-----------------------+-------------------+---------------|
 | *Column Name*         | *Data Type*       | *Description* |
 |-----------------------+-------------------+---------------|
 | RESOURCE_SEGMENT      | NUMBER(4,0)       |               |
 | RESOURCE_VALUE        | VARCHAR2(63 BYTE) |               |
 | RESOURCE_TYPE         | NUMBER(4,0)       |               |
 | EFFECTIVE_DATE        | DATE              |               |
 | SYS_CREATION_DATE     | DATE              |               |
 | SYS_UPDATE_DATE       | DATE              |               |
 | OPERATOR_ID           | NUMBER(9,0)       |               |
 | APPLICATION_ID        | CHAR(6 BYTE)      |               |
 | DL_SERVICE_CODE       | CHAR(5 BYTE)      |               |
 | DL_UPDATE_STAMP       | NUMBER(4,0)       |               |
 | UPDATE_ID             | NUMBER(18,0)      |               |
 | EXPIRATION_DATE       | DATE              |               |
 | SUBSCRIBER_ID         | NUMBER(10,0)      |               |
 | SUB_STATUS            | CHAR(1 BYTE)      |               |
 | ROUTING_POLICY_ID     | NUMBER(9,0)       |               |
 | PAYMENT_CATEGORY      | CHAR(4 BYTE)      |               |
 | CUSTOMER_ID           | NUMBER(10,0)      |               |
 | BILL_CYCLE            | NUMBER(4,0)       |               |
 | NEW_BILL_CYCLE        | NUMBER(4,0)       |               |
 | CHG_CYC_REQ_DATE      | DATE              |               |
 | LARGE_CUST_IND        | CHAR(1 BYTE)      |               |
 | RESOURCE_HASH_VALUE   | NUMBER(10,0)      |               |
 | SUBSCRIBER_HASH_VALUE | NUMBER(10,0)      |               |
 |-----------------------+-------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX   
*** APE1_SUBSCR_DATA_REF
   List subscriber reference data. (Customer data)
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
 |-----------------------+--------------+---------------|
 | *Column Name*         | *Data Type*  | *Description* |
 |-----------------------+--------------+---------------|
 | CYCLE_CODE            | NUMBER(4,0)  |               |
 | CUSTOMER_SEGMENT      | NUMBER(4,0)  |               |
 | SUBSCRIBER_ID         | NUMBER(10,0) |               |
 | SYS_CREATION_DATE     | DATE         |               |
 | SYS_UPDATE_DATE       | DATE         |               |
 | OPERATOR_ID           | NUMBER(9,0)  |               |
 | APPLICATION_ID        | CHAR(6 BYTE) |               |
 | DL_SERVICE_CODE       | CHAR(5 BYTE) |               |
 | DL_UPDATE_STAMP       | NUMBER(4,0)  |               |
 | UPDATE_ID             | NUMBER(18,0) |               |
 | CUSTOMER_ID           | NUMBER(10,0) |               |
 | BE                    | NUMBER(9,0)  |               |
 | CURRENCY_ID           | CHAR(3 BYTE) |               |
 | SUBSCRIBER_HASH_VALUE | NUMBER(10,0) |               |
 |-----------------------+--------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX   

*** APE1_SUBSCR_OFFERS_REF
   List subscriber offers. (Customer data)
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
 |-----------------------+-------------------+---------------|
 | *Column Name*         | *Data Type*       | *Description* |
 |-----------------------+-------------------+---------------|
 | CYCLE_CODE            | NUMBER(4,0)       |               |
 | CUSTOMER_SEGMENT      | NUMBER(4,0)       |               |
 | SUBSCRIBER_ID         | NUMBER(10,0)      |               |
 | OFFER_ID              | NUMBER(9,0)       |               |
 | OFFER_INSTANCE        | NUMBER(10,0)      |               |
 | OFFER_EFF_DATE        | DATE              |               |
 | SYS_CREATION_DATE     | DATE              |               |
 | SYS_UPDATE_DATE       | DATE              |               |
 | OPERATOR_ID           | NUMBER(9,0)       |               |
 | APPLICATION_ID        | CHAR(6 BYTE)      |               |
 | DL_SERVICE_CODE       | CHAR(5 BYTE)      |               |
 | DL_UPDATE_STAMP       | NUMBER(4,0)       |               |
 | UPDATE_ID             | NUMBER(18,0)      |               |
 | OFFER_EXP_DATE        | DATE              |               |
 | SOURCE_OFFER_AGR_ID   | NUMBER(10,0)      |               |
 | SOURCE_OFFER_INSTANCE | NUMBER(10,0)      |               |
 | EFF_ACT_CODE_PROR     | VARCHAR2(25 BYTE) |               |
 | EXP_ACT_CODE_PROR     | VARCHAR2(25 BYTE) |               |
 |-----------------------+-------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX 
*** Mi9_MIN_LR
   Contains the *USCC* MIN (MSID) block ranges and there *SID* code. The Block Ranges are listed in the *Technical Data Sheet* from *Syniverse*. This only contains *USCC* MINS only. For foreign carriers see the *VISITOR_MIN_LR*.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
  |-------------------+------------------+---------------|
  | *Column Name*     | *Data Type*      | *Description* |
  |-------------------+------------------+---------------|
  | *MIN_BLK*         | NUMBER(6,0)      |               |
  | *FROM_LINE_RANGE* | NUMBER(4,0)      |               |
  | *TO_LINE_RANGE*   | NUMBER(4,0)      |               |
  | EFFECTIVE_DATE    | DATE             |               |
  | SYS_CREATION_DATE | DATE             |               |
  | SYS_UPDATE_DATE   | DATE             |               |
  | OPERATOR_ID       | NUMBER(9,0)      |               |
  | APPLICATION_ID    | CHAR(6 BYTE)     |               |
  | DL_SERVICE_CODE   | CHAR(5 BYTE)     |               |
  | DL_UPDATE_STAMP   | NUMBER(4,0)      |               |
  | *NPA_TYPE*        | CHAR(1 BYTE)     | C = Postpaid  |
  |                   |                  | T = Prepaid   |
  | *SIDS*            | VARCHAR2(5 BYTE) |               |
  | EXPIRATION_DATE   | DATE             |               |
  |-------------------+------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** VISITOR_MIN_LR
   This table is created via  a program and contains all of our roaming partners MIN/SID block ranges. It is located on the *BRMPRD* database.
*** MI1_STLMNT_CONTRACT
   The Settlement Contracts table contains one record for each
   contract. A contract is defined as the entity to which a group of
   *SIDS* belongs, whose common attribute is the clearinghouse-related
   Net Settlement bank account. This usually means that all the *SIDS*
   that belong to a settlement contract are part of one operating
   company.
:CLOSET:
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
   |--------------------+-------------------+---------------|
   | *Column Name*      | *Data Type*       | *Description* |
   |--------------------+-------------------+---------------|
   | STLMNT_CONTRACT_CD | CHAR(3 BYTE)      |               |
   | EFFECTIVE_DATE     | DATE              |               |
   | SYS_CREATION_DATE  | DATE              |               |
   | SYS_UPDATE_DATE    | DATE              |               |
   | OPERATOR_ID        | NUMBER(9,0)       |               |
   | APPLICATION_ID     | CHAR(6 BYTE)      |               |
   | DL_SERVICE_CODE    | CHAR(5 BYTE)      |               |
   | DL_UPDATE_STAMP    | NUMBER(4,0)       |               |
   | EXPIRATION_DATE    | DATE              |               |
   | *NET_STLMNT_IND*   | CHAR(1 BYTE)      |               |
   | COMPANY_NAME       | VARCHAR2(50 BYTE) |               |
   |--------------------+-------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
:END:

*** MF1_OUTCOL_DESTINATION
  This table includes detailed information on every destination. A
  destination represents a target of Out-collect calls (such as a
  clearinghouse). The destination of every roamer call is determined
  according to the Home *SID* value of that call.
:CLOSET:
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
   |---------------------+--------------------+---------------|
   | *Column Name*       | *Data Type*        | *Description* |
   |---------------------+--------------------+---------------|
   | OUTCOL_DEST_CD      | CHAR(6 BYTE)       |               |
   | EFFECTIVE_DATE      | DATE               |               |
   | SYS_CREATION_DATE   | DATE               |               |
   | SYS_UPDATE_DATE     | DATE               |               |
   | OPERATOR_ID         | NUMBER(9,0)        |               |
   | APPLICATION_ID      | CHAR(6 BYTE)       |               |
   | DL_SERVICE_CODE     | CHAR(5 BYTE)       |               |
   | DL_UPDATE_STAMP     | NUMBER(4,0)        |               |
   | EXPIRATION_DATE     | DATE               |               |
   | CLEARING_TYPE       | CHAR(1 BYTE)       |               |
   | FREQ_RUN            | NUMBER(9,0)        |               |
   | FREQ_TL_RUN         | NUMBER(9,0)        |               |
   | DESTINATION_TYPE    | CHAR(1 BYTE)       |               |
   | END_SETLMNT_DAY     | NUMBER(2,0)        |               |
   | END_SETLMNT_HOUR    | CHAR(2 BYTE)       |               |
   | END_SETLMNT_ADV_MIN | CHAR(3 BYTE)       |               |
   | CONTACT_NPA         | CHAR(3 BYTE)       |               |
   | CONTACT_NXX         | CHAR(3 BYTE)       |               |
   | CONTACT_LINENO      | CHAR(4 BYTE)       |               |
   | CONTACT_PERSON_NM   | VARCHAR2(50 BYTE)  |               |
   | OUTCOL_DEST_DESC    | VARCHAR2(200 BYTE) |               |
   |---------------------+--------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
:END:
*** MF1_OUTCOL_SID_PAIR
   Defines out-collect roaming agreement between *SID* pair. Originating
   category is retrieve from the table that is used later on for
   service filter determination. *INCOL_SID_PAIR* and *SID* tables are also
   used by Acquisition & Formatting.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
   |-----------------------+-------------------+---------------|
   | *Column Name*         | *Data Type*       | *Description* |
   |-----------------------+-------------------+---------------|
   | SERVE_SID             | CHAR(5 BYTE)      |               |
   | HOME_SID              | CHAR(5 BYTE)      |               |
   | EFFECTIVE_DATE        | DATE              |               |
   | SYS_CREATION_DATE     | DATE              |               |
   | SYS_UPDATE_DATE       | DATE              |               |
   | OPERATOR_ID           | NUMBER(9,0)       |               |
   | APPLICATION_ID        | CHAR(6 BYTE)      |               |
   | DL_SERVICE_CODE       | CHAR(5 BYTE)      |               |
   | DL_UPDATE_STAMP       | NUMBER(4,0)       |               |
   | EXPIRATION_DATE       | DATE              |               |
   | OUTCOL_DEST_CD        | CHAR(6 BYTE)      |               |
   | CRE_DAILY_SURCG_IND   | CHAR(1 BYTE)      |               |
   | DAILY_SURCHARGE_AMT   | NUMBER(18,3)      |               |
   | MISC_SCHG_IND         | CHAR(1 BYTE)      |               |
   | MISC_SCHG_RATE        | NUMBER(18,3)      |               |
   | MISC_SCHG_MEASURE_IND | CHAR(1 BYTE)      |               |
   | MISC_DESCRIPTOR       | CHAR(2 BYTE)      |               |
   | MISC_SCHG_DESC        | VARCHAR2(50 BYTE) |               |
   | CYCLE_CODE            | NUMBER(4,0)       |               |
   | PRIORITY              | NUMBER(5,0)       |               |
   | NUM_OF_REC_TO_COMMIT  | NUMBER(9,0)       |               |
   | PARTITION_ID          | NUMBER(4,0)       |               |
   | GROUP_ID              | NUMBER(4,0)       |               |
   | AGREEMENT_ID          | NUMBER(9,0)       |               |
   |-----------------------+-------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
*** MI1_RETURN_RRC
   Used for *InCollect* *CIBER* processing. Contains the various
   reasons why an *InCollect* file can be returned.
:CLOSET:
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
   |---------------------+--------------------+---------------|
   | *Column Name*       | *Data Type*        | *Description* |
   |---------------------+--------------------+---------------|
   | REASON_CODE         | NUMBER(2,0)        |               |
   | RETURN_LEVEL        | CHAR(1 BYTE)       |               |
   | CLEARING_TYPE       | CHAR(1 BYTE)       |               |
   | BATCH_CONTENT       | CHAR(1 BYTE)       |               |
   | SYS_CREATION_DATE   | DATE               |               |
   | SYS_UPDATE_DATE     | DATE               |               |
   | OPERATOR_ID         | NUMBER(9,0)        |               |
   | APPLICATION_ID      | CHAR(6 BYTE)       |               |
   | DL_SERVICE_CODE     | CHAR(5 BYTE)       |               |
   | DL_UPDATE_STAMP     | NUMBER(4,0)        |               |
   | SEVERITY_LEVEL      | CHAR(1 BYTE)       |               |
   | PRIORITY            | NUMBER(2,0)        |               |
   | EXTERNAL_RRC        | NUMBER(2,0)        |               |
   | TREATMENT_TYPE      | CHAR(1 BYTE)       |               |
   | AUTO_ACTION         | CHAR(1 BYTE)       |               |
   | RECYCLE_PERMIT      | CHAR(1 BYTE)       |               |
   | RCYCL_FRC_RRT_PRMT  | CHAR(1 BYTE)       |               |
   | RCYCL_FRC_ASIS_PRMT | CHAR(1 BYTE)       |               |
   | SEND_BACK_PRMT      | CHAR(1 BYTE)       |               |
   | WRITE_OFF_PERMIT    | CHAR(1 BYTE)       |               |
   | HOLD_PERMIT         | CHAR(1 BYTE)       |               |
   | REASON_CODE_DESC    | VARCHAR2(120 BYTE) |               |
   |---------------------+--------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
:END:
*** MI1_REJECT_RRC
   Used for *InCollect* *CIBER* processing. Contains the various
   reasons why an *InCollect* file can be rejected.
:CLOSET:
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
   |-------------------+--------------------+------------+------|
   | *Column Name*     | *Data Type*        | *Nullable* | *ID* |
   |-------------------+--------------------+------------+------|
   | REASON_CODE       | NUMBER(2,0)        | No         |    1 |
   | REJECT_LEVEL      | CHAR(1 BYTE)       | No         |    2 |
   | CLEARING_TYPE     | CHAR(1 BYTE)       | No         |    3 |
   | BATCH_CONTENT     | CHAR(1 BYTE)       | No         |    4 |
   | SYS_CREATION_DATE | DATE               | No         |    5 |
   | SYS_UPDATE_DATE   | DATE               | Yes        |    6 |
   | OPERATOR_ID       | NUMBER(9,0)        | Yes        |    7 |
   | APPLICATION_ID    | CHAR(6 BYTE)       | Yes        |    8 |
   | DL_SERVICE_CODE   | CHAR(5 BYTE)       | Yes        |    9 |
   | DL_UPDATE_STAMP   | NUMBER(4,0)        | Yes        |   10 |
   | TREATMENT_TYPE    | CHAR(1 BYTE)       | No         |   11 |
   | AUTO_ACTION       | CHAR(1 BYTE)       | No         |   12 |
   | REPACK_PERMIT     | CHAR(1 BYTE)       | No         |   13 |
   | REPROCESS_PERMIT  | CHAR(1 BYTE)       | No         |   14 |
   | WRITE_OFF_PERMIT  | CHAR(1 BYTE)       | No         |   15 |
   | HOLD_PERMIT       | CHAR(1 BYTE)       | No         |   16 |
   | REASON_CODE_DESC  | VARCHAR2(120 BYTE) | No         |   17 |
   |-------------------+--------------------+------------+------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
:END:
*** MI9_NA_CONV
   This maybe another version of the *ADJ9_TIME_ZONE_REF* table,
   very similar.
:CLOSET:
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
   |-------------------+-------------------+---------------|
   | *Column Name*     | *Data Type*       | *Description* |
   |-------------------+-------------------+---------------|
   | TIME_ZONE_CONV    | VARCHAR2(10 BYTE) |               |
   | EFFECTIVE_DATE    | DATE              |               |
   | SYS_CREATION_DATE | DATE              |               |
   | SYS_UPDATE_DATE   | DATE              |               |
   | OPERATOR_ID       | NUMBER(9,0)       |               |
   | APPLICATION_ID    | CHAR(6 BYTE)      |               |
   | DL_SERVICE_CODE   | CHAR(5 BYTE)      |               |
   | DL_UPDATE_STAMP   | NUMBER(4,0)       |               |
   | EXPIRATION_DATE   | DATE              |               |
   | CONV_OFFSET       | VARCHAR2(6 BYTE)  |               |
   |-------------------+-------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
:END:
** EPC Tables
   These tables are included in the *EPC* dump which happens once or twice a month, no hotfix is needed unless needs to be in production right away.
*** PC9_SID
   One of the most important reference tables used, contains all
   the information for all the *SIDS*[fn:1] for all the companies we
   have a contract with.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
   |----------------------+-------------------+---------------|
   | *Column Name*        | *Data Type*       | *Description* |
   |----------------------+-------------------+---------------|
   | CINDEX               | NUMBER(9,0)       |               |
   | *SIDS*               | VARCHAR2(5 BYTE)  |               |
   | EFFECTIVE_DATE       | DATE              |               |
   | SID_DESC             | VARCHAR2(50 BYTE) |               |
   | SID_COMMERCIAL_NAME  | VARCHAR2(50 BYTE) |               |
   | TIME_ZONE_CODE       | VARCHAR2(2 BYTE)  |               |
   | SETLMNT_CONTRACT_CD  | VARCHAR2(3 BYTE)  |               |
   | INTRACOMP_IND        | VARCHAR2(3 BYTE)  |               |
   | SID_STATE            | VARCHAR2(2 BYTE)  |               |
   | SID_COUNTRY          | VARCHAR2(3 BYTE)  |               |
   | SID_CITY             | VARCHAR2(30 BYTE) |               |
   | SID_LOCATION_CD      | CHAR(1 BYTE)      |               |
   | OUTCOL_DEST_CD       | VARCHAR2(6 BYTE)  |               |
   | CURRENCY_CODE        | VARCHAR2(2 BYTE)  |               |
   | BAND_CODE            | CHAR(1 BYTE)      |               |
   | GEO_CODE             | VARCHAR2(9 BYTE)  |               |
   | ORIGINATING_CATEGORY | VARCHAR2(6 BYTE)  |               |
   | EXPIRATION_DATE      | DATE              |               |
   | INCORPORATE_IND      | CHAR(1 BYTE)      |               |
   |----------------------+-------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** PC9_SID_LIST
   A description of each *SID* found in the *PC9_SID* table. When the
   *SID* table is updated this table needs to be updated as well. 
:CLOSET:
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
   |---------------+-------------------+---------------|
   | *Column Name* | *Data Type*       | *Description* |
   |---------------+-------------------+---------------|
   | CINDEX        | NUMBER(9,0)       |               |
   | *SIDS*        | VARCHAR2(5 BYTE)  |               |
   | DESCRIPTION   | VARCHAR2(50 BYTE) |               |
   |---------------+-------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
:END:
*** PC9_SPECIAL_NUMBER
   Contains a list of all the special numbers, numbers that can be
   dropped (no charge), toll or air time free.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
   |---------------------------+--------------------+-----------------|
   | *Column Name*             | *Data Type*        | *Description*   |
   |---------------------------+--------------------+-----------------|
   | SPECIAL_NUMBER            | VARCHAR2(10 BYTE)  |                 |
   | CALL_DIRECTION            | CHAR(1 BYTE)       | 1 = Incoming    |
   |                           |                    | 2 = Outgoing    |
   |                           |                    | 5 = both        |
   | HOME_ROAM_IND             | CHAR(1 BYTE)       | 1 = Home        |
   |                           |                    | 2 = Roam        |
   |                           |                    | 3 = Both        |
   | CALL_SOURCE               | VARCHAR2(4 BYTE)   | V = Voice       |
   | EFFECTIVE_DATE            | DATE               |                 |
   | *AIR_TIME_IND*            | CHAR(1 BYTE)       | N = Air Time    |
   |                           |                    | is free         |
   | TOLL_SPECIAL_NUMBER_GROUP | VARCHAR2(255 BYTE) |                 |
   | *DROP_CALL_IND*           | CHAR(1 BYTE)       | Y = This record |
   |                           |                    | Will be dropped |
   | SPECIAL_NUMBER_TYPE       | CHAR(1 BYTE)       |                 |
   | SERVICE_FILTER            | VARCHAR2(15 BYTE)  |                 |
   | *TOLL_FREE_IND*           | CHAR(1 BYTE)       | Y = No Toll     |
   |                           |                    | will be charged |
   | BL_CALL_DEST_STATE        | VARCHAR2(2 BYTE)   |                 |
   | BL_CALL_DEST_CITY         | VARCHAR2(30 BYTE)  |                 |
   | AUTOMATICALLY_AUTHORIZED  | CHAR(1 BYTE)       |                 |
   | DESCRIPTION               | VARCHAR2(50 BYTE)  |                 |
   | EXPIRATION_DATE           | DATE               |                 |
   |---------------------------+--------------------+-----------------|

:CLOSET:
SELECT NPA||NXX||LINE_NO,DECODE(ACTION_CODE,'0','5','1','1','2','2'),DECODE(HOME_ROAM_IND,'H','0','R','1','B','2'),
 	   'V',EFFECTIVE_DATE,AIR_TIME_IND,'NA',DROP_CALL_IND,SPECIAL_NUM_TYPE,'NA','Y',BL_CALL_DEST_STATE, 
 	   BL_CALL_DEST_CITY,'N',SPECIAL_NUM_DESC,EXPIRATION_DATE FROM special_numbers WHERE  NPA||NXX||LINE_NO LIKE '%$%'
AND expiration_date IS NULL
:END:

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** PC9_SERVE_AREA_TO_SID
   Maps the service area to (/all maybe to strong a term/)  supported *SIDS*.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
   |-----------------+-------------------+---------------|
   | *Column Name*   | *Data Type*       | *Description* |
   |-----------------+-------------------+---------------|
   | SERVE_AREA      | VARCHAR2(50 BYTE) |               |
   | *SIDS*          | VARCHAR2(5 BYTE)  |               |
   | EFFECTIVE_DATE  | DATE              |               |
   | EXPIRATION_DATE | DATE              |               |
   |-----------------+-------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
*** PC9_COUNTRY_CODE
  List of country code, country description, NANP indicator.

#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
   |---------------+-------------------+---------------|
   | *Column Name* | *Data Type*       | *Description* |
   |---------------+-------------------+---------------|
   | CINDEX        | NUMBER(9,0)       |               |
   | COUNTRY_CODE  | VARCHAR2(3 BYTE)  |               |
   | DESCRIPTION   | VARCHAR2(30 BYTE) |               |
   | NANP_IND      | CHAR(1 BYTE)      |               |
   |---------------+-------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  

*** PC9_INCOL_SID_PAIR
   Defines *InCollect* roaming agreement between *SID* pair. Originating
   category is retrieve from the table that is used later on for
   service filter determination. INCOL_SID_PAIR and *SID* tables are also
   used by Acquisition & Formatting.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
   |----------------------------+------------------+---------------|
   | *Column Name*              | *Data Type*      | *Description* |
   |----------------------------+------------------+---------------|
   | SERVE_SID                  | VARCHAR2(5 BYTE) |               |
   | HOME_SID                   | VARCHAR2(5 BYTE) |               |
   | EFFECTIVE_DATE             | DATE             |               |
   | ORIGINATING_CATEGORY       | VARCHAR2(6 BYTE) |               |
   | INCOL_NOT_VALID_ACT        | CHAR(1 BYTE)     |               |
   | AGR_PEAK_RATE              | NUMBER(18,3)     |               |
   | AGR_OFF_PEAK_RATE          | NUMBER(18,3)     |               |
   | AGR_SCHG_AMT               | NUMBER(18,3)     |               |
   | TOLL_AGR_TYPE              | CHAR(1 BYTE)     |               |
   | AGR_TOLL_RATE              | NUMBER(18,3)     |               |
   | INCOL_TL_NVALID_AC         | CHAR(1 BYTE)     |               |
   | DAILY_SURCHARGE_INDICATION | CHAR(1 BYTE)     |               |
   | EXPIRATION_DATE            | DATE             |               |
   |----------------------------+------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
*** PC9_CELL_SITE_TO_CELL_ID
   Cell site name to number ID.
:CLOSET:
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
   |-----------------+-------------------+---------------|
   | *Column Name*   | *Data Type*       | *Description* |
   |-----------------+-------------------+---------------|
   | CELL_SITE       | VARCHAR2(50 BYTE) |               |
   | CELL_ID         | VARCHAR2(18 BYTE) |               |
   | EFFECTIVE_DATE  | DATE              |               |
   | EXPIRATION_DATE | DATE              |               |
   |-----------------+-------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
:END:
*** PC9_SERVICE_FILTER
   This table as well and *PC3_SERVICE_FILTER_LIST* are used by the *RLC*.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
   |----------------------+-------------------+---------------|
   | *Column Name*        | *Data Type*       | *Description* |
   |----------------------+-------------------+---------------|
   | BE                   | NUMBER(2,0)       |               |
   | CALL_SOURCE          | VARCHAR2(4 BYTE)  |               |
   | SERVICE_TYPE         | CHAR(1 BYTE)      |               |
   | ORIGINATING_CATEGORY | VARCHAR2(5 BYTE)  |               |
   | DESTINATION_CATEGORY | VARCHAR2(5 BYTE)  |               |
   | CALL_DIRECTION       | CHAR(1 BYTE)      |               |
   | EFFECTIVE_DATE       | DATE              |               |
   | SERVICE_FILTER       | VARCHAR2(15 BYTE) |               |
   | DESCRIPTION          | VARCHAR2(30 BYTE) |               |
   | EXPIRATION_DATE      | DATE              |               |
   |----------------------+-------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
*** PC3_SERVICE_FILTER_LIST
   This table as well and *PC3_SERVICE_FILTER* are used by the *RLC*.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
   |----------------+-------------------+---------------|
   | *Column Name*  | *Data Type*       | *Description* |
   |----------------+-------------------+---------------|
   | SERVICE_INDEX  | NUMBER(9,0)       |               |
   | SERVICE_FILTER | VARCHAR2(15 BYTE) |               |
   | DESCRIPTION    | VARCHAR2(50 BYTE) |               |
   |----------------+-------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
*** PC9_DEST_CATEGORY
   Lists all the possible destination categories.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
   |----------------------+--------------------+---------------|
   | *Column Name*        | *Data Type*        | *Description* |
   |----------------------+--------------------+---------------|
   | CINDEX               | NUMBER(9,0)        |               |
   | DESTINATION_CATEGORY | VARCHAR2(6 BYTE)   |               |
   | DESCRIPTION          | VARCHAR2(101 BYTE) |               |
   |----------------------+--------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
*** PC9_NUMBER_ANALYSIS
   Used to analyze telephone prefix's. Mostly used to determine
   International calls.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
   |--------------------------+-------------------+---------------|
   | *Column Name*            | *Data Type*       | *Description* |
   |--------------------------+-------------------+---------------|
   | PREFIX                   | VARCHAR2(30 BYTE) |               |
   | STATION_TYPE             | VARCHAR2(30 BYTE) |               |
   | EFFECTIVE_DATE           | DATE              |               |
   | DESTINATION_CATEGORY     | VARCHAR2(6 BYTE)  |               |
   | AUTOMATICALLY_AUTHORIZED | CHAR(1 BYTE)      |               |
   | ROAMING_DEST_CATEGORY    | VARCHAR2(6 BYTE)  |               |
   | DROP_IND                 | CHAR(1 BYTE)      |               |
   | COUNTRY_CODE             | VARCHAR2(3 BYTE)  |               |
   | DESCRIPTION              | VARCHAR2(30 BYTE) |               |
   | NETWORK_CALL_TYPE        | CHAR(1 BYTE)      |               |
   | EXPIRATION_DATE          | DATE              |               |
   |--------------------------+-------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
*** PC9_ORIG_CATEGORY
   List all possible originating categories.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
   |----------------------+--------------------+---------------|
   | *Column Name*        | *Data Type*        | *Description* |
   |----------------------+--------------------+---------------|
   | CINDEX               | NUMBER(9,0)        |               |
   | ORIGINATING_CATEGORY | VARCHAR2(6 BYTE)   |               |
   | DESCRIPTION          | VARCHAR2(101 BYTE) |               |
   |----------------------+--------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
*** PC9_ROAMING_DEST_CATEGORY
   List all roaming destination categories.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
   |-----------------------+--------------------+---------------|
   | *Column Name*         | *Data Type*        | *Description* |
   |-----------------------+--------------------+---------------|
   | CINDEX                | NUMBER(9,0)        |               |
   | ROAMING_DEST_CATEGORY | VARCHAR2(6 BYTE)   |               |
   | DESCRIPTION           | VARCHAR2(101 BYTE) |               |
   |-----------------------+--------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  

*** PC1_CHARGE_CODE
   Lists and describes the supported charge codes.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
  |-----------------+---------------------+---------------|
  | *Column Name*   | *Data Type*         | *Description* |
  |-----------------+---------------------+---------------|
  | CHARGE_CODE_SEQ | NUMBER(5,0)         |               |
  | CHARGE_CODE     | VARCHAR2(15 BYTE)   |               |
  | DESCRIPTION     | VARCHAR2(4000 BYTE) |               |
  | CHARGE_ENTITY   | VARCHAR2(60 BYTE)   |               |
  | REVENUE_TYPE    | CHAR(2 BYTE)        |               |
  |-----------------+---------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
*** PC9_NANP_NPA_LIST
   The NPA (Area Code) and the country description.
   
:CLOSET:
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
  |---------------+--------------------+---------------|
  | *Column Name* | *Data Type*        | *Description* |
  |---------------+--------------------+---------------|
  | CINDEX        | NUMBER(9,0)        |               |
  | NPA           | VARCHAR2(3 BYTE)   |               |
  | DESCRIPTION   | VARCHAR2(101 BYTE) |               |
  |---------------+--------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
:END:
*** PC9_LOCAL_TOLL_FREE_AREA
   Lists the relationship between *SIDS* and NPA ranges where the toll
   is free.
:CLOSET:
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
  |-----------------+-------------------+---------------|
  | *Column Name*   | *Data Type*       | *Description* |
  |-----------------+-------------------+---------------|
  | *SIDS*          | VARCHAR2(5 BYTE)  |               |
  | FROM_NPANXX     | VARCHAR2(6 BYTE)  |               |
  | TO_NPANXX       | VARCHAR2(6 BYTE)  |               |
  | EFFECTIVE_DATE  | DATE              |               |
  | TOLL_VALUE      | VARCHAR2(10 BYTE) |               |
  | EXPIRATION_DATE | DATE              |               |
  |-----------------+-------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
:END:
*** PC9_IP_ADDR_LIST
    This needs to updated periodically.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
 |---------------+--------------------+---------------|
 | *Column Name* | *Data Type*        | *Description* |
 |---------------+--------------------+---------------|
 | CINDEX        | NUMBER(9,0)        |               |
 | ADDRESS       | VARCHAR2(256 BYTE) | I.P Address   |
 | DESCRIPTION   | VARCHAR2(101 BYTE) |               |
 |---------------+--------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX 
** Hot Fix Procedures
   1. Develop, test the *SQL* to affect the change.
      - #{Defect}.sql /sql script/
      - #{Defect}BO.sql /backout script/
      - #{Defect}VV.sql /verify script/
   2. If not part of an *EPC Dump*
      1. Update the  *BPT Master List*
      2. Send *SQL* and test results to *Yogesh* and request a hot fix
      3. Update *BPT Hot Fix Tracking* spreadsheet
      4. Contact Carolyn/Sandeep/Sali tell them to apply the Hot Fix.
   3. Update all databases in the *DMZ* with the changes
   4. Create a *SMART Ticket*.
      1. Create *Install Plan*
      2. Create *Test Plan* /use email to Yogesh/
      3. Create *Backout Plan* /point to Install plan/
      4. Just add the following sections.
	 - Risk
	 - Business reason
	 - Impact assessment
   5. If not part of an *EPC Dump* Email John Kelly with the Install plan and all SQL.
   6. If part of an EPC dump. Notify the EPC team so they can include your *Smart Ticket* with their hot fix.
   7. Represent the change in the *Change Control Meeting*
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX 
:CLOSET:
 ** tops_outcol_3

#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
|---------------------+-------------|
| Name                | Type        |
|---------------------+-------------|
| SID                 | CHAR(8)     |
| SETLMNT_CONTRACT_CD | CHAR(3)     |
| AIR_RATE            | NUMBER(9,2) |
| TOLL_RATE_AMT       | NUMBER(9,2) |
| BILLING_OFFER       | CHAR(50)    |
| OFFER_ID            | NUMBER      |
|---------------------+-------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX 
:END:

** SID Updates
   SID'S or Switch IDentifiers is a unique 5 digit number that correlates to switch. It is with the *SID* that *TOPS* defines the all mediation and rating logic and is the first enrichment step on a call record.
*** BPT Tables and Process
   When a *SID* is added or changes there is a possibility that the following tables need to be changed:
   1. PC9_SID
   2. PC9_SID_LIST
   3. PC9_SERVE_AREA_TO_SID
   4. AGD1_RESOURCES_REF
   5. MI1_STLMNT_CONTRACT
   6. MF1_OUTCOL_SID_PAIR
   7. PC9_INCOL_SID_PAIR
   8. APE1_SUBSCR_DATA_REF
   9. APE1_SUBSCR_OFFERS_REF

*** New SID Contract Rates
   All *SIDS* changes start with the *SID* table and depending on what needs to be done there determines what needs to be done to the other 7 tables.
   For example if it is a brand new *SID* all 8 tables need to be updated with the most complicated part setting up InCollect and OutCollect processing for a *SIDS* contract. The following explains in details on what needs to be done:

    1. Find the entry in the *PC9_INCOL_SID_PAIR* where the *SERVE SID* is the contract number and the *HOME SID* = '175' /(USCC contract number)/.
       1. Expire the date for when you want the new rate to take affect.
       2. Use the above row as a template for an insert statement.
       3. *For outcollecs do the same as above except use SERVE SID = '175'*

    2. Create an Insert statement for the  *PC9_INCOL_SID_PAIR* with the new rates.

    3. For the OutCollect side find all *SIDS* that that have the *Settlement Contract Code*, /(In this example we trying to find all *SIDS* with settlement contract code = 287)/
    : SELECT SIDS FROM PC9_SID WHERE SETLMNT_CONTRACT_CD = '287';
    4. For each *SID* found add '175' to the end and use that as the resource value for the table *AGD1_RESOURCES_REF* then create an insert if it don't exists.
   #+BEGIN_LaTeX
   \footnotesize
   #+END_LaTeX
#+ATTR_LaTeX: longtable align=ll
   |-------------------------+---------------------------------|
   | *Column*                | *Value*                         |
   |-------------------------+---------------------------------|
   | *RESOURCE_SEGMENT*      | *ResourceSegmentCalc_Sh*        |
   | *RESOURCE_VALUE*        | SID + '175'                     |
   | *RESOURCE_TYPE*         | 21 (for OutCollect)             |
   | *SUBSCRIBER_ID*         | sequential number /(1, 2, 3,…)/ |
   | *SUB_STATUS*            | A (default)                     |
   | *ROUTING_POLICY_ID*     | 0 (for Postpaid)                |
   | *PAYMENT_CATEGORY*      | POST (default)                  |
   | *CUSTOMER_ID*           | 1 + SID                         |
   | *BILL_CYCLE*            | 99                              |
   | *LARGE_CUST_IND*        | ‘N’                             |
   | *RESOURCE_HASH_VALUE*   | *ResourceSegmentCalc_Sh*        |
   | *SUBSCRIBER_HASH_VALUE* | *SubsriberHashValueCalc_Sh*     |
   |-------------------------+---------------------------------|
   #+BEGIN_LaTeX
   \normalsize
   #+END_LaTeX
    5. For each *SID* found add a '1' in front which will get you the *customer_id* then do a query against the *APE1_SUBSCR_DATA_REF* to get the subscriber_id /(Using the above as an example)/
   #+BEGIN_LaTeX
   \footnotesize
   #+END_LaTeX
#+ATTR_LaTeX: longtable align=ll
   |-------------------------+---------------------------------|
   | *Column*                | *Value*                         |
   |-------------------------+---------------------------------|
   | *CYCLE_CODE*            | 99                              |
   | *CUSTOMER_SEGMENT*      | *CustomerSegmentCalc_Sh*        |
   | *SUBSCRIBER_ID*         | Sequential number /(1, 2, 3,…)/ |
   | *CUSTOMER_ID*           | 1 + SID                         |
   | *SUBSCRIBER_HASH_VALUE* | *SubscriberHashCalculator*      |
   |-------------------------+---------------------------------|
   #+BEGIN_LaTeX
   \normalsize
   #+END_LaTeX
    6. Once you have the subscriber you need to point each entries offer ID's from 
       the *APE1_SUBSCR_OFFERS_REF* table to the correct air and toll charge. /(Again using the above example)/
       To find a suitable offer ID search the *CSM_OFFER* table, if you cannot find one have the *EPC* group create one. (/In this example we are looking for a offer ID with the Air and Toll charge of 0.3/)
    : SELECT * FROM CSM_OFFER WHERE SOC_NAME LIKE '%_0.03_Air_0.03_Toll_PP%';
   #+BEGIN_LaTeX
   \footnotesize
   #+END_LaTeX
#+ATTR_LaTeX: longtable align=ll
   |-----------------------+---------------------------------|
   | *Column*              | *Value*                         |
   |-----------------------+---------------------------------|
   | *CYCLE_CODE*          | 99                              |
   | *CUSTOMER_SEGMENT*    | *CustomerSegmentCalc_Sh         |
   | *SUBSCRIBER_ID*       | sequential number /(1, 2, 3,…)/ |
   | *OFFER_ID*            | SOC_ID                          |
   | *OFFER_INSTANCE*      | Subscriber ID                   |
   | SUBSCRIBER_HASH_VALUE | *SubsriberHashValueCalc_Sh*     |
   |-----------------------+---------------------------------|
   #+BEGIN_LaTeX
   \normalsize
   #+END_LaTeX
*** Hash Creation Programs
   Some tables require that a unique hash value be created to create those values use these programs:
: ~/abp_home/core/bin/SubsriberHashValueCalc_Sh  <SUBSCRIBER_ID>
:
: ~/abp_home/core/bin/ResourceSegmentCalc_Sh     <Resource Type> 21 = (OutCollects)
:                                                <Resource Value> 
:                                                <Resource value length>
:
: ~/abp_home/core/bin/CustomerSegmentCalc_Sh     <CUSTOMER_ID>


#+BEGIN_LaTeX
\normalsize
\vspace{45mm}
#+END_LaTeX
#+ATTR_LaTeX: width=17cm
    [[file:Pictures/Meissner_War_Bulletins.jpg]]
#+BEGIN_LaTeX
\newpage
#+END_LaTeX
* Production Support - SUP1
** Support Databases
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
|------------+------------+---------------+-----------------------|
| *USERNAME* | *PASSWORD* | *DB_INSTANCE* | *Description*         |
|------------+------------+---------------+-----------------------|
| PRDAFC     | PRDAFC     | SUPAF         | Reference Tables      |
| PRDCUSTC   | PRDCUSTC   | SUPCUST       | Customer              |
| PRDRPLC    | PRDRPLC    | SUPRPL        | Replenishment Manager |
| PRDUSG1C   | PRDUSG1C   | SUPUSG1       | Usage                 |
| PRDUSG2C   | PRDUSG2C   | SUPUSG2       | Usage                 |
| PRDUSG3C   | PRDUSG3C   | SUPUSG3       | Usage                 |
| PRDUSG4C   | PRDUSG4C   | SUPUSG4       | Usage                 |
| PRDSELC    | PRDSELC    | SUPAPRM       | APRM                  |
|------------+------------+---------------+-----------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
** Support Server 
   Accessed from Putty in *TOPS* Production Support Applications.
   Should be able to login on with LAN ID and password (which is same as your LAN ID).
|---------------------|
| *SERVER NAME*       |
|---------------------|
| Ksr01omsap.uscc.com |
| ksr01bmrim.uscc.com |
| ksr01csmap.uscc.com |
| ksr01batch.uscc.com |
| ksr01tiger.uscc.com |
| ksr01aprma.uscc.com |
| ksr01mcsap.uscc.com |
| ksr01ebiap.uscc.com |
| msr01esadm.uscc.com |
| msr01esb01.uscc.com |
| msr01esb02.uscc.com |
| msr01wladm.uscc.com |
| msr01wls01.uscc.com |
| msr01wls02.uscc.com |
| msr01web01.uscc.com |
| msr01web02.uscc.com |
|---------------------|
** Development Servers
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
   |---------------+--------------+------------+----------+------------|
   | *Environment* |         *IP* | *Hostname* | *UserID* | *Password* |
   |---------------+--------------+------------+----------+------------|
   | Development   |  10.106.10.9 | mdr01bld01 | md1dbal1 | /password/ |
   | Testing       |  10.106.10.9 | mdr01bld01 | d_medap | Henry*123  |
   | CallDump      | 10.176.179.3 | kpr01scdap | calldmp  | Henry*128  |
   |---------------+--------------+------------+----------+------------|

#+BEGIN_LaTeX
\newpage
#+END_LaTeX
* APRM/GL
** APRM Tables
*** PRDAPPC.USC_ROAM_EVNTS
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|--------------------+--------------------+----------------|
| *Name*             | *Data Type*        | *Description*  |
|--------------------+--------------------+----------------|
| AIR_CHRG_AMT       | NUMBER (18,5)      |                |
| APPLICATION_ID     | CHAR (6 Byte)      |                |
| AU_ID              | NUMBER (9)         |                |
| BP_START_DATE      | DATE               |                |
| CARRIER_CD         | VARCHAR2 (20 Byte) |                |
| CIBER_FILE_NAME_1  | VARCHAR2 (50 Byte) |                |
| CIBER_FILE_NAME_2  | VARCHAR2 (50 Byte) |                |
| DL_SERVICE_CODE    | CHAR (5 Byte)      |                |
| DL_UPDATE_STAMP    | NUMBER (4)         |                |
| EDR_ID             | NUMBER (11)        |                |
| EVENT_DATE         | DATE               |                |
| EVENT_ID           | NUMBER (4)         |                |
| EVENT_TYPE         | VARCHAR2 (20 Byte) |                |
| FILE_REPORT_PERIOD | DATE               |                |
| GENERATED_REC      | NUMBER (4)         |                |
| GEO_CODE           | VARCHAR2 (10 Byte) |                |
| HOME_COMPANY       | VARCHAR2 (20 Byte) |                |
| HOME_SID           | CHAR (5 Byte)      |                |
| NTWRK_ROAM_IND     | CHAR (1 Byte)      |                |
| OPERATOR_ID        | NUMBER (9)         |                |
| ORIG_BP            | DATE               |                |
| ORIGINATING_ID     | CHAR (20 Byte)     |                |
| OTHER_COMPANY      | VARCHAR2 (20 Byte) |                |
| PROD_ID            | NUMBER (4)         |                |
| SERVE_COMPANY      | VARCHAR2 (20 Byte) |                |
| SERVE_SID          | CHAR (5 Byte)      |                |
| SUBSCRIBER_ID      | CHAR (10 Byte)     |                |
| SURCHARGE_AMOUNT   | NUMBER (18,5)      |                |
| SURCHARGE_IND      | CHAR (1 Byte)      |                |
| SYS_CREATION_DATE  | DATE               |                |
| SYS_UPDATE_DATE    | DATE               |                |
| TERMINATING_ID     | CHAR (20 Byte)     |                |
| TOLL_CHRG          | NUMBER (18,5)      |                |
| TOLL_DURATION      | NUMBER (11)        |                |
| TOLL_TP_IND        | VARCHAR2 (20 Byte) |                |
| TOTAL_CHRG_AMOUNT  | NUMBER (18,5)      |                |
| TOTAL_TAX          | NUMBER (18,5)      |                |
| USAGE              | NUMBER (18,5)      |                |
| USC_UOM            | CHAR (1 Byte)      |                |
| VISIT_IND          | CHAR (1 Byte)      |                |
| VOLUME_TYPE        | CHAR (2 Byte)      |                |
|--------------------+--------------------+----------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** usc_sap_extract_v
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|------------------+--------------------+----------------|
| *Name*           | *Data Type*        | *Descritption* |
|------------------+--------------------+----------------|
| AU_ID            | NUMBER (9)         |                |
| CARRIER_CD       | VARCHAR2 (20 Byte) |                |
| OTHER_PARTNER    | VARCHAR2 (20 Byte) |                |
| AU_PROD_ID       | NUMBER (4)         |                |
| AU_EVT_ID        | NUMBER (4)         |                |
| AU_PROD_CAT_ID   | CHAR (2 Byte)      |                |
| AU_BP_START_DATE | DATE               |                |
| AU_CHARGE        | NUMBER             |                |
| GL_ACCOUNT       | VARCHAR2 (17 Byte) |                |
| CRDR_IND         | CHAR (2 Byte)      |                |
| COST_CENTER      | CHAR (10 Byte)     |                |
| PRODUCT          | CHAR (18 Byte)     |                |
| TAX_CODE         | CHAR (2 Byte)      |                |
| TAX_JUR_CD       | CHAR (15 Byte)     |                |
| LINE_ORDER       | NUMBER             |                |
|------------------+--------------------+----------------|

** APRM Queries
   [[file:docs/APRM%20Queries][AprmQuery.sql]]
* Accounts Receivable
  Handles Finance, Payments and credits as well Collections. 
** AR Basics
   - *Root Directory* - $ABP_AR_ROOT on kpr01batch
   - *Collection Interface* - /pkgbl01/inf/aimsys/prdwrk1/var/usc/projs/cl/interfaces 
** AR Jobs and Deamons
*** AR1JRNLEXT
    The Journal Extract process extracts to an output file all financial activities that occurred since the last run of this process.
    - *LOG FILE* - AR1JRNLEXT.<SYS_DATE>.log
    - *Output File* -
    - *Script Name* - ar1_JrnlExtract_Sh
*** AR1PYMRCT
*** AR1DDREQCRE
*** AR3GWLSTR
*** AR1PYMPOST
*** AR1DDFEDBCK
*** AR1INVRCT
** End of Month
   [[file:docs/AR%20EOM.sql][AR End Of Month - SQL]]
   - Email List for Revenue Accounting
   - Revenue Not confirmed for cycles 24,26 and 28
   - Null GeoCodes
   - Query for the EOM
** Payment File
   Once in a while payment files break due to either bad sequence numbers or format issues. For the most part you should tell Amdocs to put the file in CN status and have *Payment Control* to resend.
   If the file is also out of sequence have payment control send it with a new sequence number. If the whole file fails, not just records, then have Payment Control send a new file with a new sequence number.
: PaymentControl-ImportPaymentFiles@uscellular.com>
** AR Reports
   - *LockBox*
     - /File Location/ : $ABP_AR_ROOT/interfaces/input/lockbox/MELL_PYM.*.csv
   - *AGTCASH*
     - /File Location/ : $ABP_AR_ROOT/interfaces/input/lockbox/ACP_PYM*.csv
   - *IMPCOL*
     - /File Location/ : $ABP_AR_ROOT/interfaces/input/lockbox/IMPCOL.PAY*.csv
   - *IMPEFT*
     - /File Location/ : $ABP_AR_ROOT/interfaces/input/lockbox/IMPEFT.PAY.*csv
   - *IMPPAY*
     - /File Location/ : $ABP_AR_ROOT/interfaces/input/lockbox/IMPPAY.PAY.*.csv
   - *Autopay Reports* \\ Both of these reports are derived after the above files have been processed.
     - *Autopay_PostPaid*
        - Run both the expected and actual *SQL*
     - *Autopay_PrePaid*
        - Run prepaid expected *SQL*
   - *ACH extract file* \\Check to see if the output report and *SQL* match.
     - /File Location/ : $ABP_AR_ROOT/interfaces/output/ACH.ar.DD_OUT*\\

** AR Tables
*** AR1_ACCOUNT
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|-----------------------------+--------------------+------------------|
| *Column Name*               | *Data Type*        | *Description*    |
|-----------------------------+--------------------+------------------|
| *ACCOUNT_ID*                | NUMBER (12)        | The Financial ID |
| ACCOUNT_STATUS              | VARCHAR2 (4 Byte)  |                  |
| ACCOUNT_TIMESTAMP           | NUMBER (19)        |                  |
| ACCT_BAL_POLICY             | CHAR (1 Byte)      |                  |
| APPLICATION_ID              | CHAR (6 Byte)      |                  |
| *AR_ACCOUNT_SUB_TYPE*       | CHAR (4 Byte)      |                  |
| *AR_ACCOUNT_TYPE*           | CHAR (1 Byte)      |                  |
| *AR_BALANCE*                | NUMBER (18,2)      |                  |
| AR_EXCEPTION_ACC_IND        | CHAR (1 Byte)      |                  |
| BALANCE_UPD_DATE            | DATE               |                  |
| BE                          | NUMBER (9)         |                  |
| CANDIDATE_FILE_EXTRACT_DATE | DATE               |                  |
| CM_ACCOUNT_NUMBER           | VARCHAR2 (12 Byte) |                  |
| COLL_IND_UPD_DATE           | DATE               |                  |
| COLLECTION_INDICATOR        | CHAR (1 Byte)      |                  |
| CURRENCY                    | CHAR (3 Byte)      |                  |
| *CUSTOMER_NO*               | NUMBER (10)        |                  |
| DEPOSIT_BALANCE             | NUMBER (18,2)      |                  |
| DISPUTE_BALANCE             | NUMBER (18,2)      |                  |
| DL_SERVICE_CODE             | CHAR (5 Byte)      |                  |
| DL_UPDATE_STAMP             | NUMBER (4)         |                  |
| DOCUMENT_TYPE               | CHAR (6 Byte)      |                  |
| L3_AGREEMENT_ID             | NUMBER (9)         |                  |
| L3_BOD_BALANCE              | NUMBER (18,2)      |                  |
| L3_CREDIT_LIMIT_IND         | CHAR (1 Byte)      |                  |
| L3_NEW_INVOICE_IND          | CHAR (1 Byte)      |                  |
| L3_SEND_BALANCE             | NUMBER (18,2)      |                  |
| *L9_GEO_CODE*               | VARCHAR2 (10 Byte) |                  |
| LAST_ACTIVITY_STATUS_DATE   | DATE               |                  |
| LPC_WAVING_IND              | CHAR (1 Byte)      |                  |
| OPERATOR_ID                 | NUMBER (9)         |                  |
| PARTITION_ID                | NUMBER (5)         |                  |
| PENDING_CREDIT_BALANCE      | NUMBER (18,2)      |                  |
| SYS_CREATION_DATE           | DATE               |                  |
| SYS_UPDATE_DATE             | DATE               |                  |
| UNAPPLIED_AMOUNT            | NUMBER (18,2)      |                  |
| WRITE_OFF_STATUS            | CHAR (1 Byte)      |                  |
|-----------------------------+--------------------+------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** AR1_INVOICE
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|----------------------------+---------------------+---------------|
| *Column Name*              | *Data Type*         | *Description* |
|----------------------------+---------------------+---------------|
| *ACCOUNT_ID*               | NUMBER (12)         |               |
| APPLICATION_ID             | CHAR (6 Byte)       |               |
| AR_INVOICE_NUMBER          | VARCHAR2 (60 Byte)  |               |
| BILL_SEQ_NO                | NUMBER (12)         |               |
| BILLING_ARRANGEMENT_ID     | NUMBER (12)         |               |
| BILLING_INVOICE_NUMBER     | VARCHAR2 (180 Byte) |               |
| CREDIT_AMOUNT              | NUMBER (18,2)       |               |
| CREDIT_NET_AMOUNT          | NUMBER (18,2)       |               |
| CREDIT_TAX_AMOUNT          | NUMBER (18,2)       |               |
| *CYCLE_CODE*               | NUMBER (4)          |               |
| *CYCLE_MONTH*              | NUMBER (2)          |               |
| CYCLE_YEAR                 | NUMBER (4)          |               |
| DISCOUNT_AMOUNT            | NUMBER (18,2)       |               |
| DISCOUNT_NET_AMT           | NUMBER (18,2)       |               |
| DISCOUNT_TAX_AMT           | NUMBER (18,2)       |               |
| DL_SERVICE_CODE            | CHAR (5 Byte)       |               |
| DL_UPDATE_STAMP            | NUMBER (4)          |               |
| FINALISE_DATE              | DATE                |               |
| FINALISE_TRANS_ID          | NUMBER (12)         |               |
| INVOICE_AMOUNT             | NUMBER (18,2)       |               |
| INVOICE_BALANCE            | NUMBER (18,2)       |               |
| INVOICE_CREATION_DATE      | DATE                |               |
| INVOICE_ID                 | NUMBER (12)         |               |
| INVOICE_STATUS             | VARCHAR2 (6 Byte)   |               |
| INVOICE_STATUS_CHANGE_DATE | DATE                |               |
| INVOICE_TYPE               | VARCHAR2 (6 Byte)   |               |
| L3_CRD_EXTRACT_IND         | CHAR (1 Byte)       |               |
| OPERATOR_ID                | NUMBER (9)          |               |
| PARTITION_ID               | NUMBER (5)          |               |
| PERIOD_KEY                 | NUMBER (5)          |               |
| REVERSAL_DATE              | DATE                |               |
| REVERSAL_TRANS_ID          | NUMBER (12)         |               |
| SUB_BILL_SEQ_NO            | NUMBER (12)         |               |
| SYS_CREATION_DATE          | DATE                |               |
| SYS_UPDATE_DATE            | DATE                |               |
| TAX_AMOUNT                 | NUMBER (18,2)       |               |
| TRANSACTION_ID             | NUMBER (12)         |               |
|----------------------------+---------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** AR1_CHARGE_CODE
:CLOSET:
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|----------------------+---------------------+---------------|
| *Column Name*        | *Data Type*         | *Description* |
|----------------------+---------------------+---------------|
| APPLICATION_ID       | CHAR (6 Byte)       |               |
| BALANCE_IMPACT_CODE  | CHAR (1 Byte)       |               |
| CHARGE_CODE          | VARCHAR2 (25 Byte)  |               |
| CHARGE_CODE_DESC     | VARCHAR2 (180 Byte) |               |
| CLASSIFICATION       | VARCHAR2 (40 Byte)  |               |
| DL_SERVICE_CODE      | CHAR (5 Byte)       |               |
| DL_UPDATE_STAMP      | NUMBER (4)          |               |
| GROUP_TYPE           | VARCHAR2 (6 Byte)   |               |
| MANUAL_OC_CREATE_IND | CHAR (1 Byte)       |               |
| OPERATOR_ID          | NUMBER (9)          |               |
| REVENUE_CODE         | VARCHAR2 (2 Byte)   |               |
| SYS_CREATION_DATE    | DATE                |               |
| SYS_UPDATE_DATE      | DATE                |               |
| TAX_CODE             | VARCHAR2 (6 Byte)   |               |
|----------------------+---------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
:END:
*** AR1_CHARGE_GROUP
:CLOSET:
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|---------------------------+--------------------+---------------|
| *Column Name*             | *Data Type*        | *Description* |
|---------------------------+--------------------+---------------|
| ACCOUNT_ID                | NUMBER (12)        |               |
| AGING_CATEGORY            | CHAR (1 Byte)      |               |
| APPLICATION_ID            | CHAR (6 Byte)      |               |
| BALANCE                   | NUMBER (18,2)      |               |
| BILL_SEQ_NO               | NUMBER (12)        |               |
| BILLING_ARRANGEMENT_ID    | NUMBER (12)        |               |
| CALCULATE_LPF_IND         | CHAR (1 Byte)      |               |
| CHARGES_AMOUNT            | NUMBER (18,2)      |               |
| CREATION_DATE             | DATE               |               |
| DEBIT_ID                  | NUMBER (12)        |               |
| DEBT_TYPE                 | VARCHAR2 (6 Byte)  |               |
| DISPUTE_NET_AMOUNT        | NUMBER (18,2)      |               |
| DISPUTE_TAX_AMOUNT        | NUMBER (18,2)      |               |
| DL_SERVICE_CODE           | CHAR (5 Byte)      |               |
| DL_UPDATE_STAMP           | NUMBER (4)         |               |
| DUE_DATE                  | DATE               |               |
| FA_BILL_SEQ_NO            | NUMBER (12)        |               |
| FA_SUB_BILL_SEQ_NO        | NUMBER (12)        |               |
| GROUP_TYPE                | VARCHAR2 (6 Byte)  |               |
| INVOICE_ID                | NUMBER (12)        |               |
| L3_LAST_LPF_CALC_DATE     | DATE               |               |
| L3_LPF_WAIVED_AMOUNT      | NUMBER (18,2)      |               |
| L9_GEO_CODE               | VARCHAR2 (10 Byte) |               |
| L9_RERUN_LPF_CALC_DATE    | DATE               |               |
| L9_RERUN_WAIVED_AMOUNT    | NUMBER (18,2)      |               |
| LPF_BILL_SEQ_NO           | NUMBER (12)        |               |
| LPF_SUB_BILL_SEQ_NO       | NUMBER (12)        |               |
| OPERATOR_ID               | NUMBER (9)         |               |
| PARTITION_ID              | NUMBER (5)         |               |
| PENDING_CREDIT_NET_AMOUNT | NUMBER (18,2)      |               |
| PENDING_CREDIT_TAX_AMOUNT | NUMBER (18,2)      |               |
| PERIOD_KEY                | NUMBER (5)         |               |
| PREVIOUS_LPF_CUTOFF_DATE  | DATE               |               |
| PREVIOUS_LPF_START_DATE   | DATE               |               |
| PRIORITY                  | NUMBER (2)         |               |
| SYS_CREATION_DATE         | DATE               |               |
| SYS_UPDATE_DATE           | DATE               |               |
| TAX_AMOUNT                | NUMBER (18,2)      |               |
| TRANSACTION_ID            | NUMBER (12)        |               |
|---------------------------+--------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
:END:
*** AR1_CUSTOMER_CREDIT
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|---------------------------+--------------------+---------------|
| *Column Name*             | *Data Type*        | *Description* |
|---------------------------+--------------------+---------------|
| ACCOUNT_ID                | NUMBER (12)        |               |
| AMOUNT                    | NUMBER (18,2)      |               |
| APPLICATION_ID            | CHAR (6 Byte)      |               |
| BALANCE_IMPACT_CODE       | CHAR (1 Byte)      |               |
| BE                        | NUMBER (9)         |               |
| BILL_SEQ_NO               | NUMBER (12)        |               |
| BILLING_ARRANGEMENT_ID    | NUMBER (12)        |               |
| BILLING_CHARGE_SEQ_NO     | NUMBER (12)        |               |
| CHARGE_CODE               | VARCHAR2 (25 Byte) |               |
| CHG_REVENUE_CODE          | CHAR (6 Byte)      |               |
| CR_ATTRIB_NAME            | VARCHAR2 (30 Byte) |               |
| CREDIT_DATE               | DATE               |               |
| CREDIT_ID                 | NUMBER (12)        |               |
| CREDIT_LEVEL_CODE         | CHAR (3 Byte)      |               |
| CREDIT_REASON             | VARCHAR2 (10 Byte) |               |
| DL_SERVICE_CODE           | CHAR (5 Byte)      |               |
| DL_UPDATE_STAMP           | NUMBER (4)         |               |
| FINALISE_DATE             | DATE               |               |
| FINALISE_TRANS_ID         | NUMBER (12)        |               |
| INVOICE_ID                | NUMBER (12)        |               |
| INVOICE_REVERSAL_NUMBER   | NUMBER (12)        |               |
| L9_CANCEL_IND             | VARCHAR2 (2 Byte)  |               |
| L9_DF_ACTIVITY            | VARCHAR2 (3 Byte)  |               |
| L9_DF_INDICATOR           | VARCHAR2 (3 Byte)  |               |
| L9_DF_PERIOD              | VARCHAR2 (3 Byte)  |               |
| L9_EVENT_ID               | NUMBER (18)        |               |
| L9_IS_DISCOUNT            | VARCHAR2 (1 Byte)  |               |
| L9_LINE_COUNT             | NUMBER (5)         |               |
| L9_LOCATION               | VARCHAR2 (15 Byte) |               |
| L9_LT_AMOUNT              | NUMBER (18,2)      |               |
| L9_ORIG_CHARGE_TYPE       | VARCHAR2 (3 Byte)  |               |
| L9_ORIG_CHG_SEQ_NO        | NUMBER (12)        |               |
| L9_REV_LOCATION           | VARCHAR2 (15 Byte) |               |
| L9_REV_SALES_CHANNEL      | VARCHAR2 (15 Byte) |               |
| L9_SALES_CHANNEL          | VARCHAR2 (15 Byte) |               |
| L9_ST_AMOUNT              | NUMBER (18,2)      |               |
| OPERATOR_ID               | NUMBER (9)         |               |
| PARTITION_ID              | NUMBER (5)         |               |
| PERIOD_KEY                | NUMBER (5)         |               |
| RESTRICTED_CHARGE_ID      | NUMBER (12)        |               |
| RESTRICTED_INVOICE_NUMBER | NUMBER (12)        |               |
| REVERSAL_BILL_SEQ_NO      | NUMBER (12)        |               |
| REVERSAL_DATE             | DATE               |               |
| REVERSAL_REASON           | VARCHAR2 (10 Byte) |               |
| REVERSAL_SUB_BILL_SEQ_NO  | NUMBER (12)        |               |
| REVERSAL_TRANS_ID         | NUMBER (12)        |               |
| SUB_BILL_SEQ_NO           | NUMBER (12)        |               |
| SYS_CREATION_DATE         | DATE               |               |
| SYS_UPDATE_DATE           | DATE               |               |
| TAX_AMOUNT                | NUMBER (18,2)      |               |
| TRANSACTION_ID            | NUMBER (12)        |               |
| WRITE_OFF_ID              | NUMBER (12)        |               |
|---------------------------+--------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** AR1_TAX_ITEM
:CLOSET:
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|----------------------------+---------------------+---------------|
| *Column Name*              | *Data Type*         | *Description* |
|----------------------------+---------------------+---------------|
| APPLICATION_ID             | CHAR (6 Byte)       |               |
| BILLING_ARRANGEMENT_ID     | NUMBER (12)         |               |
| CHARGE_ID                  | NUMBER (12)         |               |
| CREDIT_ID                  | NUMBER (12)         |               |
| DL_SERVICE_CODE            | CHAR (5 Byte)       |               |
| DL_UPDATE_STAMP            | NUMBER (4)          |               |
| EXEMPTION_TYPE             | CHAR (1 Byte)       |               |
| L9_CITY                    | VARCHAR2 (255 Byte) |               |
| L9_COUNTY                  | VARCHAR2 (255 Byte) |               |
| L9_GEO_CODE                | VARCHAR2 (10 Byte)  |               |
| L9_INCORPORATION_INDICATOR | CHAR (1 Byte)       |               |
| L9_LINK_TAX_AMOUNT         | NUMBER (18,2)       |               |
| L9_SERVICE_CATEGORY        | VARCHAR2 (2 Byte)   |               |
| L9_SERVICE_TYPE            | VARCHAR2 (2 Byte)   |               |
| L9_STATE                   | VARCHAR2 (2 Byte)   |               |
| L9_SURCHARGE_IND           | CHAR (1 Byte)       |               |
| OPERATOR_ID                | NUMBER (9)          |               |
| PARTITION_ID               | NUMBER (5)          |               |
| PERIOD_KEY                 | NUMBER (5)          |               |
| RESTRICTION_AMOUNT         | NUMBER (18,2)       |               |
| RESTRICTION_TAX_ID         | NUMBER (12)         |               |
| SYS_CREATION_DATE          | DATE                |               |
| SYS_UPDATE_DATE            | DATE                |               |
| TAX_AMOUNT                 | NUMBER (18,2)       |               |
| TAX_AUTHORITY              | VARCHAR2 (15 Byte)  |               |
| TAX_CODE                   | VARCHAR2 (6 Byte)   |               |
| TAX_ID                     | NUMBER (12)         |               |
| TAX_RATE                   | NUMBER (12,6)       |               |
| TAX_RELATION               | CHAR (1 Byte)       |               |
| TAX_REVERSAL_IND           | CHAR (1 Byte)       |               |
| TAX_TYPE                   | CHAR (6 Byte)       |               |
| TAXABLE_AMOUNT             | NUMBER (18,2)       |               |
|----------------------------+---------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
:END:
*** AR1_REFUND_REQUEST
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|----------------------------+--------------------+---------------|
| *Column Name*              | *Data Type*        | *Description* |
|----------------------------+--------------------+---------------|
| ACCOUNT_ID                 | NUMBER (12)        |               |
| ACTIVITY_DATE              | DATE               |               |
| AMOUNT                     | NUMBER (18,2)      |               |
| APPLICATION_ID             | CHAR (6 Byte)      |               |
| APPLICATION_METHOD         | VARCHAR2 (5 Byte)  |               |
| CREDIT_ID                  | NUMBER (12)        |               |
| CRITERIA_ID                | NUMBER (12)        |               |
| DEBIT_ID                   | NUMBER (12)        |               |
| DL_SERVICE_CODE            | CHAR (5 Byte)      |               |
| DL_UPDATE_STAMP            | NUMBER (4)         |               |
| EXTRACT_TO_AP_DATE         | DATE               |               |
| L9_BUY_BACK_PREPAID        | VARCHAR2 (2 Byte)  |               |
| L9_CITY                    | VARCHAR2 (35 Byte) |               |
| L9_CUSTOMER_NAME           | VARCHAR2 (50 Byte) |               |
| L9_LOCATION                | VARCHAR2 (15 Byte) |               |
| L9_MERCHANT_REFERENCE_CODE | NUMBER (8)         |               |
| L9_POSTAL_CODE             | VARCHAR2 (10 Byte) |               |
| L9_REGION                  | VARCHAR2 (3 Byte)  |               |
| L9_REQUEST_ID              | VARCHAR2 (26 Byte) |               |
| L9_REV_LOCATION            | VARCHAR2 (15 Byte) |               |
| L9_REV_SALES_CHANNEL       | VARCHAR2 (15 Byte) |               |
| L9_SALES_CHANNEL           | VARCHAR2 (15 Byte) |               |
| L9_STREET                  | VARCHAR2 (35 Byte) |               |
| MANUAL_REFUND_IND          | CHAR (1 Byte)      |               |
| OPERATOR_ID                | NUMBER (9)         |               |
| PARTITION_ID               | NUMBER (5)         |               |
| REFUND_ID                  | NUMBER (12)        |               |
| REFUND_METHOD              | VARCHAR2 (3 Byte)  |               |
| REFUND_REASON              | VARCHAR2 (10 Byte) |               |
| REFUND_STATUS              | CHAR (1 Byte)      |               |
| REVERSAL_CREDIT_ID         | NUMBER (12)        |               |
| REVERSAL_DATE              | DATE               |               |
| REVERSAL_REASON            | VARCHAR2 (10 Byte) |               |
| REVERSAL_TRANS_ID          | NUMBER (12)        |               |
| SYS_CREATION_DATE          | DATE               |               |
| SYS_UPDATE_DATE            | DATE               |               |
| TRANSACTION_ID             | NUMBER (12)        |               |
|----------------------------+--------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** AR1_DEPOSIT_REQUEST
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|---------------------+--------------------+---------------|
| *Column Name*       | *Data Type*        | *Description* |
|---------------------+--------------------+---------------|
| ACCOUNT_ID          | NUMBER (12)        |               |
| APPLICATION_ID      | CHAR (6 Byte)      |               |
| CANCEL_DATE         | DATE               |               |
| CANCEL_REASON       | VARCHAR2 (6 Byte)  |               |
| CANCELLED_AMOUNT    | NUMBER (18,2)      |               |
| DEBIT_ID            | NUMBER (12)        |               |
| DEPOSIT_DESIGNATION | VARCHAR2 (20 Byte) |               |
| DEPOSIT_ID          | NUMBER (12)        |               |
| DL_SERVICE_CODE     | CHAR (5 Byte)      |               |
| DL_UPDATE_STAMP     | NUMBER (4)         |               |
| DUE_DATE            | DATE               |               |
| EXTERNAL_DEPOSIT_ID | VARCHAR2 (20 Byte) |               |
| GROUP_ID            | VARCHAR2 (20 Byte) |               |
| INTEREST_AMOUNT     | NUMBER (18,2)      |               |
| L9_AP_ID            | VARCHAR2 (10 Byte) |               |
| L9_EXT_CHG_ID       | NUMBER (12)        |               |
| L9_LOCATION         | VARCHAR2 (15 Byte) |               |
| L9_SALES_CHANNEL    | VARCHAR2 (15 Byte) |               |
| OPERATOR_ID         | NUMBER (9)         |               |
| PAID_DATE           | DATE               |               |
| PARENT_DEPOSIT_ID   | NUMBER (12)        |               |
| PARTITION_ID        | NUMBER (5)         |               |
| PYMT_TRIGGERED      | CHAR (1 Byte)      |               |
| RELEASE_DATE        | DATE               |               |
| RELEASE_METHOD      | VARCHAR2 (6 Byte)  |               |
| RELEASE_REASON      | VARCHAR2 (6 Byte)  |               |
| RELEASED_AMOUNT     | NUMBER (18,2)      |               |
| REQUEST_AMOUNT      | NUMBER (18,2)      |               |
| REQUEST_DATE        | DATE               |               |
| REQUEST_REASON      | VARCHAR2 (6 Byte)  |               |
| REVERSAL_TRANS_ID   | NUMBER (12)        |               |
| SYS_CREATION_DATE   | DATE               |               |
| SYS_UPDATE_DATE     | DATE               |               |
| TRANSACTION_ID      | NUMBER (12)        |               |
|---------------------+--------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** AR1_PAYMENT
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|---------------------------+--------------------+---------------|
| *Column Name*             | *Data Type*        | *Description* |
|---------------------------+--------------------+---------------|
| ACCOUNT_ID                | NUMBER (12)        |               |
| ACTIVITY_DATE             | DATE               |               |
| ACTIVITY_INDICATOR        | CHAR (5 Byte)      |               |
| AMOUNT                    | NUMBER (18,2)      |               |
| APPLICATION_ID            | CHAR (6 Byte)      |               |
| BILL_SEQ_NO               | NUMBER (12)        |               |
| CONVERSION_RATE           | NUMBER (11,9)      |               |
| CREDIT_ID                 | NUMBER (12)        |               |
| DL_SERVICE_CODE           | CHAR (5 Byte)      |               |
| DL_UPDATE_STAMP           | NUMBER (4)         |               |
| L9_DEP_REL                | CHAR (1 Byte)      |               |
| L9_LOCATION               | VARCHAR2 (15 Byte) |               |
| L9_SALES_CHANNEL          | VARCHAR2 (15 Byte) |               |
| OPERATOR_ID               | NUMBER (9)         |               |
| ORIGINAL_AMOUNT           | NUMBER (18,2)      |               |
| ORIGINAL_CONVERTED_AMOUNT | NUMBER (18,2)      |               |
| PARTITION_ID              | NUMBER (5)         |               |
| PAYMENT_ID                | NUMBER (12)        |               |
| PERIOD_KEY                | NUMBER (5)         |               |
| PYMDT_PARTITION_ID        | NUMBER (5)         |               |
| PYMDT_PERIOD_KEY          | NUMBER (5)         |               |
| REVERSAL_TRANS_ID         | NUMBER (12)        |               |
| SUB_BILL_SEQ_NO           | NUMBER (12)        |               |
| SYS_CREATION_DATE         | DATE               |               |
| SYS_UPDATE_DATE           | DATE               |               |
| TRANSACTION_ID            | NUMBER (12)        |               |
|---------------------------+--------------------+---------------|


#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** AR1_PAYMENT_DETAILS
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|----------------------------+---------------------+---------------|
| *Column Name*              | *Data Type*         | *Description* |
|----------------------------+---------------------+---------------|
| ACCOUNT_ID                 | NUMBER (12)         |               |
| AMOUNT                     | NUMBER (18,2)       |               |
| APPLICATION_ID             | CHAR (6 Byte)       |               |
| BANK_ACCOUNT_NUMBER        | VARCHAR2 (255 Byte) |               |
| BANK_BRANCH_NUMBER         | VARCHAR2 (20 Byte)  |               |
| BANK_CODE                  | VARCHAR2 (20 Byte)  |               |
| BATCH_LINE_NUMBER          | NUMBER (6)          |               |
| BATCH_NUMBER               | NUMBER (5)          |               |
| BILLING_ARRANGEMENT        | NUMBER (12)         |               |
| BILLING_INVOICE_NUMBER     | VARCHAR2 (180 Byte) |               |
| CC_AUTHORISATION_CODE      | VARCHAR2 (8 Byte)   |               |
| CC_EXPIRY_DATE             | VARCHAR2 (6 Byte)   |               |
| CHECK_DRAWER_NAME          | VARCHAR2 (30 Byte)  |               |
| CHECK_NO                   | VARCHAR2 (15 Byte)  |               |
| CONFIRMATION_NO            | VARCHAR2 (20 Byte)  |               |
| CREDIT_CARD_NUMBER         | VARCHAR2 (255 Byte) |               |
| CURRENCY                   | CHAR (3 Byte)       |               |
| DEPOSIT_DATE               | DATE                |               |
| DEPOSIT_DESIGNATION        | VARCHAR2 (20 Byte)  |               |
| DIRECT_DEBIT_VOUCHER       | NUMBER (12)         |               |
| DL_SERVICE_CODE            | CHAR (5 Byte)       |               |
| DL_UPDATE_STAMP            | NUMBER (4)          |               |
| FILE_GENERATION_DATE       | DATE                |               |
| FILE_SEQ_NO                | NUMBER (5)          |               |
| FILE_SOURCE_ID             | VARCHAR2 (8 Byte)   |               |
| FILE_SOURCE_TYPE           | VARCHAR2 (4 Byte)   |               |
| L9_AUTHORIZATION_CODE      | VARCHAR2 (7 Byte)   |               |
| L9_CTN                     | NUMBER (10)         |               |
| L9_EXT_PYM_ID              | VARCHAR2 (32 Byte)  |               |
| L9_LOCATION                | VARCHAR2 (15 Byte)  |               |
| L9_MERCHANT_ID             | VARCHAR2 (30 Byte)  |               |
| L9_MERCHANT_REFERENCE_CODE | NUMBER (8)          |               |
| L9_ORIG_ACCOUNT            | NUMBER (12)         |               |
| L9_ORIG_CHECK_AMT          | NUMBER (18,2)       |               |
| L9_ORIGINATOR              | VARCHAR2 (20 Byte)  |               |
| L9_ORIGINATOR_LOCATION     | VARCHAR2 (20 Byte)  |               |
| L9_PAYMENT_RECURRANCE      | CHAR (1 Byte)       |               |
| L9_REQUEST_ID              | VARCHAR2 (26 Byte)  |               |
| L9_SALES_CHANNEL           | VARCHAR2 (15 Byte)  |               |
| MEMO_ID                    | NUMBER (12)         |               |
| OPERATOR_ID                | NUMBER (9)          |               |
| PARTITION_ID               | NUMBER (5)          |               |
| PAYMENT_ID                 | NUMBER (12)         |               |
| PAYMENT_METHOD             | CHAR (3 Byte)       |               |
| PAYMENT_SOURCE_ID          | VARCHAR2 (15 Byte)  |               |
| PAYMENT_SOURCE_TYPE        | VARCHAR2 (3 Byte)   |               |
| PAYMENT_SUB_METHOD         | VARCHAR2 (3 Byte)   |               |
| PAYMENT_TYPE               | CHAR (1 Byte)       |               |
| PERIOD_KEY                 | NUMBER (5)          |               |
| RECALL_NUMBER              | VARCHAR2 (15 Byte)  |               |
| REJECTION_CODE             | VARCHAR2 (4 Byte)   |               |
| REVERSAL_REASON            | VARCHAR2 (10 Byte)  |               |
| SUBSCRIBER_NUMBER          | VARCHAR2 (11 Byte)  |               |
| SYS_CREATION_DATE          | DATE                |               |
| SYS_UPDATE_DATE            | DATE                |               |
| TRANSACTION_ID             | NUMBER (12)         |               |
|----------------------------+---------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** AR1_PAYMENT_ACTIVITY
    Used in the *Paid and Prepaid* reports.
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|-----------------------+--------------------+---------------|
| *Column Name*         | *Data Type*        | *Description* |
|-----------------------+--------------------+---------------|
| ACCOUNT_ID            | NUMBER (12)        |               |
| ACTIVITY_DATE         | DATE               |               |
| ACTIVITY_TYPE         | CHAR (5 Byte)      |               |
| AMOUNT                | NUMBER (18,2)      |               |
| APPLICATION_ID        | CHAR (6 Byte)      |               |
| BILL_SEQ_NO           | NUMBER (12)        |               |
| CREDIT_ID             | NUMBER (12)        |               |
| DL_SERVICE_CODE       | CHAR (5 Byte)      |               |
| DL_UPDATE_STAMP       | NUMBER (4)         |               |
| FUNDS_TRANSFER_IND    | VARCHAR2 (6 Byte)  |               |
| FUNDS_TRANSFER_REASON | VARCHAR2 (10 Byte) |               |
| L9_BATCH_LINE_NUMBER  | NUMBER (7)         |               |
| L9_BATCH_NUMBER       | NUMBER (6)         |               |
| L9_FILE_NAME          | VARCHAR2 (50 Byte) |               |
| L9_LOCATION           | VARCHAR2 (15 Byte) |               |
| L9_SALES_CHANNEL      | VARCHAR2 (15 Byte) |               |
| MEMO_ID               | NUMBER (12)        |               |
| OPERATOR_ID           | NUMBER (9)         |               |
| PARENT_CREDIT         | NUMBER (12)        |               |
| PARTITION_ID          | NUMBER (5)         |               |
| PAYMENT_ACTIVITY_ID   | NUMBER (12)        |               |
| PAYMENT_PERIOD_KEY    | NUMBER (5)         |               |
| PERIOD_KEY            | NUMBER (5)         |               |
| REASON_CODE           | VARCHAR2 (10 Byte) |               |
| REVERSAL_DATE         | DATE               |               |
| REVERSAL_REASON       | VARCHAR2 (10 Byte) |               |
| REVERSAL_TRANS_ID     | NUMBER (12)        |               |
| SUB_BILL_SEQ_NO       | NUMBER (12)        |               |
| SYS_CREATION_DATE     | DATE               |               |
| SYS_UPDATE_DATE       | DATE               |               |
| TRANSACTION_ID        | NUMBER (12)        |               |
| TRANSFER_ACCOUNT      | NUMBER (12)        |               |
|-----------------------+--------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

** Credit Cards
*** AR9_CC_AUTH_LOG
    Credit card transactions from the *TOPS* side.
:CLOSET:
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|--------------------------+-------------+---------------|
| *Column Name*            | *Data Type* | *Description* |
|--------------------------+-------------+---------------|
| partition_id             | Number      |               |
| merchant_reference_code  | Number      |               |
| merchant_id              | Char        |               |
| request_status           | Char        |               |
| payment_sub_method       | Char        |               |
| expiration_date          | Date        |               |
| trans_type               | Char        |               |
| tel_num                  | Char        |               |
| first_name               | Char        |               |
| last_name                | Char        |               |
| street                   | Char        |               |
| city                     | Char        |               |
| state                    | Char        |               |
| country_code             | Char        |               |
| postal_code              | Number      |               |
| email                    | Char        |               |
| card_sec_presence        | Char        |               |
| request_id               | Number      |               |
| request_date             | Date        |               |
| decline_avs_flag         | Char        |               |
| cv_code                  | Char        |               |
| payment_method           | Char        |               |
| avs_code                 | Char        |               |
| subscription_id          | Char        |               |
| vendor_reason_code       | Number      |               |
| uscc_reason_code         | Char        |               |
| uscc_reason_description  | Char        |               |
| decision                 | Char        |               |
| reason_message           | Char        |               |
| period_key               | Number      |               |
| amount                   | Number      |               |
| reason_code              | Number      |               |
| originator               | Char        |               |
| originator_location      | Char        |               |
| recurring_subs_frequency | Number      |               |
| sys_creation_date        | Date        |               |
| sys_update_date          | Date        |               |
| operator_id              | 107         |               |
| application_id           | Char        |               |
| dl_service_code          | Char        |               |
| dl_update_stamp          | Date        |               |
| curr_code                | USD         |               |
| card_number              | Number      |               |
| account_id               | Number      |               |
| authorization_code       | Number      |               |
| l9_voucher_id            | Number      |               |
|--------------------------+-------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
:END:
*** CTLOG
    Database from the microtelecom side.
:CLOSET:
#+BEGIN_LaTeX
\scriptsize
#+END_LaTeX
#+ATTR_LaTeX: longtable align=lll
|---------------+-------------+---------------|
| *Column Name* | *Data Type* | *Description* |
|---------------+-------------+---------------|
| cctransid     | Number      |               |
| toptreeid     | Number      |               |
| agentid       | Number      |               |
| gatewaycode   | Number      |               |
| processdate   | Date        |               |
| processorcode | Char        |               |
| authcode      | Number      |               |
| transid       | Number      |               |
| payid         | Number      |               |
| success       | Number      |               |
| amt           | Number      |               |
| taxamt        | Number      |               |
| gatewayid     | Number      |               |
| gatewayacc    | Char        |               |
| uid           | Number      |               |
| wsid          | Number      |               |
| cctranstype   | Char        |               |
| cctype        | Char        |               |
| ccname        | Char        |               |
| last4digits   | Number      |               |
| ccexp         | Number      |               |
| ccphone       | Char        |               |
| cczip         | Char        |               |
| ccaddress     | Char        |               |
| cccity        | Char        |               |
| ccstate       | Char        |               |
| cccountry     | Char        |               |
| fromaccid     | Number      |               |
| toaccid       | Number      |               |
| ccnum         | Number      |               |
| note          | Char        |               |
| extdata       | Char        |               |
| respmsg       | Char        |               |
| avscode       | Char        |               |
| cvcode        | Char        |               |
| soid          | Number      |               |
| mtcustid      | Number      |               |
| api           | Number      |               |
| emprefid      | Number      |               |
| session       | Char        |               |
| srvinsdts     | Date        |               |
| bankid        | Number      |               |
|---------------+-------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
:END:
** GL Tables
*** ar1_gl_detailed_data_info_v
*** ar1_gl_data_info_v
*** ar1_transaction_log
*** ar1-JGL-control
** GL Extracts
   These are created via *APRM*.
*** SAP Extracts
  - Business owner (3/15/2013): Diane Matulis 
  - Transfer target: svc_mft_ops@babble.tds.local:~bosstven/glinty3t 
*** General Ledger - Incollect - USCSAPEXTRGL SAPIN
    - Job name: USCSAPEXTRGL SAPIN 
    - Schedule: EOD 
    - TWS Job name: PR-FINFN17-APRM_RMG_SAP_INCOLGENLEDGER 
    - Transfer Date: 22nd of each month @ 12:00 am 
    - SLA: 2 days 
    - File name convention: GLINCY3YYYYMMDDHHMMSS 
    - File location: ~aprmoper/var/usc/SAPGLEXTR/IN/ 

*** General Ledger - Outcollect - USCSAPEXTRGL SAPOUT
    - Job name: USCSAPEXTRGL SAPOUT 
    - Schedule: EOD 
    - TWS Job name: PR-FINFN17-APRM_RMG_SAP_OUTCOLGENLEDGER 
    - Transfer Date: 22nd of each month @ 12:00 am 
    - SLA: 2 days 
    - File name convention: GLOUTY3YYYYMMDDHHMMSS 
    - File location: ~aprmoper/var/usc/SAPGLEXTR/RO/ 
*** Accrual EOM - Incollect - USCSAPEXTRGL ACCIN
    - Job name: USCSAPEXTRGL ACCIN 
    - Schedule: EOD 
    - TWS Job name: PR-FINFN17-APRM_RMG_SAP_INCOLGENLEDGER 
    - Transfer Date: 1st of each month @ 12:00 am 
    - SLA: End of day 
    - File name convention: GLINCY4YYYYMMDDHHMMSS 
    - File location: ~aprmoper/var/usc/SAPGLEXTR/IN/ 
      - Ex: /inf_nas/apm1/prod/aprmoper/var/usc/SAPGLEXTR/IN/GLINCY420130401005834 
*** Accrual EOM - Outcollect - USCSAPEXTRGL ACCOUT
    - Job name: USCSAPEXTRGL ACCOUT 
    - Schedule: EOD 
    - TWS Job name: PR-FINFN17-APRM_RMG_SAP_INCOLGENLEDGER 
    - Transfer Date: 1st of each month @ 12:00 am 
    - SLA: End of day 
    - File name convention: GLOUTY4YYYYMMDDHHMMSS 
    - File location: ~aprmoper/var/usc/SAPGLEXTR/RO/ 
      - Ex: /inf_nas/apm1/prod/aprmoper/var/usc/SAPGLEXTR/RO/GLOUTY420130401005834 
*** Intra-Company Roaming - USCSAPEXTRGL SAPIR
    - Job name: USCSAPEXTRGL SAPIR 
    - Schedule: EOD 
    - TWS Job name: PR-FINFN17-APRM_RMG_SAP_INCOLGENLEDGER 
    - Transfer Date: 1st of each month @ 12:00 am 
    - SLA: End of day 
    - File name convention: GLINTY3YYYYMMDDHHMMSS 
    - File location: ~aprmoper/var/usc/SAPGLEXTR/IR/ 
      - Ex: /inf_nas/apm1/prod/aprmoper/var/usc/SAPGLEXTR/IR/GLINTY320130401005834  

** Operational SQL
   All of these scripts would be good monitor scripts.
   [[file:docs/AR%20Operational.sql][AR Operational SQL]]
   - Checks to see if all payment files have been processed.(*PRDCUST*)
   - Gateway Listener (*PRDCUST*)
   - More General stuff (*PRDCUST*)
   - Query for Batch Payments
* CallDump
** Data Directories
   - */m04/switchb/ecs* - *(aaa1)* 3G or lower data usage guide by *#19*.
   - */m06/switch/MMS* - Picture Messaging 
   - */m06/switch/MMSText* - Picture Messaging Text only.
   - */m06/switch/sms_nsn* - SMS Motorola
   - */m06/switchb/sms_alu* - SMS ALU
   - */m04/switch/lte* - *(aaa3)* P-Gateway 4G usage
   - */m04/switchb/valista* - Premium SMS
   - */m05/switch/brew* - Brew and Brew data *(aaa2)*
   - */m01/switchb/tas* - Volte 
** WEDO (Switch to bill)
   The *WEDO* process pulls usage files tar's them up and places them into a directory so that *MFT* can pick them up. The operational jobs are as follows:
   1. Job PR-BOD-S2B_TO_WEDO is running this script: /m01/switch/to_wedo.sh
   2. Job PR-BOD-S2B_CREATE_WEDO_ARCH is running this script: /m01/switch/wedo/create_wedo_archive.sh

#+BEGIN_LaTeX
\newpage
#+END_LaTeX
* Telephone Numbers
#+BEGIN_LaTeX
\huge
#+END_LaTeX
#+ATTR_LaTeX: longtable align=ll
|-----------------+--------------|
| *Name*          |       *Cell* |
|-----------------+--------------|
| Vanessa         | 608-441-7106 |
| Alex            | 608-219-7641 |
| Dexter          | 608-219-5832 |
| Dr. Smith       | 608-263-7500 |
| Chuck           | 630-710-5201 |
| Cindy           | 608-516-4539 |
| Deb             | 312-810-1111 |
| DC Operations   | 865-777-8771 |
| Escalate Ticket | 217-766-1979 |
| Steve           | 608-222-5222 |
| Ron W           | 651-734-8230 |
| Paul Volpe      | 773-216-5606 |
| Aunt Patty      | 256-772-7512 |
| Help Desk:      | 608-828-5889 |
| Soly            | 630-285-8386 |
| Traci           | 630-285-8447 |
|-----------------+--------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX  
* Footnotes
[fn:1] Switch Identifiers
forgot about this:
[fn:2] *CIBER* - InCollect processing is still handled by *A&F* and *RBMS*

* Unformatted
select /*+ parallel (16) */ x_notification_type, count(*) from table_x_notification
                    where x_notification_type = 'OVERAGE'
                    and trunc(x_create_date) = trunc(sysdate)
                    group by x_notification_type
                    union
                    select /*+ parallel (16) */ x_notification_type, count(*) from table_x_notification
                    where x_notification_type = 'BUCKET'
                    and trunc(x_create_date) = trunc(sysdate)
                    group by x_notification_type
                    union
                    select /*+ parallel (16) */ x_notification_type, count(*) from table_x_notification
                    where x_notification_type = 'BALANCE'
                    and trunc(x_create_date) = trunc(sysdate)
                    group by x_notification_type
                    union
                    select /*+ parallel (16) */ x_notification_type, count(*) from table_x_notification
                    where x_notification_type = 'DISCLAIMER'
                    and trunc(x_create_date) = trunc(sysdate)
                    group by x_notification_type
                    order by 1 desc
                    
         
select /*+ parallel (16) */ count(*) from TRB1_SUB_ERRS
                    where  actv_code_id = 5041
                    and trunc(error_issue_date) <= trunc(sysdate)
                    order by error_recycle_time desc
                    
                    
                    
                    
                    
                    
                               
                    
