#+STARTUP: overview
#+OPTIONS: d:nil
#+OPTIONS: toc:nil
#+TAGS: Presentation(p) Documentation(d) taskjuggler_project(t) taskjuggler_resource(r) 
#+DRAWERS: PICTURE CLOSET 
#+PROPERTY: allocate_ALL dev doc test
#+COLUMNS: %52ITEM(Task) %8Effort %15allocate %19BLOCKER %8ORDERED
#+STARTUP: hidestars hideblocks 
#+LaTeX_CLASS_OPTIONS: [12pt,twoside]
#+LATEX_HEADER: \usepackage{lscape} 
#+LATEX_HEADER: \usepackage{fancyhdr} 
#+LATEX_HEADER: \usepackage{multirow}
#+LATEX_HEADER: \usepackage{multicol}
#+BEGIN_LaTeX
\pagenumbering{}
#+END_LaTeX 
#+TITLE: Notes
#+BEGIN_LaTeX
\clearpage
\addtolength{\oddsidemargin}{-.25in}
%\addtolength{\oddsidemargin}{-.5in}
\addtolength{\evensidemargin}{-01.25in}
\addtolength{\textwidth}{1.4in}
\addtolength{\topmargin}{-1.25in}
\addtolength{\textheight}{2.45in}
\setcounter{tocdepth}{3}
\vspace*{1cm} 
\newpage
\pagenumbering{roman}
\setcounter{tocdepth}{2}
\pagestyle{fancy}
\fancyhf[ROF,LEF]{\bf\thepage}
\fancyhf[C]{}

#+END_LaTeX
:CLOSET:
 : Hours #+PROPERTY: Effort_ALL 0.125 0.25 0.375 0.50 0.625 .75  0.875 1
 : Days  #+PROPERTY: Effort_ALL 1d 2d 3d 4d 5d 6d 7d 8d 9d
 : weeks #+PROPERTY: Effort_ALL 1w 2w 3w 4w 5w 6w 7w 8w 9w
 : Add a Picture
 :   #+ATTR_LaTeX: width=13cm
 :   [[file:example_picture.png]]
 : New Page
 : \newpage
:END:
#+TOC: headlines 2
#+BEGIN_LaTeX
 \newpage
\pagenumbering{arabic}
#+END_LaTeX 
* Statement of Principals						  
   - /Mathematics is a language with no ambiguity./
   - /A successful man made system will closely resembles some natural system./
   - /A PowerPoint presentation is like smoking a cigar, only the
     person doing it likes it./
   - /Probability from a point./
     -  $a(i) = 1-$ \Large $\frac{i}{n}$ \normalsize where $0 <= i < n$ and $n > 0$

* Usage Overview
   Usage is made up of events which are records of transactions made by our customers. We tend to think of usage
   in two ways, *Voice* and *Data*.\\

*Voice*
   1. *Alcatel Lucent (APLX)* - The *Alcatel Lucent APLX* switch record
      are found mostly in the Maine market. This switch produces both
      /Mobile Originating and Mobile Terminated/ records.
   2. *Nortel (NTI)* - The *NORTEL NTI* switch record is the most common
      voice record format and since an NTI record contains both the
      /originating and terminating features/ certain call types may
      result in a record being generated.
   3. *GSM Roaming* - Voice and data records from our customers who are
      roaming in Europe and other *GSM* countries.
   4. *CIBER* - For /InCollect and OutCollect/ processing.\\

*Data*
   1. *SMSC Server* - Both *Motorola* and *Acatel-Lucent SMS* records
      that can be either a /Mobile Originating or Terminating/ record
      type.
   2. *AAA Server* - Produces one record for each complete data session.
      -  *PGW* - P-Gateway *LTE* data usage
      -  *ECS* - ECS *3G and lower* data usage.
      -  *AAA* - Raw AAA usage found on the CallDump only.
      -  *TAS* - /Volte/ Voice over *LTE*.
   3. *VALI* - /Premium SMS (Valista)/ pre-rated records one record per
      event.
   4. *MMSC* - Used for both pictures and picture messaging text only
      (treated as an *SMS* message in the system). Produces both /Mobile
      Originating and Terminating/ records with a possible one to many
      relationships (multiple recipients).\\
** Pre-Pay and Data Roaming

      In addition to *Post-Pay* we also handle *Pre-Pay* which follows a
      different flow using the diameter interface. The *Diameter
      interface* is described as follows:

      -  *Diameter* is a *AAA* protocol, a type of computer networking
         protocol for authentication, authorization and accounting, and
         is a successor to *RADIUS*. *Diameter* controls communication
         between the authenticator (Secure Ticket Authority, STA) and
         any network entity requesting authentication. *Diameter
         Applications* extend the base protocol by adding new commands
         and/or attributes, such as those for use of the Extensible
         Authentication Protocol (*EAP*).
** Usage Time Zones
|--------------+-----------------|
| *Usage Type* | *TimeZone*      |
|--------------+-----------------|
| AAA          | GMT             |
| PGW/LTE      | GMT             |
| PMG/PTX      | GMT             |
| TAS          | GMT             |
| MOT/ALU      | EST             |
| Voice        | Switch Location |
| CIBER        | Switch Location |
| GSMD/V/S     | GMT             |
|--------------+-----------------|

** Duplicate Record Keys
#+BEGIN_LaTeX
\small
#+END_LaTeX
|------------------------+-------------------+-----------------------|
| *MMS*                  | *SMS*             | *Content*             |
|------------------------+-------------------+-----------------------|
| 1. Event type ID       | 1. Event type ID  | 1. Event type ID      |
| 2. Start time          | 2. Start time     | 2. Start time         |
| 3. Resource value      | 3. Resource value | 3. Resource value     |
| 4. Call direction      | 4. Call direction | 4. Content session ID |
| 5. Called number       | 5. Called number  |                       |
| 6. Calling number      | 6. Calling number |                       |
|                        |                   |                       |
|------------------------+-------------------+-----------------------|
| *Voice*                | *Data*            | *LTE*                 |
|------------------------+-------------------+-----------------------|
| 1. Event type ID       | 1. Event type ID  | 1. Event type ID      |
| 2. Start time          | 2. Start time     | 2. Start time         |
| 3. Resource value      | 3. Resource value | 3. Resource value     |
| 4. Call direction      | 4. Call direction | 4. Call direction     |
| 5. Surcharge indicator | 5. Call source    | 5. Call source        |
| 6. Air elapsed time    |                   |                       |
| 7. Calling number      |                   |                       |
|------------------------+-------------------+-----------------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
** Guide By Criteria
|--------------+------------|
| *Data Types* | *Guide By* |
|--------------+------------|
| voice        | MSID       |
| GSM          | *IMSI*     |
| SMS          | MDN        |
| VOLTE/TAS    | IMSI       |
| PMG/PTX      | MSID       |
| AAA          | MSID       |
| *PGW/LTE*    | *MDN/IMSI* |
| Vali         | MDN        |
|--------------+------------|

** US Territories
      These calls are identified as international but are charged
      domestic rates.
|--------------+-----------+------------------+------------------------------|
| Country Code | Area Code | ISO Country Code | Description                  |
|--------------+-----------+------------------+------------------------------|
|            1 |       340 | VIR              | United States Virgin Islands |
|            1 |       670 | MNP              | Northern Mariana Islands     |
|            1 |       671 | GUM              | Guam                         |
|            1 |       684 | ASM              | American Samoa               |
|            1 |   787/939 | PRI              | Puerto Rico                  |
|--------------+-----------+------------------+------------------------------|


#+BEGIN_LaTeX
\newpage 
#+END_LaTeX
#+BEGIN_LaTeX
\begin{landscape}  
#+END_LaTeX
#+ATTR_LaTeX: width=20cm
:PICTURE:
digraph BI {

graph [splines=true nodesep=0.8 size=8.5,11 compress=true overlap=false style=bold];

node [shape=folder];"Database";"CallDump""APRM";
node [shape=house];"Syniverse";"Business";"EPC";"MFT";

node [shape=triangle];"Switch";
node [shape=circle];"A&F";

"Switch" -> "Intec" [label = "(a)"];
"Switch" -> "SCP" [label = "(i)"];
"Syniverse" -> "Intec" [label = "(b)"];
"Syniverse" -> "Intec" [label = "(j)"];
"Intec" -> "CallDump" [label = "(n)"];
"Intec" -> "A&F" [label = "(d)"];	     
"Intec" -> "Syniverse" [label = "(c)"];
"Database" -> "Intec" [label = "(f)"];	
"A&F" -> "F2E" [label = "(e)"];
"F2E" -> "Turbo Charging" [label = "(e)"];
"Turbo Charging" -> "Database" [label = "(d)"];
"Turbo Charging" -> "Intec" [label = "(c)"];
"Turbo Charging" -> "MFT" [label = "(j)"];
"Turbo Charging" -> "APRM" [label = "(+)"];
"Database" -> "Turbo Charging" [label = "(e)"];
"MFT" -> "Turbo Charging" [label = "(o)"];
"SCP" -> "Turbo Charging" [label = "(i)"];
"EPC" -> "Database" [label = "(e)"];
"Business" -> "Database" [label = "(i)"];

subgraph cluster_2 {
	
"Switch";
"MFT";
"SCP";
color="#FFFFFF";
label = " ";

}


subgraph cluster_3 {
	"F2E";
	"Turbo Charging";
	"A&F";
	"APRM";
	label = "TOPS";
	
	subgraph cluster_1 {
		"Database";
		"EPC";
		color="#FFFFFF";
		label = " ";		
	}
	
}



}
:END:

   [[file:Pictures/usage_flow.jpg]]


#+BEGIN_LaTeX
\end{landscape} 
\newpage
#+END_LaTeX

#+BEGIN_LaTeX
\begin{landscape}  
#+END_LaTeX
#+ATTR_LaTeX: width=23cm
    [[file:Pictures/roamingPrePay.png]]
#+BEGIN_LaTeX
\end{landscape} 
\newpage
#+END_LaTeX
** Voice Overview
   One major undertaking in the transition to *TOPS* is moving most of the voice mediation to the *INTEC* platform. To help facilitate this move, the current rules system *(RBMS)* was studied and documented. The following provides a brief overview of the processes used.
*** Call Types
    1. *M-M* - Mobile to Mobile
    2. *M-L* - Mobile to Land Line
    3. *L-M* - Land Line to Mobile
    4. *L-L* - Land Line to Land Line
    The call records can come in four possible states.
    1. Mobile Terminating (Incoming)
    2. Mobile Originating (Outgoing)
    3. *NTI ONLY*
       - *Both*  \newline *(NTI Mobile to Mobile)* in which for every voice event, two records are created, a *Mobile Originated* and *Mobile Terminated* record. For *APLX* this is taken care of automatically. In the case of an *NTI* switch, depending on the call scenario, it is up to the mediation platform to create one if needed.
       - *Neither* \newline (per example *L-L* )

#+BEGIN_LaTeX
\newpage 
\begin{landscape}  
#+END_LaTeX
*** Incoming - Mobile Terminated
         An *Incoming* call is a /mobile terminated/ call where one of
         our customers receives a call from some caller to a *USCC*
         switch.\\
         *The diagram below shows the data flow for an incoming
         call:* \\
 #+ATTR_LaTeX: width=20cm
   [[file:Pictures/incoming.png]]

#+BEGIN_LaTeX
\newpage 
#+END_LaTeX
*** Outgoing - Mobile Originated
    An *outgoing* call is a /mobile originating/ call from a *USCC* customer in which the following can occur.\\
    *The diagram below shows the data flow for an outgoing call:*
\\
#+ATTR_LaTeX: width=23cm
    [[file:Pictures/outgoing.png]]

#+BEGIN_LaTeX
\end{landscape} 
\newpage
#+END_LaTeX

* Unified File Format (UFF)
   In *TOPs* system all *CDRs*, excluding *InCollect/OutCollect CIBER*,
   will be reformatted into a /Unified File Format/ (*UFF*). This format
   will be a standard *Unix/ASCII* formatted *CSV* file using '|'
   *(pipe)* as the delimiter.
** UFF File Record Format
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align c|l|l
|---------+-------------------------+-------------------------------------------------------------------|
| *Field* | *Field Name*            | *Description*                                                     |
|---------+-------------------------+-------------------------------------------------------------------|
|       1 | Record Type             | HR - Header Record                                                |
|         |                         | DR - Data Record                                                  |
|         |                         | TR - Trailer Record                                               |
|       2 | Service Type            | Initial record type of Usage Record *MOT, PTX, ALU, QIS*,         |
|         |                         | *AAA, TPC, APLX, NTI, PMG, PGW*                                   |
|       3 | Record sequence Number  | A unique numeric identifier for the record.                       |
|       4 | File Number             | A unique identifier that shows the original file                  |
|         |                         | that the record came in from. /(ex. ID044803/)                    |
|       5 | Record Disposition      | The disposition shows the destination of the record               |
|         |                         | in the Mediation process.                                         |
|         |                         | 0 = Rated                                                         |
|         |                         | 1 = Dropped                                                       |
|         |                         | 2 = Error                                                         |
|       6 | Record Code             | The Drop or Error code. The drop and error codes will be defined  |
|         |                         | using present day *AMDOCS* codes as a template. (presently a 3    |
|         |                         | digit integer but will bump to 5 for extra growth)                |
|       7 | Source System           | Switch identifier (See Switch Name and type tab for a complete    |
|         |                         | listing) (Possible Voice values include:                          |
|         |                         | madi, scha etc.) (Data values can include aaa1, vali etc.         |
|       8 | Start Date              | Start date for this event {YYYYMMDD}                              |
|       9 | Start Time              | Start Time for this event {HHMMSSss}                              |
|      10 | Start Time Zone          | Offset in seconds from *GMT*                                      |
|      11 | Home Sid                | Home Switch ID                                                    |
|      12 | Serve SID               | Serving Switch ID                                                 |
|      13 | Originating Cell Trunk  | Initial cell trunk                                                |
|      14 | Terminating Cell Trunk  | Termination Cell trunk                                            |
|      15 | BSID                    | Broadcast Station ID                                              |
|      16 | Carrier ID              | The carrier that handled the events identification symbol.        |
|         |                         | Mostly USCC but may contain others especially in                  |
|         |                         | data roaming situations.                                          |
|      17 | Protocol                | *EVDO, LTE, CDMA*                                                 |
|      18 | Event Type              | *QIS* event type used for reporting and drop logic                |
|      19 | Call Direction          | One of two types:                                                 |
|         |                         | *Mobile Originating (MO)* or *Mobile Terminating (MT)*.           |
|      20 | Originating MSID        | 10-Digit Mobile Identification Number 16 digits for               |
|         |                         | possible future use/Blanks if mobile terminated                   |
|      21 | Identity                | MEID/ESN                                                          |
|      22 | Originating MDN         | In a Mobile Originating call It's the originating callers         |
|         |                         | phone number.                                                     |
|      23 | Originating Address     | IP or Email                                                       |
|      24 | Terminating MSID        | Called MSID this is on Mobile to Mobile records only.             |
|      25 | Terminating Number      | Normalized number /(example 6085551212 instead of 411/            |
|      26 | Dialed Digits           | The untranslated dialed number /(e.g. 441 instead of 555-1212)/   |
|      27 | Terminating Address     | IP Address/Email Name Client IP for *PMG*                         |
|      28 | Termination Code        | *SMS.CALL_TERMINATION_CODE*                                       |
|      29 | Service Feature         | MPS Service feature codes                                         |
|      30 | Call Forwarding Ind     | If the call has been forwarded than true, false otherwise.        |
|         |                         | 0 = False                                                         |
|         |                         | 1 = True                                                          |
|      31 | Call Delivery Ind       | If the call has been through call delivery than true,             |
|         |                         | false otherwise                                                   |
|         |                         | 0 = False                                                         |
|         |                         | 1 = True                                                          |
|         |                         | 2 = CDLX                                                          |
|      32 | Call Waiting Ind        | If the call has been through call waiting than true,              |
|         |                         | false otherwise                                                   |
|         |                         | 0 = False                                                         |
|         |                         | 1 = True                                                          |
|      33 | 3 way Calling Ind       | If the call has been through 3 way calling, false otherwise       |
|         |                         | 0 = False                                                         |
|         |                         | 1 = True                                                          |
|      34 | Call Answered Ind       | If the call has been answered than true, false otherwise.         |
|         |                         | 0 = False                                                         |
|         |                         | 1 = True                                                          |
|      35 | Ring Time               | Total ring time in seconds                                        |
|      36 | Call Duration           | Call duration minus ring-time in seconds.                         |
|         |                         | Includes the duration in seconds of the data session              |
|      37 | Roaming Ind             | Data roaming indicator 0 = False 1 = True                         |
|      38 | Session ID              | Primary Key for AAA, Transaction ID for                           |
|         |                         | PSMS AAA.SESSION_ID <= 64 Chars                                   |
|         |                         | PSMS.TRANS_ID <= 50 Chars                                         |
|         |                         | QIS.EVENT_ID <= 50 chars Used to find the charge code             |
|      39 | Session Type            | For QIS 0 = Charge (only) For PSMS there are two possible values: |
|         |                         | 0 = Charge                                                        |
|         |                         | 1 = Adjustment                                                    |
|         |                         | For *PTX* and *SMS* we can have the following values:             |
|         |                         | *SMSTXT and SMSEMIL*                                              |
|      40 | Bytes In                | Total of incoming bytes associated                                |
|         |                         | this event can also be negative.                                  |
|         |                         | Using this field and the "Bytes Out" field                        |
|         |                         | we can derive the total bytes.                                    |
|      41 | Bytes Out               | Total of outgoing bytes associated with this event contains       |
|         |                         | a signed byte (+-) Using this field and the "Bytes In" field      |
|         |                         | we can derive the total bytes.                                    |
|      42 | Application ID          | QIS = Part ID AAA = AppID PSMS = Short Code                       |
|      43 | Application Type        | QIS = (Download or Subscription) PSMS = (One-Off or Subscription) |
|      44 | Application Name        |                                                                   |
|      45 | Purchase Category Code  | Used by PSMS                                                      |
|      46 | Application Description | Will be used for both QIS and PSMS for QIS it will come from the  |
|         |                         | AE field directly on the record for PSMS it will be a             |
|         |                         | combination of the <short code> <description> <content provider>  |
|         |                         | if it is a "Subscription", "Subscription -" is displayed.         |
|         |                         | If it is a one-off, it is not                                     |
|         |                         | presented in the invoice line item.                               |
|      47 | Content Amount          | Combines Pre-rated usage amount for QIS and PSMS                  |
|      48 | Orig_trans_ID           | Orig Trans ID PSMS.TRANS_ID                                       |
|      49 | Network Flag            | Used by QIS to calculate the charge code.                         |
|         |                         | 0 = not a 1 = is a network application..                          |
|         |                         | Default is 0                                                      |
|      50 | Femto-cell-ringtime     | Will not be needed until after *TOPS* implementation              |
|      51 | Femto-cell-ringpluse    | Will not be needed until after *TOPS* implementation              |
|      52 | LTE Handoff             | This maybe needed after the move to LTE,                          |
|         |                         | so is just used as a placeholder                                  |
|      53 | Market/Sub-market       | The Market and Sub-market for a customer this can also be blank.  |
|         |                         | This field is populated by using a MSID against the MIN_LR        |
|      54 | Originating IMSI        | The IMSI assigned to the SIM card originating a LTE or eHRPD      |
|         |                         | data session. This can be a routing parameter                     |
|         |                         | for LTE or eHRPD traffic.                                         |
|      55 | Adjustment Reason Code  | The Adjustment Reason Code for a PSMS adjustment                  |
|      56 | External Reference ID   | The External Reference ID for a PSMS record                       |
|      57 | Partner ID              | The Partner ID for PSMS record                                    |
|      58 | Campaign ID             | The Campaign ID for a PSMS record                                 |
|      59 | Initiator Type          | The Initiator Type for PSMS record                                |
|      60 | Initiator ID            | The Initiator ID for PSMS record                                  |
|---------+-------------------------+-------------------------------------------------------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
** Header
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align c|l|l|l
|---------+---------------+-----------------------------------------+--------------------------------|
| *Field* | *Field Name*  | *Description*                           | *Data Type*                    |
|---------+---------------+-----------------------------------------+--------------------------------|
| 1       | Record Type   | The record type for Header is HR        | 4 character alpha-numeric      |
|         |               |                                         |                                |
| 2       | File Number   | file Identifier A unique identifier     | alpha-numeric <= 24 chars and  |
|         |               | that shows the original file that       | have the pattern IDxxxxxxx..   |
|         |               | the record name in from. (ex. ID044803) | Where xxxx is a number that's  |
|         |               |                                         | no greater then 16 char        |
|         |               |                                         |                                |
| 3       | Source System | Switch identifier (See Switch Name      | alpha-numeric <= 16 characters |
|         |               | and type tab for a complete listing)    |                                |
|         |               | (Possible Voice values include: madi,   |                                |
|         |               | scha etc.) (Data values can include     |                                |
|         |               | aaa1, vali etc.                         |                                |
|         |               |                                         |                                |
| 4       | Start Date    | Start date of file creation {YYYYMMDD}  | Event Date YYYYMMDD            |
|         |               |                                         | 1900 <= YYYY <=9999            |
|         |               |                                         | 01 <= MM <= 12                 |
|         |               |                                         | 01 <= DD <= 31                 |
|         |               |                                         |                                |
| 5       | Start Time    | Start Time for file creation {HHMMSSss} | Switch Time HHMMSSss           |
|         |               |                                         | 00 <= HH <= 23                 |
|         |               |                                         | 00 <= MM <= 59                 |
|         |               |                                         | 00 <= SS <= 59                 |
|         |               |                                         | 00 <= ss <= 59                 |
|---------+---------------+-----------------------------------------+--------------------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
#+BEGIN_LaTeX
\newpage
#+END_LaTeX
** Trailer
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align c|l|l|l
|---------+---------------+------------------------------------------+-----------------------------------------|
| *Field* | *Field Name*  | *Description*                            | *Data Type*                             |
|---------+---------------+------------------------------------------+-----------------------------------------|
| 1       | Record Type   | The record type for Trailer is TR        | 4 character alpha-numeric               |
|         |               |                                          |                                         |
| 2       | File Number   | File Identifier A unique identifier      | alpha-numeric <= 24 chars and have the  |
|         |               | that shows the original file that        | pattern IDxxxxxxx.. Where xxxx is       |
|         |               | the record came in from. (ex. ID044803)  | a number that's no greater then 16 char |
|         |               |                                          |                                         |
| 3       | Source System | Switch identifier (See Switch Name       | alpha-numeric <= 16 chars               |
|         |               | and type tab for a complete listing)     |                                         |
|         |               | (Data values can include aaa1, vali etc. |                                         |
|         |               |                                          |                                         |
| 4       | End Date      | End date of file creation {YYYYMMDD}     | Event Date YYYYMMDD                     |
|         |               |                                          | 1900 <= YYYY <=9999                     |
|         |               |                                          | 01 <= MM <= 12                          |
|         |               |                                          | 01 <= DD <= 31                          |
|         |               |                                          |                                         |
| 5       | End Time      | End Time of file creation {HHMMSSss}     | Switch Time HHMMSSss                    |
|         |               |                                          | 00 <= HH <= 23                          |
|         |               |                                          | 00 <= MM <= 59                          |
|         |               |                                          | 00 <= SS <= 59                          |
|         |               |                                          | 00 <= ss <= 59                          |
|         |               |                                          |                                         |
| 6       | Total Records | Total number of records in this file     | numeric <= 100000000                    |
|         |               |                                          | (Including Header and trailers)         |
|---------+---------------+------------------------------------------+-----------------------------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
** Service Feature Codes
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
#+ATTR_LaTeX: :environment longtable
|------------------------------------+--------|
| *Description*                      | *Code* |
|------------------------------------+--------|
| (NTI Only) - Automatic Roaming     | ARM    |
| Call Delivery Interconnect         | CDLX   |
| Call Forward Immediate             | CFW    |
| Call Forward Busy                  | CFB    |
| Call Forward No Answer Transfer    | CFWTRN |
| (NTI Only) - Calls to/from hotline | HT     |
| (NTI Only) -Inter system hand-off  | ISH    |
| Operator assisted call             | OPA    |
| (NTI Only) - Vertical feature flag | VFF    |
| Voice-mail delivery                | VMD    |
| Voice-mail retrieval               | VMR    |
| Caller ID Restriction (ID block)   | CIR    |
|------------------------------------+--------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
** Drop Reason Codes

      /See the Drop Reasons Code spreadsheet/


#+BEGIN_LaTeX
\newpage
#+END_LaTeX
* CIBER File Format
** Ciber Record Types
   The *Ciber* standard defines the following record Types:
      -  *01* Header
      -  *22* Voice (main Record type)
      -  *32* Data
      -  *52* One time charge
      -  *98* Trailer

*** CIBER 01 Record
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|--------------------------------+------------+---------------|
| *Field*                        | *Position* | *Description* |
|--------------------------------+------------+---------------|
| Record Type                    |        1-2 |               |
| Batch Creation Date            |        3-8 |               |
| Batch Sequence Number          |       9-11 |               |
| Sending Carrier SID/BID        |      12-16 |               |
| Receiving Carrier SID/BID      |      17-21 |               |
| CIBER Record Release Number    |      22-23 |               |
| Original/Return Indicator      |      24-24 |               |
| Currency Type                  |      25-26 |               |
| Settlement Period              |      27-32 |               |
| Clearinghouse ID               |      33-33 |               |
| CIBER Batch Reject Reason Code |      34-35 |               |
| Batch Contents                 |      36-36 |               |
| Local Carrier Reserved         |      37-56 |               |
| System Reserved Filler         |     57-200 |               |
|--------------------------------+------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** CIBER 22 Record
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|------------------------------------------+------------+---------------|
| *FIELD NAME*                             | *POSITION* | *Description* |
|------------------------------------------+------------+---------------|
| Record Type                              |        1-2 |               |
| Return Code                              |        3-3 |               |
| CIBER Record Return Reason Code          |        4-5 |               |
| Invalid Field Identifier                 |        6-8 |               |
| Home Carrier SID/BID                     |       9-13 |               |
| MSID Indicator                           |      14-14 |               |
| *MSID*                                   |      15-29 |               |
| MSISDN/MDN Length                        |      30-31 |               |
| *MSISDN/MDN*                             |      32-46 |               |
| *ESN/UIMID/IMEI/MEID Indicator*          |      47-47 | 0 = NA        |
|                                          |            | 1 = ESN       |
|                                          |            | 2 = IMEI      |
|                                          |            | 3 = MEID      |
|                                          |            | 4 = pESN      |
| *ESN/UIMID/IMEI/MEID*                    |      48-66 |               |
| *Serving Carrier SID/BID*                |      67-71 |               |
| *Total Charges and Taxes*                |      72-81 |               |
| System Reserved Filler                   |      82-82 |               |
| *Total State/Province Taxes*             |      83-92 |               |
| System Reserved Filler                   |      93-93 |               |
| *Total Local/Other Taxes*                |     94-103 |               |
| System Reserved Filler                   |    104-104 |               |
| *Call Date*                              |    105-110 |               |
| *Call Direction*                         |    111-111 |               |
| Call Completion Indicator                |    112-112 |               |
| Call Termination Indicator               |    113-113 |               |
| Caller ID Length                         |    114-115 |               |
| Caller ID                                |    116-130 |               |
| Called Number Length                     |    131-132 |               |
| *Called Number Digits*                   |    133-147 |               |
| Location Routing Number Length Indicator |    148-149 |               |
| Location Routing Number                  |    150-164 |               |
| TLDN Length                              |    165-166 |               |
| TLDN                                     |    167-181 |               |
| Currency Type                            |    182-183 |               |
| System Reserved Filler                   |    184-185 |               |
| Original Batch Sequence Number           |    186-188 |               |
| Initial Cell Site                        |    189-199 |               |
| Time Zone Indicator                      |    200-201 |               |
| Daylight Savings Indicator               |    202-202 |               |
| Message Accounting Digits                |    203-212 |               |
| Air Connect Time                         |    213-218 |               |
| Air Chargeable Time                      |    219-224 |               |
| Air Elapsed Time                         |    225-230 |               |
| Air Rate Period                          |    231-232 |               |
| Air Multi-Rate Period                    |    233-233 |               |
| *Air Charge*                             |    234-243 |               |
| System Reserved Filler                   |    244-244 |               |
| Other Charge No. 1 Indicator             |    245-246 |               |
| *Other Charge No. 1*                     |    247-256 |               |
| System Reserved Filler                   |    257-257 |               |
| System Reserved Filler                   |    258-270 |               |
| Printed Call                             |    271-285 |               |
| Fraud Indicator                          |    286-287 |               |
| Fraud Sub-Indicator                      |    288-288 |               |
| *Special Features Used*                  |    289-293 |               |
| *Called Place*                           |    294-303 |               |
| *Called State/Province*                  |    304-305 |               |
| *Called Country*                         |    306-308 |               |
| *Serving Place*                          |    309-318 |               |
| *Serving State/Province*                 |    319-320 |               |
| *Serving Country*                        |    321-323 |               |
| Toll Connect Time                        |    324-329 |               |
| Toll Chargeable Time                     |    330-335 |               |
| Toll Elapsed Time                        |    336-341 |               |
| Toll Tariff Descriptor                   |    342-343 |               |
| Toll Rate Period                         |    344-345 |               |
| Toll Multi-Rate Period                   |    346-346 |               |
| Toll Rate Class                          |    347-347 |               |
| Toll Rating Point Length Indicator       |    348-349 |               |
| Toll Rating Point                        |    350-359 |               |
| *Toll Charge*                            |    360-369 |               |
| System Reserved Filler                   |    370-370 |               |
| *Toll State/Province Taxes*              |    371-380 |               |
| System Reserved Filler                   |    381-381 |               |
| *Toll Local Taxes*                       |    382-391 |               |
| System Reserved Filler                   |    392-392 |               |
| Toll Network Carrier ID                  |    393-397 |               |
| Local Carrier Reserved                   |    398-472 |               |
| System Reserved Filler                   |    473-547 |               |
|------------------------------------------+------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** CIBER 32 Record
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|------------------------------------------+------------+---------------|
| *Field*                                  | *Position* | *Description* |
|------------------------------------------+------------+---------------|
| Record Type                              |        1-2 |               |
| Return Code                              |        3-3 |               |
| CIBER Record Return Reason Code          |        4-5 |               |
| Invalid Field Identifier                 |        6-8 |               |
| Home Carrier SID/BID                     |       9-13 |               |
| MSID Indicator                           |      14-14 |               |
| MSID                                     |      15-29 |               |
| MSISDN/MDN Length                        |      30-31 |               |
| MSISDN/MDN                               |      32-46 |               |
| ESN/UIMID/IMEI/MEID Indicator            |      47-47 |               |
| ESN/UIMID/IMEI/MEID                      |      48-66 |               |
| Serving Carrier SID/BID                  |      67-71 |               |
| Total Charges and Taxes                  |      72-81 |               |
| System Reserved Filler                   |      82-82 |               |
| Total State/Province Taxes               |      83-92 |               |
| System Reserved Filler                   |      93-93 |               |
| Total Local Taxes                        |     94-103 |               |
| System Reserved Filler                   |    104-104 |               |
| Call Date                                |    105-110 |               |
| Call Direction                           |    111-111 |               |
| Call Completion Indicator                |    112-112 |               |
| Call Termination Indicator               |    113-113 |               |
| Caller ID Length                         |    114-115 |               |
| Caller ID                                |    116-130 |               |
| Called Number Length                     |    131-132 |               |
| Called Number Digits                     |    133-147 |               |
| Location Routing Number Length Indicator |    148-149 |               |
| Location Routing Number                  |    150-164 |               |
| TLDN Length                              |    165-166 |               |
| TLDN                                     |    167-181 |               |
| Currency Type                            |    182-183 |               |
| System Reserved Filler                   |    184-185 |               |
| Original Batch Sequence Number           |    186-188 |               |
| Initial Cell Site                        |    189-199 |               |
| Time Zone Indicator                      |    200-201 |               |
| Daylight Savings Indicator               |    202-202 |               |
| Message Accounting Digits                |    203-212 |               |
| Charge No. 1 Indicator                   |    213-214 |               |
| Charge No. 1 Connect Time                |    215-220 |               |
| Charge No. 1 Chargeable Time             |    221-226 |               |
| Charge No. 1 Elapsed Time                |    227-232 |               |
| Charge No. 1 Rate Period                 |    233-234 |               |
| Charge No. 1 Multi-Rate Period           |    235-235 |               |
| Charge No. 1 Tax/Surcharge Indicator     |    236-236 |               |
| Charge No. 1                             |    237-246 |               |
| System Reserved Filler                   |    247-247 |               |
| Charge No. 2 Indicator                   |    248-249 |               |
| Charge No. 2 Connect Time                |    250-255 |               |
| Charge No. 2 Chargeable Time             |    256-261 |               |
| Charge No. 2 Elapsed TIme                |    262-267 |               |
| Charge No. 2 Rate Period                 |    268-269 |               |
| Charge No. 2 Multi-Rate Period           |    270-270 |               |
| Charge No. 2 Tax/Surcharge Indicator     |    271-271 |               |
| Charge No. 2                             |    272-281 |               |
| System Reserved Filler                   |    282-282 |               |
| Charge No. 3 Indicator                   |    283-284 |               |
| Charge No. 3 Connect Time                |    285-290 |               |
| Charge No. 3 Chargeable Time             |    291-296 |               |
| Charge No. 3 Elapsed Time                |    297-302 |               |
| Charge No. 3 Rate Period                 |    303-304 |               |
| Charge No. 3 Multi-Rate Period           |    305-305 |               |
| Charge No. 3 Tax/Surcharge Indicator     |    306-306 |               |
| Charge No. 3                             |    307-316 |               |
| System Reserved Filler                   |    317-317 |               |
| Charge No. 4 Indicator                   |    318-319 |               |
| Charge No. 4 Connect Time                |    320-325 |               |
| Charge No. 4 Chargeable Time             |    326-331 |               |
| Charge No. 4 Elapsed Time                |    332-337 |               |
| Charge No. 4 Rate Period                 |    338-339 |               |
| Charge No. 4 Multi-Rate Period           |    340-340 |               |
| Charge No. 4 Tax/Surcharge Indicator     |    341-341 |               |
| Charge No. 4                             |    342-351 |               |
| System Reserved Filler                   |    352-352 |               |
| Blank Fill Serving Place                 |    353-362 |               |
| Serving State/Province                   |    363-364 |               |
| Serving Country                          |    365-367 |               |
| Special Features Used                    |    368-372 |               |
| Other Charge No. 1 Indicator             |    373-374 |               |
| Other Charge No. 1                       |    375-384 |               |
| System Reserved Filler                   |    385-385 |               |
| System Reserved Filler                   |    386-398 |               |
| Printed Call                             |    399-413 |               |
| Fraud Indicator                          |    414-415 |               |
| Fraud Sub-Indicator                      |    416-416 |               |
| Features Used After Handoff Indicator    |    417-417 |               |
| Local Carrier Reserved                   |    418-492 |               |
| System Reserved Filler                   |    493-567 |               |
|------------------------------------------+------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** CIBER 52 Record
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|---------------------------------+------------+---------------|
| *FIELD*                         | *POSITION* | *Description* |
|---------------------------------+------------+---------------|
| Return Code                     |        3-3 |               |
| CIBER Record Return Reason Code |        4-5 |               |
| Invalid Field Identifier        |        6-8 |               |
| Home Carrier SID/BID            |       9-13 |               |
| MSID Indicator                  |      14-14 |               |
| *MSID*                          |      15-29 |               |
| MSISDN/MDN Length               |      30-31 |               |
| MSISDN/MDN                      |      32-46 |               |
| ESN/UIMID/IMEI/MEID Indicator   |      47-47 |               |
| ESN/UIMID/IMEI/MEID             |      48-66 |               |
| Serving Carrier SID/BID         |      67-71 |               |
| *Total Charges and Taxes*       |      72-81 |               |
| System Reserved Filler          |      82-82 |               |
| *Total State/Province Taxes*    |      83-92 |               |
| System Reserved Filler          |      93-93 |               |
| *Total Local Taxes*             |     94-103 |               |
| System Reserved Filler          |    104-104 |               |
| *OCC Charge/Start Date*         |    105-110 |               |
| Connect Time                    |    111-116 |               |
| OCC End Date                    |    117-122 |               |
| OCC Interval Indicator          |    124-133 |               |
| *OCC Charge*                    |    134-134 |               |
| System Reserved Filler          |    135-159 |               |
| OCC Description Currency Type   |    160-161 |               |
| System Reserved Filler          |    123-123 |               |
| Original Batch Sequence Number  |    164-166 |               |
| Initial Cell Site               |    167-177 |               |
| Time Zone Indicator             |    178-179 |               |
| Daylight Savings Indicator      |    180-180 |               |
| Message Accounting Digits       |    181-190 |               |
| Record Use Indicator            |    191-191 |               |
| Serving Place                   |    192-201 |               |
| Serving State/Province          |    202-203 |               |
| Serving Country                 |    204-206 |               |
| Other Charge No. 1 Indicator    |    207-208 |               |
| Other Charge No. 1              |    209-218 |               |
| System Reserved Filler          |    219-219 |               |
| System Reserved Filler          |    220-232 |               |
| Fraud Indicator                 |    233-234 |               |
| Fraud Sub-Indicator             |    235-235 |               |
| Record Create Date              |    236-241 |               |
| System Reserved Filler          |    220-232 |               |
| Fraud Indicator                 |    233-234 |               |
| Fraud Sub-Indicator             |    235-235 |               |
| Record Create Date              |    236-241 |               |
|---------------------------------+------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** CIBER 98 Record
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|----------------------------------+------------+---------------|
| *FIELD*                          | *POSITION* | *Description* |
|----------------------------------+------------+---------------|
| Record Type                      |        1-2 |               |
| Batch Creation Date              |        3-8 |               |
| Batch Sequence Number            |       9-11 |               |
| Sending Carrier SID/BID          |      12-16 |               |
| Receiving Carrier SID/BID        |      17-21 |               |
| *Total Number Records in Batch*  |      22-25 |               |
| *Batch Total Charges & Taxes*    |      26-37 |               |
| Settlement Period                |      38-43 |               |
| Clearinghouse ID                 |      44-44 |               |
| System Reserved Filler           |      45-49 |               |
| Original Total Number of Records |      50-53 |               |
| *Original Total Charges & Taxes* |      54-65 |               |
| System Reserved Filler           |      66-73 |               |
| Currency Type                    |      74-75 |               |
| Local Carrier Reserved           |      76-95 |               |
| System Reserved Filler           |     96-200 |               |
|----------------------------------+------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

** Interfaces
*** Roamex/Fraudex
#+ATTR_LaTeX: width=20cm
   [[file:Pictures/NDC.png]]


    -  *Business Process -* Mediation
    -  *Type -* Batch
    -  *Category -* Batch Redesign
    -  *Service -* On all *Nortel* switches switch records are
            copied to *mad1rom1*. Then through out the day *Syniverse*
            comes in and finds all the roaming records and runs it
            against there *Fraudx* application to find evidence of
            fraud.
    -  *Thoughts and other random musings* \\ For the most part the
            process is a black box and everything is handled by
            *Syniverse*. The file that is sent is raw switch data and at
            this time only *NTI (Nortel)* is supported. For all NDC
            processes the source, compilation and processing occur on
            the NDC machines where the base language is C.
    -  *Questions*
       -  [ ] What are the names of the NDC machines.
       -  [ ] Where is the source code kept.
    -  *Contacts*
       -  Roberto Amezcua
#+BEGIN_LaTeX
\newpage
#+END_LaTeX 
*** OutCollects
     [[file:Pictures/outcoll.png]]
    -  *Business Process -* Mediation
       -  *Type -* Batch
       -  *Category -* Batch Redesign
       -  *Service -* Send OutCollect data to *Syniverse*.
       -  *Process Flow*
          1. Switch records are passed through the billing system and
               any record that does not belong to a customer gets placed
               into a file.
          2. Twice a day the /Ciber_Create/ job is run which takes
               these files and converts them to CIBER records.
          3. Five times a day *NDC* starts a job which sends these
               files to *Syniverse*.
          4. It also when it looks for CIBER files coming back from
               *Syniverse* of our customers who are roaming on other
               networks.

       -  *Thoughts and other random musings* \\ A pretty simple batch
            interface it is here where we can use the new batch
            standards to make sure the transfer is complete.
       -  *Contacts*

          -  Kyle Matte
          -  Roberto Amezcua

    - CIBERNET - Specification/Reference
      [[https://www.one1clear.net/mxp/Login.asp]]
      -  Mobile-X Code: USA-MPS-0001
      -  Login: Skeup/SyFAGh


      : <\\chil-data1\Share\Common\TOPS\outcollects>

\newpage
* TOPS Operations
** Acquisition and Formating (A&F)
      *A&F* is to the new system what *MAF and RBMS* was to the old.
      Since the majority of rules will be moved to *INTEC, A&F's*
      primary function in the *post-TOPS* world will be to move the data
      from the *UFF* to the usage record. If an *A&F*
      error does occur the record will be dumped into a file to be later
      processed by the *AEM* /(Amdocs Error Manager)/.
** TurboCharging
      [[file:Pictures/TC.png]] 
      Though the overall architecture seems to be
      the same, with some name changes like *MAF* is now
      A&F, as *CARES* the major change has been the
      addition of the new real-time rater which *Amdocs* calls *Turbo
      Charging* that can handle both PRE and POST pay customers.\\
      -  All interaction is done through the network interface.
      -  All tables are now in memory to improve performance.
      -  We can re-rate continuously by running re-rating in daemon
         mode.
      -  We can rate in other units beside minutes like *Content,
         Volume, Qos*.
      -  Rating can be by step or tiered.
      -  *Event flow:*

         1. An event comes in to via a network element
         2. Transforms data into a conical form which also includes the
            network element.
         3. Gets Rated
            -  For *Pre-Pay* the HLR. is handled by the
               *SCP*
         4. The response is sent back to the calling network element.

      -  *International Calls* are rated to the country not the
         individual city/town.
      -  Find that in *LD_COUNTRY_RATES* table.
      -  For *Pre-Pay* roaming customers still get a record which needs
         to go through *CIBER* process.
      -  Major problem for *CCMI*. It was decided to remove it but the
         *LERG* does not give us the granularity that we might need.
      -  For *Pre-Pay* *MMS* we will not charge each recipient only the
         sender.
      -  We convert everything to the *Home SID time* for bill
         presentment.
      -  Limiting or /choking/ usage can be handled by *Diameter* for
         real-time and *Turbo-Charging* for *Post-Pay*

*** RLC (Rating Logic configurator)
         -  The *RLC* has a repository that keeps it rules as an *XML*
            string in a /database column/.
         -  Though they are stored as *XML* you can view them as
            *Product Catalog UI*.
            -  *Customer* defines set of attributes possibly having
               different values for different
               *customers/subscribers*.These attributes are further used
               in qualification criteria to define guiding to service
               functionality, and in event handlers to personalize
               pricing logic for specific customer/subscriber
            -  *Performance Indicator* defines set of attributes
               (counters) to keep accumulated usage for some specific
               pricing item Its attributes are used and modified by the
               event handlers logic.
            -  *Item Parameters* define a set of attributes that are the
               parameters of the Pricing Item Type Their values are set
               in the Product Catalog UI tool while creating a Pricing
               Item based on a given Pricing Item Type
            -  *External record* defines a set of attributes associated
               with a specific extract record layout.
            -  *Variables* define a set of attributes (variables) are
               used by handlers statements.

         -  *PIT* /Pricing Item Type/
         -  We can define a number of different *Rating roles* and
            rating events.
         -  Incoming calls are not dropped but instead are zero rated.

         -  Configuration Tools\\
            The tool is a split screen application. On the left side
            contains all the rating schemes which are then dragged and
            dropped to create a tree structure on the right side.

            -  *RLC - Rating Logic configurator* /Used to configure the
               rating engine/
            -  Uses the *EPC* to create the rating logic, not the price
               plans. Once your finished with the configurator you the
               compile with the *ICC (Implementation Compiler
               configurator)* which then creates C++ code thats added to
               the rater.
            -  *TCC (Turbo-Charging configurator)* - Used to configure
               the Turbo-Charging rater.
            -  *Replenishment Manager* - Used for *Pre-Pay*.
** AEM
         AEM gets the Turbo-Charging errors from the
         *APE1_REJECTED_EVENTS* table. For *A&F* they are in the
         *EM1_RECORD* table. Since there are so many coulmns in the
         *EM1_RECORD* table we must limit are query's to the following
         columns. [[file:docs/EM1%20Query's][EM1 Queries]]
** Production Servers/EpsMonitors
      -  *Batch1* - *kprl1batch.uscc.com (10.176.177.177)*
         :  /pkgbl01/inf/aimsys/prdwrk1/eps/monitors
      -  *Batch2* - *kprl2batch.uscc.com (10.176.177.178)*
         : /pkgbl02/inf/aimsys/prdwrk2/eps/monitors
      -  *Batch3* - *kprl3batch.uscc.com (10.176.177.179)*
         : /pkgbl03/inf/aimsys/prdwrk3/eps/monitors
      -  *Batch4* -- *kprl6batch.uscc.com (10.176.181.123)*
      -  *Event1* -- *kprl1event.uscc.com (10.176.181.116)*
      -  *Event2* -- *kprl2event.uscc.com (10.176.181.117)*
      -  *Event3* -- *kprl3event.uscc.com (10.176.181.118)*
      -  *Event4* -- *kprl4event.uscc.com (10.176.181.119)*
      -  *Event5* -- *kprl5event.uscc.com (10.176.181.120)*
      -  *Event6* -- *kprl6event.uscc.com (10.176.181.121)*
      -  *APRM* - *kprl1batch.uscc.com (10.176.177.179)*
         : /inf_nas/apm1/prod/aprmoper/eps/monitors

*** Event Servers
         There are multiple Event Servers which coresspond to bill cycle
         and run on the event servers. Their status can be viewed using
         the following query on the *PRDAF* database.

         : SELECT * FROM ADJ3_JOBS_INST_CTRL WHERE JOB_NAME = 'ADJ1EVENTSRV';

         From the output if the column *event status = Y* then that
         particular server is in use. If your job requires an event
         server that is already in use you can change it to one that is
         not by using *SQL* below on the *PRDCUST* database logged in as
         *PRDOPRC*.

         In this example we are setting the job rec to run using the
         *ES_EOC1045* event server

          :   Update OP_APP_DATA set data = 'ES_EOC1045'
          :          where JOB_REC = '{Your Job Rec}' and field_seq_num = 1 
          :          and table_NAME IN ('ADJ1EVENTSRV');

*** Rerate Servers
         There are three *Rerate Servers* they are:
         1. *RRP_EOC1056*
         2. *RRP_EOC1068*
         3. *RRP_EOC1192*
** OutCollect Operational Jobs (CIBER Processing)
      *CIBER* files are a collection of roaming records, these can be
      either a foreign carrier on our network or one of our customers on
      another network. More succinctly there are two types of roaming
      scenarios.

      - *OutCollects*\\
      Non-USCC customers using our network, eventually the records
      created become part of the *OutCollect* process.

      - *InCollects*\\
         USCC customers roaming on another carriers network. These
         records are sent to Syniverse which in turn sends them to us
         and become part of our *InCollect* process. All though
         InCollects come pre-rated they are still re-rated according to
         their plan.
\\
      The OutCollect process runs twice a day *1:00 a.m/p.m.*
      -  *OUTCOL*\\
         Extracts from the *APE1_RATED_EVENT* table and creates files
         for *MAS*.
      -  *ADJ9MAS OUTCOL*\\
         Creates files for *SPL1*.
      -  *SPL1* - /Daemon/\\
         Processes files as it sees them and creates files for *RGD*.
      -  *RGD* - /Daemon/\\
         Processes files as it sees them and creates files for *APP*.
      -  *APP* - /Daemon/\\
         Processes files in RD after 12 hours of the last files
         processed. Output files for *Syniverse*.
      -  *MF9FTDTAX*\\
         Loads data into *MF9_OUTCOL_TAXES* table
      -  *AR9OUTCLTAX*\\

      End-day after *MF9FTDTAX*.
*** OutCollect Files
         These are the file that are created by *TOPS* that will be sent
         to *Syniverse*.

         -  *aprout (OutCollect Directory)*\\

         *pkgbl02/inf/aimsys/prdwrk2/var/usc/projs/apr/interfaces/output*


**** Operational Tables

         1. *AC1_CONTROL*\\
            The Outbound Syniverse files       
            :    select * from ac1_control
            :    where nxt_pgm_name = 'CBRRPT'
            :    and cur_pgm_name = 'APP'
	    :
            :    FILE_NAME
            :    ---------
            :    CIBER_CIBER_20130917090101_1312027_0001.dat
            :    CIBER_CIBER_20131012092425_1237215_0013.dat
            :    CIBER_CIBER_20130927090046_1027159_0012.dat
            :    ...
            :    CIBER_CIBER_20131011211952_1237215_0012.dat

         2. *MF1_CIBER_BATCH_SEQ*\\
            Contain the CIBER batch sequence numbers /(See Database
            Section)/.

** Overage Protection

      Overage notifications are detected on an event by event basis. As
      events are processed by *TC* and added to the *APE1_ACCUMULATORS*
      table a check is made against the
      *L9_FIRST_THRESHOLD/L9_SECOND_THRESHOLD* fields. If an overage
      is detected the ***FIELD*** CTN is added to file (segregated by
      unique *TC* file?) in the NTF directory. MFT then pulls these
      files and delivers to DMI for distribution. A note is added to the
      NOTIFICATION_HUB.SMS_NOTIFICATION table (ODS) indicating the
      message was sent by DMI.

      - Overage process flow
         [[file:Pictures/overage.png]]

      - Output Location
|-----------------------------------------+-------------------------------------|
| *NOTIF_DESC*                            | *FILE_PATH*                         |
|-----------------------------------------+-------------------------------------|
| Overage cap notification on group level | $ABP_APR_ROOT/interfaces/output/NTF |
| Disclaimer notification on group level  | $ABP_APR_ROOT/interfaces/output/NTF |
| Bucket notification on group level      | $ABP_APR_ROOT/interfaces/output/NTF |
|-----------------------------------------+-------------------------------------|

| *prdwrk1@kprl1batch:/pkgbl01/inf/aimsys/prdwrk1/var/usc/projs/apr/interfaces/output/NTF*   |

      -  Fields of Interest
         S - SMS, M - MMS, V - Voice, D - Data, L - LTE =>
         L3_CALL_SOURCE

*** Billing Process
      The billing process follows a map which is created by the job
      *ADJ3_APR_CycleBillRun_Sh*. If it completes successfully it
      will create a billing map that will look something like the
      following:

      [[file:Pictures/billing_tc_map-27124108.png]]

** Log File Location
   - Batch 1
     -  cdlog -
            \//pkgbl01\//inf\//aimsys\//prdwrk1\//var\//usc\//log
         -  A&F | ssh prdwrk2@kpr02batch | MF1_MD_MD_USC
         -  F2E | ssh prdwrk4@kpr02batch |
            ADJ1_File2E_Daemon_Shell_Sh_F2E

   -  Alias
      -  *cdlog* - cd to the logfile directory.
      -  *cdswitch (Batch1 Only)* - cd to the switch directory.
      -  *aprout* - cd to the *CIBER* out directories.

** Operational Terms and Definitions
      -  *Front-end Processes*
         -  *CRM:* Customer Relationship Manager
            -  *Smart Client Designer*
            -  *ASCF Designer - Amdocs Smart Client Designer*
            -  *APM - Amdocs Process manager*
         -  *RIM:* Retail Interaction Manager
            -  *POS:* Point of sale provided by *Microtelecom*
            -  *Pricing Studio*
            -  *ASM Amdocs Security Module*
      -  *Provisioning*
         -  *AM or AAM - Activation Manager:* Provision Tool
         -  *APM:* The Gui front end to *AM*
      -  *Usage Acquisition and Rating*
         -  *A&F* Acquisition and formatting
         -  *Turbo-Charging* Real-time rater
            -  *SCP* - Session Control Protocol
         -  *MAF now called Acquisition and Formatting*
         -  *AMC - Amdocs Monitoring and control*
         -  *AEM - Amdocs Error Manager* /replaces EMS/
         -  *RLC* - Rating Logic Configurator
      -  *Billing*
         -  *Billing Configurator*
         -  *Invoicing Configurator*
         -  *Replenishment Manager*
         -  *Designer Studio* /for bill layout/
         -  *Pooling* - Everyone brings there services to be shared
            within everyone in the pool. Pooling is customization.
         -  *Sharing* - A finite set of resources are set-up and
            everyone can use it.
         -  *MRC - Monthly Recurring Charge*
      -  *Integration sub-systems*
         -  *AIF - Amdocs Integration Framework*
         -  *\index{ASM}ASM - Amdocs Security Manager*
         -  *APM - Amdocs Process Manager*
         -  *MMI - Multimedia Integrator*
         -  *OM - Order Manager*
         -  *OMS - Order Management System*

** Production Support - SUP1
*** Support Server
    Accessed from Putty in *TOPS* Production Support Applications.
    Should be able to login on with LAN ID and password (which is
    same as your LAN ID).
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l
|---------------------|
| *SERVER NAME*       |
|---------------------|
| Ksr01omsap.uscc.com |
| ksr01bmrim.uscc.com |
| ksr01csmap.uscc.com |
| ksr01batch.uscc.com |
| ksr01tiger.uscc.com |
| ksr01aprma.uscc.com |
| ksr01mcsap.uscc.com |
| ksr01ebiap.uscc.com |
| msr01esadm.uscc.com |
| msr01esb01.uscc.com |
| msr01esb02.uscc.com |
| msr01wladm.uscc.com |
| msr01wls01.uscc.com |
| msr01wls02.uscc.com |
| msr01web01.uscc.com |
| msr01web02.uscc.com |
|---------------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** Development Servers
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align lllll
|---------------+--------------+------------+----------+------------|
| *Environment* |         *IP* | *Hostname* | *UserID* | *Password* |
|---------------+--------------+------------+----------+------------|
| Development   |  10.106.10.9 | mdr01bld01 | md1dbal1 | /password/ |
| Testing       |  10.106.10.9 | mdr01bld01 | d_medap  | Henry*123  |
| CallDump      | 10.176.179.3 | kpr01scdap | calldmp  | Henry*128  |
|---------------+--------------+------------+----------+------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
** Accounts Receivable
      Handles Finance, Payments and credits as well Collections.

*** AR Basics
    -  *Root Directory* - $ABP\_AR\_ROOT on kpr01batch
    -  *Collection Interface* -
       /pkgbl01/inf/aimsys/prdwrk1/var/usc/projs/cl/interfaces

***  AR Jobs and Deamons
     - AR1JRNLEXT
       The Journal Extract process extracts to an output file all
            financial activities that occurred since the last run of
            this process.
            -  *LOG FILE* - AR1JRNLEXT.<SYS\_DATE>.log
            -  *Output File* -
            -  *Script Name* - ar1\_JrnlExtract\_Sh

      - AR1PYMRCT
      - AR1DDREQCRE
      - AR3GWLSTR
      - AR1PYMPOST
      - AR1DDFEDBCK
      - AR1INVRCT
***  End of Month
     : [[docs/AR%20EOM.sql][AR End Of Month - SQL]]
     -  Email List for Revenue Accounting
     -  Revenue Not confirmed for cycles 24,26 and 28
     -  Null GeoCodes
     -  Query for the EOM

*** Payment File
         Once in a while payment files break due to either bad sequence
         numbers or format issues. For the most part you should tell
         Amdocs to put the file in CN status and have *Payment Control*
         to resend. If the file is also out of sequence have payment
         control send it with a new sequence number. If the whole file
         fails, not just records, then have Payment Control send a new
         file with a new sequence number.

         #+BEGIN_EXAMPLE
             PaymentControl-ImportPaymentFiles@uscellular.com>
         #+END_EXAMPLE
*** AR Reports
    -  *LockBox*
       -  /File Location/ :
          $ABP\_AR\_ROOT/interfaces/input/lockbox/MELL\_PYM.*.csv
    -  *AGTCASH*
       -  /File Location/ :
            $ABP\_AR\_ROOT/interfaces/input/lockbox/ACP\_PYM*.csv
    -  *IMPCOL*
       -  /File Location/ :
            $ABP\_AR\_ROOT/interfaces/input/lockbox/IMPCOL.PAY*.csv
    -  *IMPEFT*
        -  /File Location/ :
               $ABP\_AR\_ROOT/interfaces/input/lockbox/IMPEFT.PAY.*csv
    -  *IMPPAY*
        -  /File Location/ :
               $ABP\_AR\_ROOT/interfaces/input/lockbox/IMPPAY.PAY.*.csv
    -  *Autopay Reports* \\ Both of these reports are derived after
            the above files have been processed.
        -  *Autopay\_PostPaid*
           - Run both the expected and actual *SQL*
        -  *Autopay\_PrePaid*
           -  Run prepaid expected *SQL*
    -  *ACH extract file* \\Check to see if the output report and
            *SQL* match.
        - /File Location/ :
            $ABP\_AR\_ROOT/interfaces/output/ACH.ar.DD\_OUT*\\
*** Credit Cards  
    - AR9\_CC\_AUTH\_LOG
      Credit card transactions from the *TOPS* side.
    - CTLOG
      Database from the microtelecom side.

*** GL Extracts
         These are created via *APRM*.

    - SAP Extracts
       -  Business owner (3/15/2013): Sangeeta Khedeker
       -  Transfer target:
               svc\_mft\_ops@babble.tds.local:~bosstven/glinty3t

    - General Ledger - Incollect - USCSAPEXTRGL SAPIN
       -  Job name: USCSAPEXTRGL SAPIN
       -  Schedule: EOD
       -  TWS Job name: PR-FINFN17-APRM\_RMG\_SAP\_INCOLGENLEDGER
       -  Transfer Date: 22nd of each month @ 12:00 am
       -  SLA: 2 days
       -  File name convention: GLINCY3YYYYMMDDHHMMSS
       -  File location: ~aprmoper/var/usc/SAPGLEXTR/IN/

    - General Ledger - Outcollect - USCSAPEXTRGL SAPOUT
      -  Job name: USCSAPEXTRGL SAPOUT
      -  Schedule: EOD
      -  TWS Job name: PR-FINFN17-APRM\_RMG\_SAP\_OUTCOLGENLEDGER
      -  Transfer Date: 22nd of each month @ 12:00 am
      -  SLA: 2 days
      -  File name convention: GLOUTY3YYYYMMDDHHMMSS
      -  File location: ~aprmoper/var/usc/SAPGLEXTR/RO/

    - Accrual EOM - Incollect - USCSAPEXTRGL ACCIN
      -  Job name: USCSAPEXTRGL ACCIN
      -  Schedule: EOD
      -  TWS Job name: PR-FINFN17-APRM\_RMG\_SAP\_INCOLGENLEDGER
      -  Transfer Date: 1st of each month @ 12:00 am
      -  SLA: End of day
      -  File name convention: GLINCY4YYYYMMDDHHMMSS
      -  File location: ~aprmoper/var/usc/SAPGLEXTR/IN/
         -  Ex: /inf_nas/apm1/prod/aprmoper/var/usc/SAPGLEXTR/IN/GLINCY420130401005834

    - Accrual EOM - Outcollect - USCSAPEXTRGL ACCOUT
      -  Job name: USCSAPEXTRGL ACCOUT
      -  Schedule: EOD
      -  TWS Job name: PR-FINFN17-APRM\_RMG\_SAP\_INCOLGENLEDGER
      -  Transfer Date: 1st of each month @ 12:00 am
      -  SLA: End of day
      -  File name convention: GLOUTY4YYYYMMDDHHMMSS
      -  File location: ~aprmoper/var/usc/SAPGLEXTR/RO/
         -  Ex:  /inf\_nas/apm1/prod/aprmoper/var/usc/SAPGLEXTR/RO/GLOUTY420130401005834

    - Intra-Company Roaming - USCSAPEXTRGL SAPIR
      -  Job name: USCSAPEXTRGL SAPIR
      -  Schedule: EOD
      -  TWS Job name: PR-FINFN17-APRM\_RMG\_SAP\_INCOLGENLEDGER
      -  Transfer Date: 1st of each month @ 12:00 am
      -  SLA: End of day
      -  File name convention: GLINTY3YYYYMMDDHHMMSS
      -  File location: ~aprmoper/var/usc/SAPGLEXTR/IR/
         -  Ex:  /inf_nas/apm1/prod/aprmoper/var/usc/SAPGLEXTR/IR/GLINTY320130401005834

*** Operational SQL
         All of these scripts would be good monitor scripts.
     :    [[docs/AR%20Operational.sql][AR Operational SQL]]

      -  Checks to see if all payment files have been
            processed.(*PRDCUST*)
      -  Gateway Listener (*PRDCUST*)
      -  More General stuff (*PRDCUST*)
      -  Query for Batch Payments

    -   APRM Queries
    :  [[docs/APRM%20Queries][AprmQuery.sql]]

** TC Oncall Daily Duties
*** Check the Web Monitors
    -   Batch Tab
        -  Open Remedy against Amdocs - Tier 2 Billing to restart
               the scripts when any of the Batch1, Batch2, Batch3, or
               APRM columns are missing indicating they are down.
        -  Open Remedy against Amdocs - Tier 2 Billing to restart
               the script when any of these scripts are red indicating
               they are down.\\
    -  Event Tab
       -  Open Remedy against Amdocs - Tier 2 Billing to restart
               the scripts when any of the Event1 through Event6 columns
               are missing indicating they are down.
       -  Open Remedy against Amdocs - Infra Environments to
               investigate available space when any of the File system %
               Used sections are red.
    -  AC1 Control Tab
       -  Open Remedy against Amdocs for AF and stuck in IU or RD
               files when creation date and is less than current date.
       -  Use the A&F monitor report for <MM/DD/YYYY> and APRM
               monitor report for <MM/DD/YYYY> emails as supporting
               evidence, which run every hour.
    -  AEM Tab
       -  Ignore -- monitor was turned off due a conflict with
               prepaid event transactions.
    -  Other Tab
       -  Open Remedy against Amdocs - Tier 2 Billing to check on
               going rerating when rows are in red for more than one
               day.
    - Check Overage Protection Monitor.
      -  Go to the MPS mailbox and look for the Overage Notification
            Count for <MM-DD-YYYY> email.\\
            When received with counts similar to these there are no
            issues.
         #+BEGIN_EXAMPLE
             Total Files: 42987
             Total Records: 154323
             75%: 84418
             100%: 69830
             Disclaimer: 60
             Balance: 15
         #+END_EXAMPLE
         -  When count are significantly low open a Sev 3 ticket against
            Amdocs.
         #+BEGIN_EXAMPLE
             Total Files: 2607
             Total Records: 9458
             75%: 5365
             100%: 4092
             Disclaimer: 0
             Balance: 1
         #+END_EXAMPLE
         -  Open a Sev 2 ticket against Amdocs when Overage Notification
            Count FAILED for <MM-DD-YYYY>! is received.

            -  Call IS Support at 608-828-5812 to inform them of a Sev 2
               or above ticket.
            -  Escalate ticket in Remedy, call Amdocs T2.5 on call at
               217-766-1979.
            -  Email applicable teams the ticket number and description.

         #+BEGIN_EXAMPLE
             To:  GSSUSCCTier25RA@amdocs.com
             Cc:  USCDLISOps-BillingandAROperations@uscellular.com; MPS@uscellular.com
         #+END_EXAMPLE

    -  Check .LOG file monitor.
       -  Go to the MPS mailbox and look for the Log Monitoring Count
            for <MM-DD-YYYY> ! email
       -  When received with No LOG files where found for <MM-DD-YYYY>
            there are no issues.
       -  When received with "Log files found for <MM-DD-YYYY> Total
            Log Files: <XXXXXX> open a sev 3 Remedy ticket against
            Amdocs.
       -  Escalate ticket in Remedy, call Amdocs T2.5 on call at
               217-766-1979.
       -  Email applicable teams the ticket number and description.
            #+BEGIN_EXAMPLE
                To:  GSSUSCCTier25RA@amdocs.com
                Cc:  USCDLISOps-BillingandAROperations@uscellular.com; MPS@uscellular.com
            #+END_EXAMPLE

    -  Check AC1_CONTROL Fixer Status.
       -  Go to the MPS mailbox and look for the AC1_CONTROL Fixer
            Status emails. There are two. One at ~12:04AM and on at
            ~4:03AM.
       -  The output is similar to what is shown below. The only
            action needed is when a Sid is removed other than *SIDS*
            45696, 49697, and 49698. When a Sid other than the
            aforementioned *SIDS* is removed open a Sev 4 Remedy against
            Inter-carrier Services, email the ticket number,
            description, and details to Zachary.Gutter@uscellular.com
            asking him to validate the Sid.

            #+BEGIN_EXAMPLE
                Results for the AC1_CONTROL Fixer:
            #+END_EXAMPLE

            #+BEGIN_EXAMPLE
                Fixed /pkgbl02/inf/aimsys/prdwrk2/var/usc/projs/up/physical/
                      switch/DIRI/SDIRI_FCIBER_ID000069_T20150802185115.DAT 
                and replaced it with /pkgbl02/inf/aimsys/prdwrk2/var/usc/projs
                      /up/physical/switch/DIRI/SDIRI_FCIBER_ID000069_T20150802185199
            #+END_EXAMPLE

            #+BEGIN_EXAMPLE
                Sid:  was removed
            #+END_EXAMPLE

            #+BEGIN_EXAMPLE
                There were 0 CIBER AF files with wr_rec_quantity of 2
            #+END_EXAMPLE

            #+BEGIN_EXAMPLE
                There were 0 out of sequence CIBER files
            #+END_EXAMPLE

            #+BEGIN_EXAMPLE
                There were 0 OutColllects files stuck IU and set to RD
            #+END_EXAMPLE

            #+BEGIN_EXAMPLE
                There were 0 File2E stuck IU/AF files and set to RD
            #+END_EXAMPLE

            #+BEGIN_EXAMPLE
                There were 0 Files stuck FR files and set to RD
            #+END_EXAMPLE

            #+BEGIN_EXAMPLE
                There were 21 ORG records updated at prdusg1c.ape1_subscriber_rerate
                from num_of_rerate_tries=3 to 1
            #+END_EXAMPLE

            #+BEGIN_EXAMPLE
                There were 14 ORG records updated at prdusg2c.ape1_subscriber_rerate 
                from num_of_rerate_tries=3 to 1
            #+END_EXAMPLE

            #+BEGIN_EXAMPLE
                There were 28 ORG records updated at prdusg3c.ape1_subscriber_rerate 
                from num_of_rerate_tries=3 to 1
            #+END_EXAMPLE

            #+BEGIN_EXAMPLE
                There were 28 ORG records updated at prdusg4c.ape1_subscriber_rerate 
                from num_of_rerate_tries=3 to 1
            #+END_EXAMPLE

    - Check Large Charge monitor.
      -  Go to the MPS mailbox and look for the Large Charge email.
      -  When the subject line is other than Large Charge Not
            Detected - No Action Required open a sev 3 Remedy against
            Amdocs.
      -  Escalate ticket in Remedy, call Amdocs T2.5 on call at
               217-766-1979.
      -  Email applicable teams the ticket number and description.

            #+BEGIN_EXAMPLE
                To:  GSSUSCCTier25RA@amdocs.com
                Cc:  USCDLISOps-BillingandAROperations@uscellular.com; MPS@uscellular.com
            #+END_EXAMPLE

    - High Dollar Amount Recovery Procedure
      *IMPORTANT : High Dollar amounts must be reversed on the same day they are created.*

      1. Amdocs OCCGMSCPSGUSCCBOPSAR@amdocs.com receives an
         internal alert indicating there is a high dollar amount
         issue.
      2. Amdocs OCCGMSCPSGUSCCBOPSAR@amdocs.com calls the USC
         Billing On-Call Person from the daily Billing Priorities
         Email as soon as the alert is received.
      3. Amdocs OCCGMSCPSGUSCCBOPSAR@amdocs.com sends an email to
         the USCDLISOps-BillingandAROperations@uscellular.com
         email distribution list within 1 hour of the initial
          internal alert. This email contains:
          -  FA/BAR
          -  transaction_id
          -  amount (e.g. charges_amount)
          -  tax_amount
          -  debit_id
          -  l9_geo_cod
          -  operator_id (associate id)
          -  first_name
          -  last_name
          -  e_mail
          -  employee_no
          -  work_group

      4. USC forwards the Amdocs communication email to the
         following Financial Services email addresses within 1
         hour of receiving the email communication from Amdocs:
         -  NFSC-TulsaResolutions@uscellular.com
         -  NFSCMADFSHelpDesk@uscellular.com
         -  Lane.Dohl@uscellular.com

      5. Financial Services reverses any incorrect transactions
         and replies to the email distribution list for USC and
         Amdocs. If the process is successful, no further action
         is required. If there are any other issues, further
         escalation is needed using our standard processes. This
         escalation requires a Sev-3 ticket created and routed to
         the Amdocs Tier 2 Billing queue.

    -  Check out of sequence CIBER records monitor.
       -  Go to the MPS mailbox and look for the out of sequence CIBER
            records email.
       -  When the subject line is other than No out of sequence CIBER
            records for <YYYYMMDD> open a sev 4 Remedy against Amdocs.
       -  Email applicable teams the ticket number and description.

         #+BEGIN_EXAMPLE
             To:  GSSUSCCTier25RA@amdocs.com
             Cc:  USCDLISOps-BillingandAROperations@uscellular.com; MPS@uscellular.com
         #+END_EXAMPLE

    -   Check Late Usage Processing
         Follow the link below to see a query to find late usage for a
         given cycle.
         [[file:///home/dbalchen/workspace/CommonPlace/docs/LateUsage.sql][Late Usage SQL]]

    -   When Notified Nonfictions.
         -  kpr01ebiap maintenance.
         -  Login to the EBI server with your LAN ID and password.
         -  Check if AEM and KPI scripts are running.

         #+BEGIN_EXAMPLE
             [md1dsmi1@kpr01ebiap eps]$ ps -ef | grep perl | grep md1dsmi1 | grep -v grep
             md1dsmi1   16566       1  0 Jul30 ?        00:00:00 perl ./aem_purge_trending_split.pl 1 0
             md1dsmi1 2345044       1  0 Jul28 ?        00:00:00 perl ./aem_error_trending_auto.pl
             md1dsmi1 2345048       1  0 Jul28 ?        00:00:00 perl ./aem_purge_trending_auto.pl
             md1dsmi1 2345050       1  0 Jul28 ?        00:00:00 perl ./em1_errors_trending_auto.pl
             md1dsmi1 2345052       1  0 Jul28 ?        00:00:00 perl ./em1_errors_write_off_auto.pl
             md1dsmi1 2345053       1  0 Jul28 ?        00:00:00 perl ./remedy_reports_auto.pl
             md1dsmi1 2345054       1  0 Jul28 ?        00:00:43 perl ./tc_kpi_auto.pl 2 2 1 1
             md1dsmi1 2345055       1  0 Jul28 ?        00:00:02 perl ./tc_kpi_datain_auto.pl 2 2 1 1
         #+END_EXAMPLE

         -  Check if Business Report scripts are running.

         #+BEGIN_EXAMPLE
             [md1dsmi1@kpr01ebiap eps]$ ps -ef | grep MainLoop | grep -v grep
             md1dsmi1 2188567       1  0 Jul28 ?        00:00:00 HS1H MainLoop - next: 
             md1dsmi1 2188568       1  0 Jul28 ?        00:00:00 CancelLineIL MainLoop - next:
             md1dsmi1 2188569       1  0 Jul28 ?        00:00:00 MADISON MainLoop - next: 
             md1dsmi1 2188570       1  0 Jul28 ?        00:00:00 CancelLineWI MainLoop - next:
             md1dsmi1 2188571       1  0 Jul28 ?        00:00:00 daily_counts MainLoop - next:
         #+END_EXAMPLE

    -  Restart AEM and KPI scripts.
       -  Login to the EBI server with your LAN ID and password.
       -  cd to /home/common/eps/das
       -  Run from the command line nohup ./StartAllErrorAndKPI.sh &

    - Restart Business Report scripts.
      -  Login to the EBI server with your LAN ID and password.
      -  cd to /home/common/eps/reports
      -  Run from the command line nohup ./StartAllReportCron.sh &
         Note all scripts use Dave Smith's LAN ID password and when the
         failure is due to the password being expired please notify him
         immediately and if he is out of the office wait until he
         returns to the office to reset his password and update the
         scripts.

* CallDump
** Data Directories
      -  */m04/switchb/ecs* - *(aaa1)* 3G or lower data usage guide by *#19*.
      -  */m06/switch/MMS* - Picture Messaging
      -  */m06/switch/MMSText* - Picture Messaging Text only.
      -  */m06/switch/sms\_nsn* - SMS Motorola
      -  */m06/switchb/sms\_alu* - SMS ALU
      -  */m04/switch/lte* - *(aaa3)* P-Gateway 4G usage
      -  */m04/switchb/valista* - Premium SMS
      -  */m05/switch/brew* - Brew and Brew data *(aaa2)*
      -  */m01/switchb/tas* - Volte

** WEDO (Switch to bill)
      The *WEDO* process pulls usage files tar's them up and places them
      into a directory so that *MFT* can pick them up. The operational
      jobs are as follows:

      1. Job PR-BOD-S2B_TO_WEDO is running this script:
         /m01/switch/to_wedo.sh
      2. Job PR-BOD-S2B_CREATE_WEDO_ARCH is running this script:
         /m01/switch/wedo/create_wedo_archive.sh

* Databases
** Production Database - Login/Password
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l|l
|------------+------------+---------------+-----------------------|
| *USERNAME* | *PASSWORD* | *DB_INSTANCE* | *Description*         |
|------------+------------+---------------+-----------------------|
| PRDAFC     | con8af8    | PRDAF         | Reference Tables      |
| PRDCUSTC   | con8cst8   | PRDCUST       | Customer              |
| PRDRPLC    | con8rpl8   | PRDRPL        | Replenishment Manager |
| PRDOPRC    | con8opr8   | PRDCUST       | Operations            |
| PRDUSG1C   | con8usg18  | PRDUSG1       | Usage                 |
| PRDUSG2C   | con8usg28  | PRDUSG2       | Usage                 |
| PRDUSG3C   | con8usg38  | PRDUSG3       | Usage                 |
| PRDUSG4C   | con8usg48  | PRDUSG4       | Usage                 |
| prdappc    | Con5app5   | PRDAPRM       | Aprm                  |
|------------+------------+---------------+-----------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

** Support Databases - Login/Password
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l|l
|------------+------------+----------------+-----------------------|
| *USERNAME* | *PASSWORD* | *DB_INSTANCE*  | *Description*         |
|------------+------------+----------------+-----------------------|
| PRDAFC     | PRDAFC     | SUPAF          | Reference Tables      |
| PRDCUSTC   | PRDCUSTC   | SUPCUST        | Customer              |
| PRDRPLC    | PRDRPLC    | SUPRPL         | Replenishment Manager |
| PRDUSG1C   | PRDUSG1C   | SUPUSG1        | Usage                 |
| PRDUSG2C   | PRDUSG2C   | SUPUSG2        | Usage                 |
| PRDUSG3C   | PRDUSG3C   | SUPUSG3        | Usage                 |
| PRDUSG4C   | PRDUSG4C   | SUPUSG4        | Usage                 |
| PRDSELC    | PRDSELC    | SUPAPRM        | APRM                  |
|------------+------------+----------------+-----------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

** Usage DB by cycle
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align c|l|l
|-------------+------------+-------------------------------------------------|
| *CycleCode* | *Database* | *Description*                                   |
|-------------+------------+-------------------------------------------------|
|           2 | PRDUSG1    | General Cycle close on the 1st                  |
|           4 | PRDUSG4    | General Cycle close on the 3rd                  |
|           6 | PRDUSG4    | General Cycle close on the 5th                  |
|           8 | PRDUSG1    | General Cycle close on the 7th                  |
|          10 | PRDUSG3    | General Cycle close on the 9th                  |
|          12 | PRDUSG2    | General Cycle close on the 11th                 |
|          14 | PRDUSG4    | General Cycle close on the 13th                 |
|          16 | PRDUSG3    | General Cycle close on the 15th                 |
|          18 | PRDUSG2    | General Cycle close on the 17th                 |
|          20 | PRDUSG1    | General Cycle close on the 19th                 |
|          22 | PRDUSG2    | General Cycle close on the 21st                 |
|          24 | PRDUSG3    | General Cycle close on the 23rd                 |
|          26 | PRDUSG4    | General Cycle close on the 25th                 |
|          28 | PRDUSG3    | General Cycle close on the 27th                 |
|          77 | PRDUSG1    | Dropped events cycle                            |
|          80 | PRDUSG3    | Rejected events cycle                           |
|          99 | PRDUSG2    | Reserved for OutCollect Cycle close on the 31th |
|        1002 | PRDUSG2    | Reseller Cycle close on the 1st                 |
|        1004 | PRDUSG1    | Reseller Cycle close on the 3rd                 |
|        1006 | PRDUSG1    | Reseller Cycle close on the 5th                 |
|        1008 | PRDUSG3    | Reseller Cycle close on the 7th                 |
|        1010 | PRDUSG2    | Reseller Cycle close on the 9th                 |
|        1012 | PRDUSG4    | Reseller Cycle close on the 11th                |
|        1014 | PRDUSG1    | Reseller Cycle close on the 13th                |
|        1016 | PRDUSG2    | Reseller Cycle close on the 15th                |
|        1018 | PRDUSG4    | Reseller Cycle close on the 17th                |
|        1020 | PRDUSG3    | Reseller Cycle close on the 19th                |
|        1022 | PRDUSG3    | Reseller Cycle close on the 21st                |
|        1024 | PRDUSG1    | Reseller Cycle close on the 23rd                |
|        1026 | PRDUSG4    | Reseller Cycle close on the 25th                |
|        1028 | PRDUSG2    | Reseller Cycle close on the 27th                |
|-------------+------------+-------------------------------------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

** DB Preparation
      For each DB instance, except ODS and SIT, You need to alter the
      session before you can use it.\\ For example for usage 1 type
      : ALTER SESSION SET CURRENT_SCHEMA=PRDUSG1C

** SQL Join Reference
      [[file:Pictures/Sql_Joins.png]]

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
* Database Tables
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
#+ATTR_LaTeX: :environment longtable :align l|l|l
|---------------------------+-------------+----------------------|
| *Table Name*              | *Database*  | *Description*        |
|---------------------------+-------------+----------------------|
| *AC1_CONTROL*             | PRDCUST     | Check both PRDCUST   |
| *AC1_CONTROL_HIST*        | PRDAF       | and PRDAF            |
| SERVICE_AGREEMENT         | PRDCUST     |                      |
| CSM_OFFER                 | PRDCUST     |                      |
| SUBSCRIBER                | PRDCUST     |                      |
| *CM1_AGREEMENT_PARAM*     | PRDCUST     | Used for data        |
|                           |             | cap issues.          |
| *APE1_RATED_EVENT*        | PRDUSG(1-4) |                      |
| APE1_REJECTED_EVENT       | PRDUSG(1-4) |                      |
| *APE1_ACCUMULATORS*       | PRDUSG(1-4) |                      |
| *AC_PHYSICAL_FILES*       | PRDUSG(1-4) |                      |
| *AC_SOURCE*               | PRDCUST     |                      |
| *AGD1_RESOURCES*          | PRDAF       |                      |
| ADJ1_CYCLE_STATE          |             |                      |
| APR1_NOTIFICATIONS_CTL    |             |                      |
| AUH1_CTRL                 |             |                      |
| APE1_SUBSCRIBER_RERATE    | PRDUSG(1-4) |                      |
| APE1_SUBSCR_DATA          | PRDUSG(1-4) | /See the BPT/        |
| *APE1_SUBSCR_OFFERS*      | PRDUSG(1-4) | /for the definition/ |
| APE1_SUBSCR_PARAMS        | PRDUSG(1-4) | /of these tables/    |
| APE1_CUST_CYCLE_HISTORY   | PRDUSG(1-4) |                      |
| APE3_EPCEXT_OFFER_DETAILS | PRDCUST     |                      |
|---------------------------+-------------+----------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
** Usage Tables
*** CM1_AGREEMENT_PARAM
    In the PRDCUST database used for data cap and overage
    protection investigations.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|-------------------+----------------------+-------------------|
| *Name*            | *Data Type*          | *Description*     |
|-------------------+----------------------+-------------------|
| Agreement_Key     | Number (9)           |                   |
| Agreement_No      | Number (10)          | Is Equal To The   |
|                   |                      | Subscriber Number |
| Param_Seq_No      | Number (10)          |                   |
| Sys_Creation_Date | Date                 |                   |
| Sys_Update_Date   | Date                 |                   |
| Operator_Id       | Number (9)           |                   |
| Application_Id    | Char (6 Byte)        |                   |
| Dl_Service_Code   | Char (5 Byte)        |                   |
| Dl_Update_Stamp   | Number (4)           |                   |
| Param_Name        | Varchar2 (255 Byte)  |                   |
| Param_Values      | Varchar2 (4000 Byte) |                   |
| Effective_Date    | Date                 |                   |
| Expiration_Date   | Date                 |                   |
| Agr_Level         | Char (1 Byte)        |                   |
| Source_Agr_No     | Number (10)          |                   |
| Trx_Id            | Number (10)          |                   |
| Ins_Trx_Id        | Number (10)          |                   |
| Eff_Issue_Date    | Date                 |                   |
| Exp_Issue_Date    | Date                 |                   |
| Conv_Run_No       | Number (10)          |                   |
| Offer_Instance_Id | Number (10)          |                   |
|-------------------+----------------------+-------------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** AC1_CONTROL (-HIST)
         Similar to *ac_processing_accounting* there are two tables
         with the same name but in different databases, *PRDAF* (Usage)
         and *PRDCUST* (AR).
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|------------------------+--------------------+-------------|
| *Column Name*          | *Data Type*        | Description |
|------------------------+--------------------+-------------|
| *Identifier*           | Number(15,0)       |             |
| Sys_Creation_Date      | Date               |             |
| Sys_Update_Date        | Date               |             |
| Operator_Id            | Number(9,0)        |             |
| Application_Id         | Char(6 Byte)       |             |
| Dl_Service_Code        | Char(5 Byte)       |             |
| Dl_Update_Stamp        | Number(4,0)        |             |
| *File_Name*            | Varchar2(200 Byte) |             |
| *File_Path*            | Varchar2(512 Byte) |             |
| File_Seq_No            | Number(6,0)        |             |
| Host_Name              | Varchar2(50 Byte)  |             |
| Data_Group             | Varchar2(64 Byte)  |             |
| File_Create_Date       | Date               |             |
| *File_Status*          | Varchar2(2 Byte)   |             |
| *Origin_File_Ident*    | Number(15,0)       |             |
| *Phy_File_Ident*       | Number(15,0)       |             |
| Cur_Pgm_Name           | Varchar2(32 Byte)  |             |
| Cur_File_Alias         | Varchar2(10 Byte)  |             |
| Nxt_Pgm_Name           | Varchar2(32 Byte)  |             |
| Nxt_File_Alias         | Varchar2(10 Byte)  |             |
| File_Format            | Varchar2(10 Byte)  |             |
| File_Group             | Char(1 Byte)       |             |
| File_Type              | Char(2 Byte)       |             |
| Repro_Ind              | Char(1 Byte)       |             |
| Source_Type            | Char(10 Byte)      |             |
| Source_File_Type       | Char(10 Byte)      |             |
| File_Deleted_Ind       | Char(1 Byte)       |             |
| System_Id              | Char(5 Byte)       |             |
| Abp_Var                | Varchar2(512 Byte) |             |
| Priority               | Char(1 Byte)       |             |
| Wr_Rec_Quantity        | Number(9,0)        |             |
| Wr_Time_Quantity       | Number(13,2)       |             |
| Wr_Money_Quantity      | Number(13,2)       |             |
| Wr_Euro_Quantity       | Number(13,2)       |             |
| In_Rec_Quantity        | Number(9,0)        |             |
| In_Time_Quantity       | Number(13,2)       |             |
| In_Money_Quantity      | Number(13,2)       |             |
| In_Euro_Quantity       | Number(13,2)       |             |
| Gn_Rec_Quantity        | Number(9,0)        |             |
| Gn_Time_Quantity       | Number(13,2)       |             |
| Gn_Money_Quantity      | Number(13,2)       |             |
| Gn_Euro_Quantity       | Number(13,2)       |             |
| Dr_Rec_Quantity        | Number(9,0)        |             |
| Dr_Time_Quantity       | Number(13,2)       |             |
| Dr_Money_Quantity      | Number(13,2)       |             |
| Dr_Euro_Quantity       | Number(13,2)       |             |
| Processed_Rec_No       | Number(9,0)        |             |
| Rejected_Reason_Cd     | Char(3 Byte)       |             |
| Owner_Name             | Varchar2(50 Byte)  |             |
| Table_Alias            | Number(5,0)        |             |
| Nxt_Process_Id         | Number(9,0)        |             |
| Nxt_Process_Start_Time | Date               |             |
| Cur_Process_Id         | Number(9,0)        |             |
| Max_Event_Time         | Date               |             |
| Logical_File_Ident     | Number(15,0)       |             |
| Table_Issue_Code       | Number(9,0)        |             |
| External_Id            | Varchar2(32 Byte)  |             |
| Dest_Rout_Crtria       | Varchar2(24 Byte)  |             |
| Status_Category        | Varchar2(20 Byte)  |             |
| Status_Code            | Varchar2(200 Byte) |             |
| Application_Code       | Varchar2(50 Byte)  |             |
| File_Size              | Number(15,0)       |             |
| Recycle_Counter        | Number(15,0)       |             |
| Group_Sequence         | Number(15,0)       |             |
| Out_Req_Quantity       | Number(9,0)        |             |
| Bulk_Id                | Number(9,0)        |             |
| Store_Mode             | Char(2 Byte)       |             |
| Session_Id             | Number(15,0)       |             |
| Target_File_Path       | Varchar2(512 Byte) |             |
| Target_Host            | Varchar2(50 Byte)  |             |
| Ext_Identifier         | Number(9,0)        |             |
| Ext_Orig_Ident         | Number(9,0)        |             |
| Additional_Attr        | Varchar2(300 Byte) |             |
| Group_Size             | Number(4,0)        |             |
| Monitor_Data           | Varchar2(50 Byte)  |             |
| Wr_Volume_Quantity     | Number(15,2)       |             |
| In_Volume_Quantity     | Number(15,2)       |             |
| Gn_Volume_Quantity     | Number(15,2)       |             |
| Dr_Volume_Quantity     | Number(15,2)       |             |
| End_Process_Time       | Date               |             |
| Fr_Time                | Date               |             |
| Eng_Priority           | Number(1,0)        |             |
|------------------------+--------------------+-------------|

#+BEGIN_LaTeX
\normalsize
\newpage

#+END_LaTeX
*** APE1_RATED_EVENT
         Where all the rateable events are contained. Most data inquires
         usually wind up here.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|------------------------------+---------------------+-----------------------|
| *Column Name*                | *Data Type*         | *Description*         |
|------------------------------+---------------------+-----------------------|
| *Cycle_Code*                 | Number (4)          | See Usage Db By Cycle |
|                              |                     | For Complete List.    |
| *Cycle_Instance*             | Number (2)          | Cycle Month           |
| Customer_Segment             | Number (4)          |                       |
| *Customer_Id*                | Number (10)         |                       |
| Event_Id                     | Number (18)         |                       |
| *Subscriber_Id*              | Number (10)         |                       |
| Start_Time                   | Date                |                       |
| *Event_Type_Id*              | Number (9)          | The Event Type        |
|                              |                     | Voice - 62            |
|                              |                     | Data - 51             |
|                              |                     | Lte - 69              |
|                              |                     | Sms - 54              |
|                              |                     | Mms - 60              |
|                              |                     | Volte - 69            |
|                              |                     | /See Wiki Table/      |
|                              |                     | /For Complete List/   |
| Target_Cycle_Code            | Number (4)          |                       |
| Cycle_Year                   | Number (4)          |                       |
| Billing_Arrangement          | Number (18)         |                       |
| Source_Id                    | Number (15)         |                       |
| Event_State                  | Char (1 Byte)       | X = Stripped          |
| Event_State_Reason_Code      | Char (5 Byte)       |                       |
| Rerate_Type                  | Char (1 Byte)       |                       |
| Original_Event_Id            | Number (18)         |                       |
| Resource_Value               | Varchar2 (63 Byte)  |                       |
| *Resource_Type*              | Varchar2 (16 Byte)  | 0 - Mdn               |
|                              |                     | 19 - Min              |
|                              |                     | 21 - Outcollects      |
|                              |                     | 23 - Imsi             |
| Sys_Creation_Date            | Date                |                       |
| Sys_Update_Date              | Date                |                       |
| Operator_Id                  | Number (9)          |                       |
| Application_Id               | Char (6 Byte)       |                       |
| Dl_Service_Code              | Char (5 Byte)       |                       |
| Dl_Update_Stamp              | Number (4)          |                       |
| Update_Id                    | Number (9)          |                       |
| Version_Id                   | Number (9)          |                       |
| Network_Start_Time           | Date                |                       |
| Event_Status                 | Char (1 Byte)       |                       |
| Event_Counters               | Number (20)         |                       |
| Token_Id                     | Number (20)         |                       |
| L3_Account                   | Number              |                       |
| L3_Additional_Chg_Amt        | Number              |                       |
| L3_Airtime_Chg_Amt           | Number              |                       |
| L3_Basic_Service_Code        | Varchar2 (2 Byte)   |                       |
| *L3_Calling_Country_Code*    | Varchar2 (3 Byte)   |                       |
| *L3_Call_Category*           | Varchar2 (1 Byte)   | Volte = 'V'           |
| *L3_Call_Direction*          | Varchar2 (1 Byte)   | 1 = Incoming          |
|                              |                     | 2 = Outgoing          |
| L3_Call_Source               | Varchar2 (4 Byte)   |                       |
| *L3_Charge_Amount*           | Number              | The Amount Charged    |
| L3_Charge_Code               | Varchar2 (15 Byte)  |                       |
| L3_Chg_Amt_Inc_Free_Allow    | Number              |                       |
| L3_Customer_Offer_Currency   | Varchar2 (3 Byte)   |                       |
| L3_Discount_Amount           | Number              |                       |
| *L3_Duration*                | Number              |                       |
| *L3_Imsi*                    | Varchar2 (15 Byte)  |                       |
| *L3_Offer_Id*                | Number              | The Price Plan        |
|                              |                     | The Event Was         |
|                              |                     | Rated Against.        |
| L3_Original_Charge_Amount    | Number              |                       |
| L3_Payment_Category          | Varchar2 (4 Byte)   |                       |
| L3_Pay_Channel               | Number              |                       |
| *L3_Physical_File_Id*        | Number              |                       |
| L3_Pricing_Item_Id           | Number              |                       |
| L3_Rounded_Unit              | Number              |                       |
| L3_Special_Number_Group      | Varchar2 (10 Byte)  |                       |
| L3_Starting_Period           | Varchar2 (10 Byte)  |                       |
| L3_Target_Customer_Id        | Number              |                       |
| L3_Unapplied_Amount          | Number              |                       |
| L3_Uom                       | Varchar2 (1 Byte)   |                       |
| L3_Volume                    | Number              |                       |
| *Service_Filter*             | Varchar2 (15 Byte)  |                       |
| L9_Call_Tax_Indicator        | Varchar2 (2 Byte)   |                       |
| L9_Originating_Cell_Id       | Varchar2 (16 Byte)  |                       |
| L9_Number_Of_Recipients      | Number              |                       |
| L9_Cross_Toll_Period_Ind     | Varchar2 (1 Byte)   |                       |
| L9_Charge_Type               | Varchar2 (4 Byte)   |                       |
| L9_File_Number               | Varchar2 (24 Byte)  |                       |
| L9_Air_Tax                   | Number              |                       |
| L9_Surcharge_Indicator       | Varchar2 (1 Byte)   |                       |
| L9_Special_Features_Used     | Varchar2 (2 Byte)   |                       |
| L9_Original_Toll_Charge      | Number              |                       |
| *L9_Called_Number*           | Varchar2 (256 Byte) |                       |
| L9_Originating_Category      | Varchar2 (6 Byte)   |                       |
| L9_Volume_Type               | Varchar2 (2 Byte)   |                       |
| L9_Toll_Type_Indicator       | Varchar2 (2 Byte)   |                       |
| L9_Original_Add_Chrg_Amt     | Number              |                       |
| L9_Termination_Reason        | Varchar2 (8 Byte)   |                       |
| L9_Toll_Chrg_Amt_Inc_Alwnce  | Number              |                       |
| L9_Air_Rerate_Ind            | Varchar2 (1 Byte)   |                       |
| L9_Network_Flag              | Varchar2 (1 Byte)   |                       |
| *L9_Called_Place*            | Varchar2 (10 Byte)  |                       |
| L9_Surcharge_Type            | Varchar2 (1 Byte)   |                       |
| L9_Special_Number_Type       | Varchar2 (32 Byte)  |                       |
| L9_Period_Name               | Varchar2 (10 Byte)  |                       |
| L9_Correlation_Id            | Varchar2 (14 Byte)  |                       |
| L9_Additional_Rate_Offer_Id  | Number              |                       |
| L9_Cross_Period_Ind          | Varchar2 (1 Byte)   |                       |
| L9_Price_Plan_Offer_Id       | Number              |                       |
| L9_Toll_Rerate_Ind           | Varchar2 (1 Byte)   |                       |
| L9_Serving_Place             | Varchar2 (26 Byte)  |                       |
| L9_Original_Tax              | Number              |                       |
| L9_Toll_Offer_Instance       | Number              |                       |
| L9_Terminating_Cell_Id       | Varchar2 (16 Byte)  |                       |
| L9_Visitor_Indicator         | Varchar2 (1 Byte)   |                       |
| *L9_Band_Code*               | Varchar2 (1 Byte)   |                       |
| L9_Validity_Time             | Number              |                       |
| L9_Toll_Offer_Id             | Number              |                       |
| L9_Rounded_Toll_Duration     | Number              |                       |
| *L9_Carrier_Id*              | Varchar2 (16 Byte)  |                       |
| L9_Special_Number            | Varchar2 (32 Byte)  |                       |
| L9_Toll_Charge_Amount        | Number              |                       |
| L9_Toll_Duration             | Number              |                       |
| L9_Air_Time_Ind              | Varchar2 (1 Byte)   |                       |
| L9_Event_Type_Name           | Varchar2 (50 Byte)  |                       |
| L9_Record_Sequence_Number    | Number              |                       |
| *L9_Serve_Sid*               | Varchar2 (5 Byte)   |                       |
| *L9_Downlink_Volume*         | Number              |                       |
| *L9_Calling_Number*          | Varchar2 (256 Byte) |                       |
| L9_Call_Completion_Code      | Number              |                       |
| *L9_Uplink_Volume*           | Number              |                       |
| *L9_Dialed_Digits*           | Varchar2 (32 Byte)  |                       |
| L9_Toll_Rate_Class           | Varchar2 (1 Byte)   |                       |
| L9_Eha_Indicator             | Varchar2 (1 Byte)   |                       |
| *L9_Ring_Time*               | Number              |                       |
| L9_Toll_Tax                  | Number              |                       |
| L9_Currency_Type             | Varchar2 (2 Byte)   |                       |
| L9_Calling_State             | Varchar2 (2 Byte)   |                       |
| L9_Toll_Item_Id              | Number              |                       |
| L9_Customer_Sub_Type         | Varchar2 (15 Byte)  |                       |
| *L9_Application_Id*          | Varchar2 (64 Byte)  | Used For Brew         |
| L9_Orig_Trans_Id             | Varchar2 (64 Byte)  |                       |
| *L9_Call_Answered_Indicator* | Varchar2 (1 Byte)   |                       |
| L9_Destination_Category      | Varchar2 (6 Byte)   |                       |
| L9_Surcharge_Amount          | Number              |                       |
| L9_Destination_State_Code    | Varchar2 (2 Byte)   |                       |
| L9_Redirect_Number           | Varchar2 (32 Byte)  |                       |
| L9_Toll_Charge_Code          | Varchar2 (15 Byte)  |                       |
| L9_Customer_Type             | Varchar2 (1 Byte)   |                       |
| *L9_Home_Sid*                | Varchar2 (5 Byte)   |                       |
| L9_Starting_Call_Toll_Period | Varchar2 (10 Byte)  |                       |
| L9_Called_Country            | Varchar2 (3 Byte)   |                       |
| L9_Air_Elapsed_Time          | Number              |                       |
| *L9_Originating_Address*     | Varchar2 (26 Byte)  | Orig Address From Uff |
| L9_Additional_Charge_Tax     | Number              |                       |
| L9_Destination_City_Name     | Varchar2 (30 Byte)  |                       |
| L9_Media_Type                | Varchar2 (1 Byte)   |                       |
| L9_Toll_Period_Name          | Varchar2 (10 Byte)  |                       |
| *L9_Call_Type*               | Varchar2 (1 Byte)   | 1 = International     |
|                              |                     | L= Local (Sms Only)   |
| L9_Rerate_Indicator          | Varchar2 (1 Byte)   |                       |
| L9_Nt_Roaming_Ind            | Varchar2 (1 Byte)   |                       |
| L9_Offer_Instance            | Number              |                       |
| L9_Daily_Surcharge_Ind       | Varchar2 (1 Byte)   |                       |
| *L9_Incollect_Indicator*     | Varchar2 (1 Byte)   | If True Then Its      |
|                              |                     | An Incollect.         |
| L9_Session_Identifier        | Varchar2 (128 Byte) |                       |
| L9_Free_Unit                 | Number              |                       |
| L9_Ext_Trx_Id                | Varchar2 (18 Byte)  |                       |
| *L9_Roaming_Ind*             | Varchar2 (1 Byte)   | Used For Data         |
|                              |                     | 2 = Roaming           |
| L9_Balance_Exp_Date          | Date                |                       |
| L9_Orig_Additional_Chg_Tax   | Number              |                       |
| L9_Method                    | Varchar2 (50 Byte)  |                       |
| L9_Recharge_Id               | Number              |                       |
| L9_Announcement_Param        | Varchar2 (50 Byte)  |                       |
| L9_Reason                    | Varchar2 (10 Byte)  |                       |
| L9_Activity_Amount           | Number              |                       |
| L9_Channel                   | Varchar2 (100 Byte) |                       |
| L9_Blocked_Number_Ind        | Varchar2 (1 Byte)   |                       |
| L9_Remaining_Balance_Amt     | Number              |                       |
| *L9_Min*                     | Varchar2 (10 Byte)  | Msid                  |
| *L9_Equipment_Id*            | Varchar2 (32 Byte)  | Postpaid = Esn        |
|                              |                     | Prepaid = 0           |
| L9_Threshold_Amount          | Number              |                       |
| *L9_Service_Feature*         | Varchar2 (128 Byte) |                       |
| L9_Original_Air_Time_Chg_Amt | Number              |                       |
| L9_Be                        | Number              |                       |
| L9_Charg_Beyond_Cap          | Number              |                       |
| *L9_Is_Online*               | Varchar2 (1 Byte)   | Y = *Pre-Pay*         |
| L9_Volume_Per_Type           | Varchar2 (512 Byte) |                       |
| L9_Units_Beyond_Cap          | Number              |                       |
| L9_Volume_Complex            | Varchar2 (512 Byte) |                       |
| *L9_M2m_Ind*                 | Varchar2 (2 Byte)   | Mobile To Mobile      |
| L9_Balance_Amount            | Number              |                       |
| L9_Calling_Area_Name         | Varchar2 (50 Byte)  |                       |
| *L9_Toll_Free_Ind*           | Varchar2 (1 Byte)   | Y = Toll Free         |
| *L9_Partner_Id*              | Varchar2 (64 Byte)  |                       |
| L9_Ext_Ref_Id                | Varchar2 (64 Byte)  |                       |
| L9_Campaign_Id               | Varchar2 (64 Byte)  |                       |
| L9_Application_Type          | Varchar2 (64 Byte)  |                       |
| L9_Application_Description   | Varchar2 (193 Byte) |                       |
| L9_Charge_Code_Description   | Varchar2 (193 Byte) |                       |
| L9_System_Service            | Varchar2 (4 Byte)   |                       |
| L9_Initiator_Id              | Varchar2 (64 Byte)  |                       |
| L9_Adj_Reason_Cd             | Varchar2 (64 Byte)  |                       |
| L9_Initiator_Type            | Varchar2 (19 Byte)  |                       |
|------------------------------+---------------------+-----------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** APE1_ACCUMULATORS
         The accumulation tables this is what is presented on the bill.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|--------------------------------+---------------------+---------------------|
| *Column Name*                  | *Data Type*         | *Description*       |
|--------------------------------+---------------------+---------------------|
| *Cycle_Code*                   | Number(4,0)         |                     |
| *Cycle_Instance*               | Number(2,0)         | Cycle Instance = 0  |
|                                |                     | Pre-Paid Subscriber |
| Customer_Segment               | Number(4,0)         |                     |
| *Customer_Id*                  | Number(10,0)        |                     |
| *Accum_Type_Id*                | Number(9,0)         |                     |
| Owner_Id                       | Number(10,0)        |                     |
| Owner_Type                     | Char(1 Byte)        |                     |
| Item_Id                        | Number(9,0)         |                     |
| Offer_Instance                 | Number(10,0)        |                     |
| Dimension_Id                   | Number(5,0)         |                     |
| *Cycle_Year*                   | Number(4,0)         |                     |
| Sys_Creation_Date              | Date                |                     |
| Sys_Update_Date                | Date                |                     |
| Operator_Id                    | Number(9,0)         |                     |
| Application_Id                 | Char(6 Byte)        |                     |
| Dl_Service_Code                | Char(5 Byte)        |                     |
| Dl_Update_Stamp                | Number(4,0)         |                     |
| Update_Id                      | Number(9,0)         |                     |
| Version_Id                     | Number(9,0)         |                     |
| Global_Accum_Ind               | Char(1 Byte)        |                     |
| Cross_Cycle_Ind                | Char(1 Byte)        |                     |
| *Accum_Id*                     | Number(9,0)         |                     |
| Rerate_Type                    | Char(1 Byte)        |                     |
| Account                        | Number              |                     |
| *Accum_Charge*                 | Number              |                     |
| *Accum_Chg_Incl_Free_Allw*     | Number              |                     |
| *Accum_Free_Unit*              | Number              |                     |
| *Accum_Unit*                   | Number              |                     |
| Billing_Arrangement            | Number              |                     |
| *Currency_Code*                | Varchar2(3 Byte)    |                     |
| First_Event_Date               | Date                |                     |
| L3_Balance_Amount              | Number              |                     |
| L3_Balance_Status              | Varchar2(1 Byte)    |                     |
| Last_Event_Date                | Date                |                     |
| *Number_Of_Events*             | Number              |                     |
| *Number_Of_Free_Events*        | Number              |                     |
| *Number_Of_Rolled_Cycles*      | Number              |                     |
| Offer_Id                       | Number              |                     |
| Pi_Role                        | Number              |                     |
| Pi_Status                      | Number              |                     |
| Quota                          | Number              |                     |
| Quota_Per_Period               | Varchar2(512 Byte)  |                     |
| Remaining_Quota_Per_Period     | Varchar2(512 Byte)  |                     |
| Remain_Quota_Per_Month_Period  | Varchar2(512 Byte)  |                     |
| Rolled_Previous_Cyc_Per_Period | Varchar2(512 Byte)  |                     |
| Rolled_Quota_From_Previous_Cyc | Number              |                     |
| Uom                            | Varchar2(1 Byte)    |                     |
| Utilized_Quota_Per_Period      | Varchar2(512 Byte)  |                     |
| Utilize_Quota_Per_Month_Period | Varchar2(512 Byte)  |                     |
| Billing_Resource_Type          | Varchar2(16 Byte)   |                     |
| Billing_Resource_Id            | Varchar2(63 Byte)   |                     |
| Toll_Tax                       | Number              |                     |
| L9_Accum_Chg_Incl_Allw_Cmplx   | Varchar2(512 Byte)  |                     |
| L9_Accum_Credit                | Number              |                     |
| L9_Accumulated_Chg_Cmplx       | Varchar2(512 Byte)  |                     |
| L9_Overage_Cap                 | Number              |                     |
| L9_Accum_Free_Unit_Cmplx       | Varchar2(512 Byte)  |                     |
| L9_Number_Of_Events_Cmplx      | Varchar2(512 Byte)  |                     |
| L9_Number_Free_Events_Cmplx    | Varchar2(512 Byte)  |                     |
| L9_Accum_Unit_Cmplx            | Varchar2(512 Byte)  |                     |
| L9_Cap_Exceed                  | Varchar2(1 Byte)    |                     |
| L9_Number_Of_Credit_Events     | Number              |                     |
| Air_Tax                        | Number              |                     |
| L9_Tot_Units_Above_Cap         | Varchar2(512 Byte)  |                     |
| Accum_Duration                 | Number              |                     |
| L9_Call_Direction              | Varchar2(1 Byte)    |                     |
| L9_Roaming_Ind                 | Varchar2(1 Byte)    |                     |
| L9_Tax_Change_Date             | Varchar2(25 Byte)   |                     |
| L9_Serve_Sid                   | Varchar2(5 Byte)    |                     |
| L9_Eha_Indicator               | Varchar2(1 Byte)    |                     |
| L9_Pay_Channel                 | Number              |                     |
| L9_Customer_Sub_Type           | Varchar2(15 Byte)   |                     |
| L9_Be                          | Number              |                     |
| L9_Customer_Type               | Varchar2(1 Byte)    |                     |
| L9_Called_Country              | Varchar2(3 Byte)    |                     |
| *L9_Payment_Category*          | Varchar2(4 Byte)    | Post Or Pre         |
| L9_Billing_Arrangement         | Number              |                     |
| L9_Volume_Accumulation         | Number              |                     |
| L9_Offer_Level                 | Varchar2(1 Byte)    |                     |
| L9_Full_Cap                    | Number              |                     |
| L9_Charge_Type                 | Varchar2(3 Byte)    |                     |
| L9_Prev_Add_Chg_Cmplx2         | Varchar2(512 Byte)  |                     |
| L9_Prev_Add_Chg_Cmplx1         | Varchar2(512 Byte)  |                     |
| L9_Prev_Add_Chg_Cmplx3         | Varchar2(512 Byte)  |                     |
| L9_Prev_Add_Chg_Cmplx          | Varchar2(4000 Byte) |                     |
| L9_Acc_Usage_Before_Eom        | Number              |                     |
| L9_Acc_Usage_After_Eom         | Number              |                     |
| L9_Msisdn                      | Varchar2(256 Byte)  |                     |
| L9_Cap_To_Be_Used              | Number              |                     |
| L9_Charge_Code                 | Varchar2(15 Byte)   |                     |
| L9_Offer_Type                  | Varchar2(255 Byte)  |                     |
| L9_Accum_Chg_Beyo_Cap_Cmplx    | Varchar2(512 Byte)  |                     |
| *L9_Ctn*                       | Varchar2(10 Byte)   |                     |
| L9_Media_Type                  | Varchar2(1 Byte)    |                     |
| L9_Utilized_Quota_Cmplx        | Varchar2(512 Byte)  |                     |
| L9_First_Threshold_Sent_Ind    | Varchar2(1 Byte)    |                     |
| L9_Remain_Quota_Cmplx          | Varchar2(512 Byte)  |                     |
| L9_Used_Quota                  | Number              |                     |
| L9_Last_Threshold_Sent         | Number              |                     |
| L9_Charge_Rev_Code             | Varchar2(2 Byte)    |                     |
| L9_Is_New_Scale                | Varchar2(1 Byte)    |                     |
| L9_Is_First_Notif              | Varchar2(1 Byte)    |                     |
| L9_Notified_Ctn                | Varchar2(32 Byte)   |                     |
| L9_Unlimited_Ind               | Varchar2(1 Byte)    |                     |
| Proration_Factor               | Number              |                     |
| L9_Curr_Leg                    | Number              |                     |
| L9_Num_Of_Period               | Number              |                     |
| L9_Is_Notif_Sent               | Varchar2(1 Byte)    |                     |
| L9_Period_Name                 | Varchar2(255 Byte)  |                     |
| L9_Volume_Per_Leg              | Varchar2(4000 Byte) |                     |
| L9_Cycle_Start_Date_Cmplx      | Varchar2(512 Byte)  |                     |
| Disable_Notif_Ind              | Varchar2(1 Byte)    |                     |
| L9_Notif_Elig                  | Varchar2(1 Byte)    |                     |
| L9_Is_Second_Notif             | Varchar2(1 Byte)    |                     |
| L9_Limit_Quota_Change_Cmplx    | Varchar2(512 Byte)  |                     |
| Agr_Level_Offer_Inst           | Varchar2(512 Byte)  |                     |
| L9_Last_Notif_Index            | Number              |                     |
| L9_Second_Notif_Thresh         | Number              |                     |
| Offer_Exp_Date                 | Date                |                     |
| L9_Second_Threshold            | Number              |                     |
| L9_Accum_Free_Unts_Beyo_Cap    | Number              |                     |
| Offer_Eff_Date                 | Date                |                     |
| L9_First_Threshold             | Number              |                     |
| L9_Second_Threshold_Sent_Ind   | Varchar2(1 Byte)    |                     |
| L9_Limit_Quota_Cmplx           | Varchar2(512 Byte)  |                     |
| L9_First_Notif_Thresh          | Number              |                     |
| L9_Remaining_Bucket            | Number              |                     |
| L9_Class_Code                  | Varchar2(12 Byte)   |                     |
| L9_Ivr_Ann_Code                | Varchar2(50 Byte)   |                     |
| L9_Accum_Add_Tax_Amt           | Number              |                     |
| L9_Accum_Tax_Amt               | Number              |                     |
| L9_Days_Of_Daily_Data          | Number              |                     |
| L9_Calling_Area_Name           | Varchar2(50 Byte)   |                     |
| Expiration_Date                | Date                |                     |
| L9_Disclaimer_Sent             | Varchar2(1 Byte)    |                     |
| L9_Is_Roam_Data_Speed_Notif    | Varchar2(1 Byte)    |                     |
| L9_Geocode                     | Varchar2(10 Byte)   |                     |
| L9_Is_Total_Data_Speed_Notif   | Varchar2(1 Byte)    |                     |
| L9_Roam_Volume_Accumulation    | Number              |                     |
| L9_Roam_Speed_Limit            | Number              |                     |
| L9_Indicator                   | Varchar2(1 Byte)    |                     |
| L9_Charge_Accumulation         | Number              |                     |
| L9_Pp_Changed_Ind              | Varchar2(1 Byte)    |                     |
| L9_First_Level                 | Varchar2(512 Byte)  |                     |
| L9_Grp_Level_Offer_Inst        | Number              |                     |
| L9_Group_Offer_Id              | Number              |                     |
|--------------------------------+---------------------+---------------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** AGD1_RESOURCES
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|-----------------------+-------------------+------------------|
| *Column Name*         | *Data Type*       | *Description*    |
|-----------------------+-------------------+------------------|
| Resource_Segment      | Number(4,0)       |                  |
| Resource_Value        | Varchar2(63 Byte) |                  |
| *Resource_Type*       | Number(4,0)       | 0 - Mdn          |
|                       |                   | 19 - Min         |
|                       |                   | 21 - Outcollects |
|                       |                   | 23 - Timsi       |
| Effective_Date        | Date              |                  |
| Sys_Creation_Date     | Date              |                  |
| Sys_Update_Date       | Date              |                  |
| Operator_Id           | Number(9,0)       |                  |
| Application_Id        | Char(6 Byte)      |                  |
| Dl_Service_Code       | Char(5 Byte)      |                  |
| Dl_Update_Stamp       | Number(4,0)       |                  |
| Update_Id             | Number(18,0)      |                  |
| Expiration_Date       | Date              |                  |
| *Subscriber_Id*       | Number(10,0)      |                  |
| Sub_Status            | Char(1 Byte)      |                  |
| Routing_Policy_Id     | Number(9,0)       |                  |
| Payment_Category      | Char(4 Byte)      |                  |
| *Customer_Id*         | Number(10,0)      |                  |
| Bill_Cycle            | Number(4,0)       |                  |
| New_Bill_Cycle        | Number(4,0)       |                  |
| Chg_Cyc_Req_Date      | Date              |                  |
| Large_Cust_Ind        | Char(1 Byte)      |                  |
| Resource_Hash_Value   | Number(10,0)      |                  |
| Subscriber_Hash_Value | Number(10,0)      |                  |
| Load_Ind              | Char(1 Byte)      |                  |
|-----------------------+-------------------+------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
         -  Subscriber Table Status
            -  A = Active
            -  C = Canceled
            -  S = Suspended
            -  U = Collection Suspend
            -  L = Collection Canceled
            -  D = Collection Suspend

*** AC_PHYSICAL_FILES
         Provides information for the physical files that were processed.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|---------------------+--------------------+---------------|
| *Column Name*       | *Data Type*        | *Description* |
|---------------------+--------------------+---------------|
| *Identifier*        | Number(15,0)       |               |
| Sys_Creation_Date   | Date               |               |
| Sys_Update_Date     | Date               |               |
| Operator_Id         | Number(9,0)        |               |
| Application_Id      | Char(6 Byte)       |               |
| Dl_Service_Code     | Char(5 Byte)       |               |
| Dl_Update_Stamp     | Number(4,0)        |               |
| *File_Name*         | Varchar2(200 Byte) |               |
| Host_Name           | Varchar2(50 Byte)  |               |
| *File_Path*         | Varchar2(512 Byte) |               |
| Serial_Number       | Varchar2(8 Byte)   |               |
| System_Rcv_Date     | Date               |               |
| Fsrc_Src_Type       | Char(10 Byte)      |               |
| Fsrc_Type_Id        | Char(10 Byte)      |               |
| Rcrdng_Start_Date   | Date               |               |
| Rcrdng_End_Date     | Date               |               |
| *Trlr_Record_Count* | Number(9,0)        |               |
| Trlr_Block_Count    | Number(9,0)        |               |
| Trlr_L_File_Count   | Number(9,0)        |               |
| Pgm_L_File_Count    | Number(9,0)        |               |
| Pgm_Tracer_Ind      | Char(1 Byte)       |               |
| Dupl_Entry_Ind      | Char(1 Byte)       |               |
| Entry_Status        | Char(2 Byte)       |               |
| Old_Age_Ind         | Char(1 Byte)       |               |
| End_Of_Tree_Seq     | Number(9,0)        |               |
| *Balance_Date*      | Date               |               |
|---------------------+--------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** AC_SOURCE
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|-------------------+-------------------+---------------|
| *Column Name*     | *Data Type*       | *Description* |
|-------------------+-------------------+---------------|
| Source_Type       | Char(10 Byte)     |               |
| *File_Type*       | Char(10 Byte)     |               |
| Switch_Id         | Varchar2(32 Byte) |               |
| Sys_Creation_Date | Date              |               |
| Sys_Update_Date   | Date              |               |
| Operator_Id       | Number(9,0)       |               |
| Application_Id    | Char(6 Byte)      |               |
| Dl_Service_Code   | Char(5 Byte)      |               |
| Dl_Update_Stamp   | Number(4,0)       |               |
| File_Seq_No       | Number(6,0)       |               |
| Max_File_Seq_No   | Number(6,0)       |               |
| Max_Time          | Number(10,0)      |               |
| Min_Time          | Number(10,0)      |               |
| Last_Cycle_Procd  | Date              |               |
| Next_Cycle_Expect | Date              |               |
| Status_Ind        | Char(2 Byte)      |               |
| Dupl_Entry_Ind    | Char(1 Byte)      |               |
| Ho_From_Time      | Date              |               |
| Ho_From_Seq       | Number(6,0)       |               |
| Days_Bfr_Phy_Cln  | Number(4,0)       |               |
| Gap_Permitted     | Number(6,0)       |               |
|-------------------+-------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** APE1_SUBSCRIBER_RERATE

         Customers in this table are scheduled to be re-rated. Then they
         should be removed once re-rating is complete.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|---------------------+--------------------+---------------|
| *Column Name*       | *Data Type*        | *Description* |
|---------------------+--------------------+---------------|
| *Cycle_Code*        | Number (4)         |               |
| Cycle_Instance      | Number (2)         |               |
| Customer_Segment    | Number (4)         |               |
| *Customer_Id*       | Number (10)        |               |
| *Subscriber_Id*     | Number (10)        |               |
| Sys_Creation_Date   | Date               |               |
| Sys_Update_Date     | Date               |               |
| Operator_Id         | Number (9)         |               |
| Application_Id      | Char (6 Byte)      |               |
| Dl_Service_Code     | Char (5 Byte)      |               |
| Dl_Update_Stamp     | Number (4)         |               |
| Cycle_Year          | Number (4)         |               |
| Rerate_Source       | Varchar2 (20 Byte) |               |
| Mark_Type           | Number (1)         |               |
| Status              | Char (2 Byte)      |               |
| Activity_Source     | Varchar2 (20 Byte) |               |
| Num_Of_Rerate_Tries | Number (2)         |               |
|---------------------+--------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

         Once re-rating starts you can check the progress with the
         following query:

         :
         : select * from ape1_rerate_population 
         :  where cycle_code=2 and cycle_instance=5 
         :   and cycle_year=2014 and activity_source='R3'

*** MF1_CIBER_BATCH_SEQ
         The table used to keep the CIBER Outcollect sequences in sync
         with Syniverse. Every once a while we need to update it to keep
         in sync.

        [[file:///home/dbalchen/workspace/Outcollects/updateSeq.pl][Sequence Creation Job]]

#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|-------------------+---------------+---------------|
| *Column Name*     | *Data Type*   | *Description* |
|-------------------+---------------+---------------|
| Application_Id    | Char (6 Byte) |               |
| Dl_Service_Code   | Char (5 Byte) |               |
| Dl_Update_Stamp   | Number (4)    |               |
| *Home_Sid*        | Char (5 Byte) |               |
| Locked_Sid        | Number (10)   |               |
| Operator_Id       | Number (9)    |               |
| Seq_No            | Number (3)    |               |
| *Serve_Sid*       | Char (5 Byte) |               |
| Status_Ind        | Char (2 Byte) |               |
| Sys_Creation_Date | Date          |               |
| Sys_Update_Date   | Date          |               |
|-------------------+---------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** EM1_RECORD

         The EM1 record database is the database used by *AEM* and it
         has so many columns that you cannot use a /select */ to query.
         Instead click on the link provided below and use that as a
         template.

	 [[file:///home/dbalchen/workspace/CommonPlace/docs/em1_example.sql][EM1_RECORD Example]]

** AR Tables
*** AR1_ACCOUNT
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|-----------------------------+--------------------+------------------|
| *Column Name*               | *Data Type*        | *Description*    |
|-----------------------------+--------------------+------------------|
| *Account_Id*                | Number (12)        | The Financial Id |
| Account_Status              | Varchar2 (4 Byte)  |                  |
| Account_Timestamp           | Number (19)        |                  |
| Acct_Bal_Policy             | Char (1 Byte)      |                  |
| Application_Id              | Char (6 Byte)      |                  |
| *Ar_Account_Sub_Type*       | Char (4 Byte)      |                  |
| *Ar_Account_Type*           | Char (1 Byte)      |                  |
| *Ar_Balance*                | Number (18,2)      |                  |
| Ar_Exception_Acc_Ind        | Char (1 Byte)      |                  |
| Balance_Upd_Date            | Date               |                  |
| Be                          | Number (9)         |                  |
| Candidate_File_Extract_Date | Date               |                  |
| Cm_Account_Number           | Varchar2 (12 Byte) |                  |
| Coll_Ind_Upd_Date           | Date               |                  |
| Collection_Indicator        | Char (1 Byte)      |                  |
| Currency                    | Char (3 Byte)      |                  |
| *Customer_No*               | Number (10)        |                  |
| Deposit_Balance             | Number (18,2)      |                  |
| Dispute_Balance             | Number (18,2)      |                  |
| Dl_Service_Code             | Char (5 Byte)      |                  |
| Dl_Update_Stamp             | Number (4)         |                  |
| Document_Type               | Char (6 Byte)      |                  |
| L3_Agreement_Id             | Number (9)         |                  |
| L3_Bod_Balance              | Number (18,2)      |                  |
| L3_Credit_Limit_Ind         | Char (1 Byte)      |                  |
| L3_New_Invoice_Ind          | Char (1 Byte)      |                  |
| L3_Send_Balance             | Number (18,2)      |                  |
| *L9_Geo_Code*               | Varchar2 (10 Byte) |                  |
| Last_Activity_Status_Date   | Date               |                  |
| Lpc_Waving_Ind              | Char (1 Byte)      |                  |
| Operator_Id                 | Number (9)         |                  |
| Partition_Id                | Number (5)         |                  |
| Pending_Credit_Balance      | Number (18,2)      |                  |
| Sys_Creation_Date           | Date               |                  |
| Sys_Update_Date             | Date               |                  |
| Unapplied_Amount            | Number (18,2)      |                  |
| Write_Off_Status            | Char (1 Byte)      |                  |
|-----------------------------+--------------------+------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** AR1_INVOICE
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|----------------------------+---------------------+---------------|
| *Column Name*              | *Data Type*         | *Description* |
|----------------------------+---------------------+---------------|
| *Account_Id*               | Number (12)         |               |
| Application_Id             | Char (6 Byte)       |               |
| Ar_Invoice_Number          | Varchar2 (60 Byte)  |               |
| Bill_Seq_No                | Number (12)         |               |
| Billing_Arrangement_Id     | Number (12)         |               |
| Billing_Invoice_Number     | Varchar2 (180 Byte) |               |
| Credit_Amount              | Number (18,2)       |               |
| Credit_Net_Amount          | Number (18,2)       |               |
| Credit_Tax_Amount          | Number (18,2)       |               |
| *Cycle_Code*               | Number (4)          |               |
| *Cycle_Month*              | Number (2)          |               |
| Cycle_Year                 | Number (4)          |               |
| Discount_Amount            | Number (18,2)       |               |
| Discount_Net_Amt           | Number (18,2)       |               |
| Discount_Tax_Amt           | Number (18,2)       |               |
| Dl_Service_Code            | Char (5 Byte)       |               |
| Dl_Update_Stamp            | Number (4)          |               |
| Finalise_Date              | Date                |               |
| Finalise_Trans_Id          | Number (12)         |               |
| Invoice_Amount             | Number (18,2)       |               |
| Invoice_Balance            | Number (18,2)       |               |
| Invoice_Creation_Date      | Date                |               |
| Invoice_Id                 | Number (12)         |               |
| Invoice_Status             | Varchar2 (6 Byte)   |               |
| Invoice_Status_Change_Date | Date                |               |
| Invoice_Type               | Varchar2 (6 Byte)   |               |
| L3_Crd_Extract_Ind         | Char (1 Byte)       |               |
| Operator_Id                | Number (9)          |               |
| Partition_Id               | Number (5)          |               |
| Period_Key                 | Number (5)          |               |
| Reversal_Date              | Date                |               |
| Reversal_Trans_Id          | Number (12)         |               |
| Sub_Bill_Seq_No            | Number (12)         |               |
| Sys_Creation_Date          | Date                |               |
| Sys_Update_Date            | Date                |               |
| Tax_Amount                 | Number (18,2)       |               |
| Transaction_Id             | Number (12)         |               |
|----------------------------+---------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** AR1_CHARGE_CODE

*** AR1_CHARGE_GROUP

*** AR1_CUSTOMER_CREDIT
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|---------------------------+--------------------+---------------|
| *Column Name*             | *Data Type*        | *Description* |
|---------------------------+--------------------+---------------|
| Account_Id                | Number (12)        |               |
| Amount                    | Number (18,2)      |               |
| Application_Id            | Char (6 Byte)      |               |
| Balance_Impact_Code       | Char (1 Byte)      |               |
| Be                        | Number (9)         |               |
| Bill_Seq_No               | Number (12)        |               |
| Billing_Arrangement_Id    | Number (12)        |               |
| Billing_Charge_Seq_No     | Number (12)        |               |
| Charge_Code               | Varchar2 (25 Byte) |               |
| Chg_Revenue_Code          | Char (6 Byte)      |               |
| Cr_Attrib_Name            | Varchar2 (30 Byte) |               |
| Credit_Date               | Date               |               |
| Credit_Id                 | Number (12)        |               |
| Credit_Level_Code         | Char (3 Byte)      |               |
| Credit_Reason             | Varchar2 (10 Byte) |               |
| Dl_Service_Code           | Char (5 Byte)      |               |
| Dl_Update_Stamp           | Number (4)         |               |
| Finalise_Date             | Date               |               |
| Finalise_Trans_Id         | Number (12)        |               |
| Invoice_Id                | Number (12)        |               |
| Invoice_Reversal_Number   | Number (12)        |               |
| L9_Cancel_Ind             | Varchar2 (2 Byte)  |               |
| L9_Df_Activity            | Varchar2 (3 Byte)  |               |
| L9_Df_Indicator           | Varchar2 (3 Byte)  |               |
| L9_Df_Period              | Varchar2 (3 Byte)  |               |
| L9_Event_Id               | Number (18)        |               |
| L9_Is_Discount            | Varchar2 (1 Byte)  |               |
| L9_Line_Count             | Number (5)         |               |
| L9_Location               | Varchar2 (15 Byte) |               |
| L9_Lt_Amount              | Number (18,2)      |               |
| L9_Orig_Charge_Type       | Varchar2 (3 Byte)  |               |
| L9_Orig_Chg_Seq_No        | Number (12)        |               |
| L9_Rev_Location           | Varchar2 (15 Byte) |               |
| L9_Rev_Sales_Channel      | Varchar2 (15 Byte) |               |
| L9_Sales_Channel          | Varchar2 (15 Byte) |               |
| L9_St_Amount              | Number (18,2)      |               |
| Operator_Id               | Number (9)         |               |
| Partition_Id              | Number (5)         |               |
| Period_Key                | Number (5)         |               |
| Restricted_Charge_Id      | Number (12)        |               |
| Restricted_Invoice_Number | Number (12)        |               |
| Reversal_Bill_Seq_No      | Number (12)        |               |
| Reversal_Date             | Date               |               |
| Reversal_Reason           | Varchar2 (10 Byte) |               |
| Reversal_Sub_Bill_Seq_No  | Number (12)        |               |
| Reversal_Trans_Id         | Number (12)        |               |
| Sub_Bill_Seq_No           | Number (12)        |               |
| Sys_Creation_Date         | Date               |               |
| Sys_Update_Date           | Date               |               |
| Tax_Amount                | Number (18,2)      |               |
| Transaction_Id            | Number (12)        |               |
| Write_Off_Id              | Number (12)        |               |
|---------------------------+--------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** AR1_TAX_ITEM

*** AR1_REFUND_REQUEST
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|----------------------------+--------------------+---------------|
| *Column Name*              | *Data Type*        | *Description* |
|----------------------------+--------------------+---------------|
| Account_Id                 | Number (12)        |               |
| Activity_Date              | Date               |               |
| Amount                     | Number (18,2)      |               |
| Application_Id             | Char (6 Byte)      |               |
| Application_Method         | Varchar2 (5 Byte)  |               |
| Credit_Id                  | Number (12)        |               |
| Criteria_Id                | Number (12)        |               |
| Debit_Id                   | Number (12)        |               |
| Dl_Service_Code            | Char (5 Byte)      |               |
| Dl_Update_Stamp            | Number (4)         |               |
| Extract_To_Ap_Date         | Date               |               |
| L9_Buy_Back_Prepaid        | Varchar2 (2 Byte)  |               |
| L9_City                    | Varchar2 (35 Byte) |               |
| L9_Customer_Name           | Varchar2 (50 Byte) |               |
| L9_Location                | Varchar2 (15 Byte) |               |
| L9_Merchant_Reference_Code | Number (8)         |               |
| L9_Postal_Code             | Varchar2 (10 Byte) |               |
| L9_Region                  | Varchar2 (3 Byte)  |               |
| L9_Request_Id              | Varchar2 (26 Byte) |               |
| L9_Rev_Location            | Varchar2 (15 Byte) |               |
| L9_Rev_Sales_Channel       | Varchar2 (15 Byte) |               |
| L9_Sales_Channel           | Varchar2 (15 Byte) |               |
| L9_Street                  | Varchar2 (35 Byte) |               |
| Manual_Refund_Ind          | Char (1 Byte)      |               |
| Operator_Id                | Number (9)         |               |
| Partition_Id               | Number (5)         |               |
| Refund_Id                  | Number (12)        |               |
| Refund_Method              | Varchar2 (3 Byte)  |               |
| Refund_Reason              | Varchar2 (10 Byte) |               |
| Refund_Status              | Char (1 Byte)      |               |
| Reversal_Credit_Id         | Number (12)        |               |
| Reversal_Date              | Date               |               |
| Reversal_Reason            | Varchar2 (10 Byte) |               |
| Reversal_Trans_Id          | Number (12)        |               |
| Sys_Creation_Date          | Date               |               |
| Sys_Update_Date            | Date               |               |
| Transaction_Id             | Number (12)        |               |
|----------------------------+--------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** AR1_DEPOSIT_REQUEST
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|---------------------+--------------------+---------------|
| *Column Name*       | *Data Type*        | *Description* |
|---------------------+--------------------+---------------|
| Account_Id          | Number (12)        |               |
| Application_Id      | Char (6 Byte)      |               |
| Cancel_Date         | Date               |               |
| Cancel_Reason       | Varchar2 (6 Byte)  |               |
| Cancelled_Amount    | Number (18,2)      |               |
| Debit_Id            | Number (12)        |               |
| Deposit_Designation | Varchar2 (20 Byte) |               |
| Deposit_Id          | Number (12)        |               |
| Dl_Service_Code     | Char (5 Byte)      |               |
| Dl_Update_Stamp     | Number (4)         |               |
| Due_Date            | Date               |               |
| External_Deposit_Id | Varchar2 (20 Byte) |               |
| Group_Id            | Varchar2 (20 Byte) |               |
| Interest_Amount     | Number (18,2)      |               |
| L9_Ap_Id            | Varchar2 (10 Byte) |               |
| L9_Ext_Chg_Id       | Number (12)        |               |
| L9_Location         | Varchar2 (15 Byte) |               |
| L9_Sales_Channel    | Varchar2 (15 Byte) |               |
| Operator_Id         | Number (9)         |               |
| Paid_Date           | Date               |               |
| Parent_Deposit_Id   | Number (12)        |               |
| Partition_Id        | Number (5)         |               |
| Pymt_Triggered      | Char (1 Byte)      |               |
| Release_Date        | Date               |               |
| Release_Method      | Varchar2 (6 Byte)  |               |
| Release_Reason      | Varchar2 (6 Byte)  |               |
| Released_Amount     | Number (18,2)      |               |
| Request_Amount      | Number (18,2)      |               |
| Request_Date        | Date               |               |
| Request_Reason      | Varchar2 (6 Byte)  |               |
| Reversal_Trans_Id   | Number (12)        |               |
| Sys_Creation_Date   | Date               |               |
| Sys_Update_Date     | Date               |               |
| Transaction_Id      | Number (12)        |               |
|---------------------+--------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** AR1_PAYMENT
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|---------------------------+--------------------+---------------|
| *Column Name*             | *Data Type*        | *Description* |
|---------------------------+--------------------+---------------|
| Account_Id                | Number (12)        |               |
| Activity_Date             | Date               |               |
| Activity_Indicator        | Char (5 Byte)      |               |
| Amount                    | Number (18,2)      |               |
| Application_Id            | Char (6 Byte)      |               |
| Bill_Seq_No               | Number (12)        |               |
| Conversion_Rate           | Number (11,9)      |               |
| Credit_Id                 | Number (12)        |               |
| Dl_Service_Code           | Char (5 Byte)      |               |
| Dl_Update_Stamp           | Number (4)         |               |
| L9_Dep_Rel                | Char (1 Byte)      |               |
| L9_Location               | Varchar2 (15 Byte) |               |
| L9_Sales_Channel          | Varchar2 (15 Byte) |               |
| Operator_Id               | Number (9)         |               |
| Original_Amount           | Number (18,2)      |               |
| Original_Converted_Amount | Number (18,2)      |               |
| Partition_Id              | Number (5)         |               |
| Payment_Id                | Number (12)        |               |
| Period_Key                | Number (5)         |               |
| Pymdt_Partition_Id        | Number (5)         |               |
| Pymdt_Period_Key          | Number (5)         |               |
| Reversal_Trans_Id         | Number (12)        |               |
| Sub_Bill_Seq_No           | Number (12)        |               |
| Sys_Creation_Date         | Date               |               |
| Sys_Update_Date           | Date               |               |
| Transaction_Id            | Number (12)        |               |
|---------------------------+--------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** AR1_PAYMENT_DETAILS
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|----------------------------+---------------------+---------------|
| *Column Name*              | *Data Type*         | *Description* |
|----------------------------+---------------------+---------------|
| Account_Id                 | Number (12)         |               |
| Amount                     | Number (18,2)       |               |
| Application_Id             | Char (6 Byte)       |               |
| Bank_Account_Number        | Varchar2 (255 Byte) |               |
| Bank_Branch_Number         | Varchar2 (20 Byte)  |               |
| Bank_Code                  | Varchar2 (20 Byte)  |               |
| Batch_Line_Number          | Number (6)          |               |
| Batch_Number               | Number (5)          |               |
| Billing_Arrangement        | Number (12)         |               |
| Billing_Invoice_Number     | Varchar2 (180 Byte) |               |
| Cc_Authorisation_Code      | Varchar2 (8 Byte)   |               |
| Cc_Expiry_Date             | Varchar2 (6 Byte)   |               |
| Check_Drawer_Name          | Varchar2 (30 Byte)  |               |
| Check_No                   | Varchar2 (15 Byte)  |               |
| Confirmation_No            | Varchar2 (20 Byte)  |               |
| Credit_Card_Number         | Varchar2 (255 Byte) |               |
| Currency                   | Char (3 Byte)       |               |
| Deposit_Date               | Date                |               |
| Deposit_Designation        | Varchar2 (20 Byte)  |               |
| Direct_Debit_Voucher       | Number (12)         |               |
| Dl_Service_Code            | Char (5 Byte)       |               |
| Dl_Update_Stamp            | Number (4)          |               |
| File_Generation_Date       | Date                |               |
| File_Seq_No                | Number (5)          |               |
| File_Source_Id             | Varchar2 (8 Byte)   |               |
| File_Source_Type           | Varchar2 (4 Byte)   |               |
| L9_Authorization_Code      | Varchar2 (7 Byte)   |               |
| L9_Ctn                     | Number (10)         |               |
| L9_Ext_Pym_Id              | Varchar2 (32 Byte)  |               |
| L9_Location                | Varchar2 (15 Byte)  |               |
| L9_Merchant_Id             | Varchar2 (30 Byte)  |               |
| L9_Merchant_Reference_Code | Number (8)          |               |
| L9_Orig_Account            | Number (12)         |               |
| L9_Orig_Check_Amt          | Number (18,2)       |               |
| L9_Originator              | Varchar2 (20 Byte)  |               |
| L9_Originator_Location     | Varchar2 (20 Byte)  |               |
| L9_Payment_Recurrance      | Char (1 Byte)       |               |
| L9_Request_Id              | Varchar2 (26 Byte)  |               |
| L9_Sales_Channel           | Varchar2 (15 Byte)  |               |
| Memo_Id                    | Number (12)         |               |
| Operator_Id                | Number (9)          |               |
| Partition_Id               | Number (5)          |               |
| Payment_Id                 | Number (12)         |               |
| Payment_Method             | Char (3 Byte)       |               |
| Payment_Source_Id          | Varchar2 (15 Byte)  |               |
| Payment_Source_Type        | Varchar2 (3 Byte)   |               |
| Payment_Sub_Method         | Varchar2 (3 Byte)   |               |
| Payment_Type               | Char (1 Byte)       |               |
| Period_Key                 | Number (5)          |               |
| Recall_Number              | Varchar2 (15 Byte)  |               |
| Rejection_Code             | Varchar2 (4 Byte)   |               |
| Reversal_Reason            | Varchar2 (10 Byte)  |               |
| Subscriber_Number          | Varchar2 (11 Byte)  |               |
| Sys_Creation_Date          | Date                |               |
| Sys_Update_Date            | Date                |               |
| Transaction_Id             | Number (12)         |               |
|----------------------------+---------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** AR1_PAYMENT_ACTIVITY
         Used in the *Paid and Prepaid* reports.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|-----------------------+--------------------+---------------|
| *Column Name*         | *Data Type*        | *Description* |
|-----------------------+--------------------+---------------|
| Account_Id            | Number (12)        |               |
| Activity_Date         | Date               |               |
| Activity_Type         | Char (5 Byte)      |               |
| Amount                | Number (18,2)      |               |
| Application_Id        | Char (6 Byte)      |               |
| Bill_Seq_No           | Number (12)        |               |
| Credit_Id             | Number (12)        |               |
| Dl_Service_Code       | Char (5 Byte)      |               |
| Dl_Update_Stamp       | Number (4)         |               |
| Funds_Transfer_Ind    | Varchar2 (6 Byte)  |               |
| Funds_Transfer_Reason | Varchar2 (10 Byte) |               |
| L9_Batch_Line_Number  | Number (7)         |               |
| L9_Batch_Number       | Number (6)         |               |
| L9_File_Name          | Varchar2 (50 Byte) |               |
| L9_Location           | Varchar2 (15 Byte) |               |
| L9_Sales_Channel      | Varchar2 (15 Byte) |               |
| Memo_Id               | Number (12)        |               |
| Operator_Id           | Number (9)         |               |
| Parent_Credit         | Number (12)        |               |
| Partition_Id          | Number (5)         |               |
| Payment_Activity_Id   | Number (12)        |               |
| Payment_Period_Key    | Number (5)         |               |
| Period_Key            | Number (5)         |               |
| Reason_Code           | Varchar2 (10 Byte) |               |
| Reversal_Date         | Date               |               |
| Reversal_Reason       | Varchar2 (10 Byte) |               |
| Reversal_Trans_Id     | Number (12)        |               |
| Sub_Bill_Seq_No       | Number (12)        |               |
| Sys_Creation_Date     | Date               |               |
| Sys_Update_Date       | Date               |               |
| Transaction_Id        | Number (12)        |               |
| Transfer_Account      | Number (12)        |               |
|-----------------------+--------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** GL Tables
    -  ar1_gl_detailed_data_info_v
    -  ar1_gl_data_info_v
    -  ar1_transaction_log
    -  ar1-JGL-control

** BPT Tables
      The *Business Process Tables* are the Tops equivalent to the
      reference tables in *CARES*. The following is the list of all
      *BPT* tables that we are responsible for:

*** ADJ1_OUTCOL_PROVIDER
    A list of all vendors we have an agreement with for out-collects.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l

|-------------------+--------------------+---------------|
| *Column Name*     | *Data Type*        | *Description* |
|-------------------+--------------------+---------------|
| Provider_Id       | Number(18,0)       |               |
| Customer_Id       | Number(10,0)       |               |
| Sys_Creation_Date | Date               |               |
| Sys_Update_Date   | Date               |               |
| Operator_Id       | Number(9,0)        |               |
| Application_Id    | Char(6 Byte)       |               |
| Dl_Service_Code   | Char(5 Byte)       |               |
| Dl_Update_Stamp   | Number(4,0)        |               |
| Cycle_Code        | Number(4,0)        |               |
| Group_Id          | Number(9,0)        |               |
| Min_Time_To_Send  | Number(4,0)        |               |
| Max_Recs_In_File  | Number(9,0)        |               |
| Send_Empty_Notif  | Char(1 Byte)       |               |
| Expiration_Date   | Date               |               |
| Effective_Date    | Date               |               |
| Provider_Desc     | Varchar2(256 Byte) |               |
| Resource_Type     | Number(4,0)        |               |
|-------------------+--------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** ADJ9_TIME_ZONE_REF
    Time zone parameters.

*** AGD1_RESOURCES_REF
    Lists *TOPS* resources used by Turbo charging very important to map *SIDS* to there offers.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
|-----------------------+-------------------+---------------|
| *Column Name*         | *Data Type*       | *Description* |
|-----------------------+-------------------+---------------|
| Resource_Segment      | Number(4,0)       |               |
| Resource_Value        | Varchar2(63 Byte) |               |
| Resource_Type         | Number(4,0)       |               |
| Effective_Date        | Date              |               |
| Sys_Creation_Date     | Date              |               |
| Sys_Update_Date       | Date              |               |
| Operator_Id           | Number(9,0)       |               |
| Application_Id        | Char(6 Byte)      |               |
| Dl_Service_Code       | Char(5 Byte)      |               |
| Dl_Update_Stamp       | Number(4,0)       |               |
| Update_Id             | Number(18,0)      |               |
| Expiration_Date       | Date              |               |
| Subscriber_Id         | Number(10,0)      |               |
| Sub_Status            | Char(1 Byte)      |               |
| Routing_Policy_Id     | Number(9,0)       |               |
| Payment_Category      | Char(4 Byte)      |               |
| Customer_Id           | Number(10,0)      |               |
| Bill_Cycle            | Number(4,0)       |               |
| New_Bill_Cycle        | Number(4,0)       |               |
| Chg_Cyc_Req_Date      | Date              |               |
| Large_Cust_Ind        | Char(1 Byte)      |               |
| Resource_Hash_Value   | Number(10,0)      |               |
| Subscriber_Hash_Value | Number(10,0)      |               |
|-----------------------+-------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** APE1_SUBSCR_DATA_REF
    List subscriber reference data. (Customer data)
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|-----------------------+--------------+---------------|
| *Column Name*         | *Data Type*  | *Description* |
|-----------------------+--------------+---------------|
| Cycle_Code            | Number(4,0)  |               |
| Customer_Segment      | Number(4,0)  |               |
| Subscriber_Id         | Number(10,0) |               |
| Sys_Creation_Date     | Date         |               |
| Sys_Update_Date       | Date         |               |
| Operator_Id           | Number(9,0)  |               |
| Application_Id        | Char(6 Byte) |               |
| Dl_Service_Code       | Char(5 Byte) |               |
| Dl_Update_Stamp       | Number(4,0)  |               |
| Update_Id             | Number(18,0) |               |
| Customer_Id           | Number(10,0) |               |
| Be                    | Number(9,0)  |               |
| Currency_Id           | Char(3 Byte) |               |
| Subscriber_Hash_Value | Number(10,0) |               |
|-----------------------+--------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** APE1_SUBSCR_OFFERS_REF
         List subscriber offers. (Customer data)
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|-----------------------+-------------------+---------------|
| *Column Name*         | *Data Type*       | *Description* |
|-----------------------+-------------------+---------------|
| Cycle_Code            | Number(4,0)       |               |
| Customer_Segment      | Number(4,0)       |               |
| Subscriber_Id         | Number(10,0)      |               |
| Offer_Id              | Number(9,0)       |               |
| Offer_Instance        | Number(10,0)      |               |
| Offer_Eff_Date        | Date              |               |
| Sys_Creation_Date     | Date              |               |
| Sys_Update_Date       | Date              |               |
| Operator_Id           | Number(9,0)       |               |
| Application_Id        | Char(6 Byte)      |               |
| Dl_Service_Code       | Char(5 Byte)      |               |
| Dl_Update_Stamp       | Number(4,0)       |               |
| Update_Id             | Number(18,0)      |               |
| Offer_Exp_Date        | Date              |               |
| Source_Offer_Agr_Id   | Number(10,0)      |               |
| Source_Offer_Instance | Number(10,0)      |               |
| Eff_Act_Code_Pror     | Varchar2(25 Byte) |               |
| Exp_Act_Code_Pror     | Varchar2(25 Byte) |               |
|-----------------------+-------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** M19_MIN_LR
         Contains the *USCC* MIN (MSID) block ranges and there *SID*
         code. The Block Ranges are listed in the *Technical Data Sheet*
         from *Syniverse*. This only contains *USCC* MINS only. For
         foreign carriers see the *VISITOR_MIN_LR*.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|-------------------+------------------+---------------|
| *Column Name*     | *Data Type*      | *Description* |
|-------------------+------------------+---------------|
| *Min_Blk*         | Number(6,0)      |               |
| *From_Line_Range* | Number(4,0)      |               |
| *To_Line_Range*   | Number(4,0)      |               |
| Effective_Date    | Date             |               |
| Sys_Creation_Date | Date             |               |
| Sys_Update_Date   | Date             |               |
| Operator_Id       | Number(9,0)      |               |
| Application_Id    | Char(6 Byte)     |               |
| Dl_Service_Code   | Char(5 Byte)     |               |
| Dl_Update_Stamp   | Number(4,0)      |               |
| *Npa_Type*        | Char(1 Byte)     | C = Postpaid  |
|                   |                  | T = Prepaid   |
| *Sids*            | Varchar2(5 Byte) |               |
| Expiration_Date   | Date             |               |
|-------------------+------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** VISITOR_MIN_LR
         This table is created via a program and contains all of our
         roaming partners MIN/SID block ranges. It is located on the
         *BRMPRD* database.

*** MI1_STLMNT_CONTRACT
         The Settlement Contracts table contains one record for each
         contract. A contract is defined as the entity to which a group
         of *SIDS* belongs, whose common attribute is the
         clearinghouse-related Net Settlement bank account. This usually
         means that all the *SIDS* that belong to a settlement contract
         are part of one operating company.

*** MF1_OUTCOL_DESTINATION
         This table includes detailed information on every destination.
         A destination represents a target of Out-collect calls (such as
         a clearinghouse). The destination of every roamer call is
         determined according to the Home *SID* value of that call.

*** MF1_OUTCOL_SID_PAIR
         Defines out-collect roaming agreement between *SID* pair.
         Originating category is retrieve from the table that is used
         later on for service filter determination. *INCOL_SID_PAIR*
         and *SID* tables are also used by Acquisition & Formatting.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|-----------------------+-------------------+---------------|
| *Column Name*         | *Data Type*       | *Description* |
|-----------------------+-------------------+---------------|
| Serve_Sid             | Char(5 Byte)      |               |
| Home_Sid              | Char(5 Byte)      |               |
| Effective_Date        | Date              |               |
| Sys_Creation_Date     | Date              |               |
| Sys_Update_Date       | Date              |               |
| Operator_Id           | Number(9,0)       |               |
| Application_Id        | Char(6 Byte)      |               |
| Dl_Service_Code       | Char(5 Byte)      |               |
| Dl_Update_Stamp       | Number(4,0)       |               |
| Expiration_Date       | Date              |               |
| Outcol_Dest_Cd        | Char(6 Byte)      |               |
| Cre_Daily_Surcg_Ind   | Char(1 Byte)      |               |
| Daily_Surcharge_Amt   | Number(18,3)      |               |
| Misc_Schg_Ind         | Char(1 Byte)      |               |
| Misc_Schg_Rate        | Number(18,3)      |               |
| Misc_Schg_Measure_Ind | Char(1 Byte)      |               |
| Misc_Descriptor       | Char(2 Byte)      |               |
| Misc_Schg_Desc        | Varchar2(50 Byte) |               |
| Cycle_Code            | Number(4,0)       |               |
| Priority              | Number(5,0)       |               |
| Num_Of_Rec_To_Commit  | Number(9,0)       |               |
| Partition_Id          | Number(4,0)       |               |
| Group_Id              | Number(4,0)       |               |
| Agreement_Id          | Number(9,0)       |               |
|-----------------------+-------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** MI1_RETURN_RRC
         Used for *InCollect* *CIBER* processing. Contains the various
         reasons why an *InCollect* file can be returned.

*** MI1_REJECT_RRC
         Used for *InCollect* *CIBER* processing. Contains the various
         reasons why an *InCollect* file can be rejected.

*** MI9_NA_CONV
         This maybe another version of the *ADJ9_TIME_ZONE_REF*
         table, very similar.

** (BPT) EPC Tables
         These tables are included in the *EPC* dump which happens once
         or twice a month, no hotfix is needed unless it 
needs to be in
         production right away.

*** PC9_SID
            One of the most important reference tables used, contains
            all the information for all the *SIDS* for
            all the companies we have a contract with.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|----------------------+-------------------+---------------|
| *Column Name*        | *Data Type*       | *Description* |
|----------------------+-------------------+---------------|
| Cindex               | Number(9,0)       |               |
| *Sids*               | Varchar2(5 Byte)  |               |
| Effective_Date       | Date              |               |
| Sid_Desc             | Varchar2(50 Byte) |               |
| Sid_Commercial_Name  | Varchar2(50 Byte) |               |
| Time_Zone_Code       | Varchar2(2 Byte)  |               |
| Setlmnt_Contract_Cd  | Varchar2(3 Byte)  |               |
| Intracomp_Ind        | Varchar2(3 Byte)  |               |
| Sid_State            | Varchar2(2 Byte)  |               |
| Sid_Country          | Varchar2(3 Byte)  |               |
| Sid_City             | Varchar2(30 Byte) |               |
| Sid_Location_Cd      | Char(1 Byte)      |               |
| Outcol_Dest_Cd       | Varchar2(6 Byte)  |               |
| Currency_Code        | Varchar2(2 Byte)  |               |
| Band_Code            | Char(1 Byte)      |               |
| Geo_Code             | Varchar2(9 Byte)  |               |
| Originating_Category | Varchar2(6 Byte)  |               |
| Expiration_Date      | Date              |               |
| Incorporate_Ind      | Char(1 Byte)      |               |
|----------------------+-------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** PC9_SID_LIST
            A description of each *SID* found in the *PC9_SID* table.
            When the *SID* table is updated this table needs to be
            updated as well.

*** PC9_SPECIAL_NUMBER
            Contains a list of all the special numbers, numbers that can
            be dropped (no charge), toll or air time free.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|---------------------------+--------------------+-----------------|
| *Column Name*             | *Data Type*        | *Description*   |
|---------------------------+--------------------+-----------------|
| Special_Number            | Varchar2(10 Byte)  |                 |
| Call_Direction            | Char(1 Byte)       | 1 = Incoming    |
|                           |                    | 2 = Outgoing    |
|                           |                    | 5 = Both        |
| Home_Roam_Ind             | Char(1 Byte)       | 1 = Home        |
|                           |                    | 2 = Roam        |
|                           |                    | 3 = Both        |
| Call_Source               | Varchar2(4 Byte)   | V = Voice       |
| Effective_Date            | Date               |                 |
| *Air_Time_Ind*            | Char(1 Byte)       | N = Air Time    |
|                           |                    | Is Free         |
| Toll_Special_Number_Group | Varchar2(255 Byte) |                 |
| *Drop_Call_Ind*           | Char(1 Byte)       | Y = This Record |
|                           |                    | Will Be Dropped |
| Special_Number_Type       | Char(1 Byte)       |                 |
| Service_Filter            | Varchar2(15 Byte)  |                 |
| *Toll_Free_Ind*           | Char(1 Byte)       | Y = No Toll     |
|                           |                    | Will Be Charged |
| Bl_Call_Dest_State        | Varchar2(2 Byte)   |                 |
| Bl_Call_Dest_City         | Varchar2(30 Byte)  |                 |
| Automatically_Authorized  | Char(1 Byte)       |                 |
| Description               | Varchar2(50 Byte)  |                 |
| Expiration_Date           | Date               |                 |
|---------------------------+--------------------+-----------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** PC9_SERVE_AREA_TO_SID
            Maps the service area to (/all maybe to strong a term/)
            supported *SIDS*.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|-----------------+-------------------+---------------|
| *Column Name*   | *Data Type*       | *Description* |
|-----------------+-------------------+---------------|
| Serve_Area      | Varchar2(50 Byte) |               |
| *Sids*          | Varchar2(5 Byte)  |               |
| Effective_Date  | Date              |               |
| Expiration_Date | Date              |               |
|-----------------+-------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** PC9_COUNTRY_CODE
            List of country code, country description, NANP indicator.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|---------------+-------------------+---------------|
| *Column Name* | *Data Type*       | *Description* |
|---------------+-------------------+---------------|
| Cindex        | Number(9,0)       |               |
| Country_Code  | Varchar2(3 Byte)  |               |
| Description   | Varchar2(30 Byte) |               |
| Nanp_Ind      | Char(1 Byte)      |               |
|---------------+-------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** PC9_INCOL_SID_PAIR
            Defines *InCollect* roaming agreement between *SID* pair.
            Originating category is retrieve from the table that is used
            later on for service filter determination. INCOL_SID_PAIR
            and *SID* tables are also used by Acquisition & Formatting.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|----------------------------+------------------+---------------|
| *Column Name*              | *Data Type*      | *Description* |
|----------------------------+------------------+---------------|
| Serve_Sid                  | Varchar2(5 Byte) |               |
| Home_Sid                   | Varchar2(5 Byte) |               |
| Effective_Date             | Date             |               |
| Originating_Category       | Varchar2(6 Byte) |               |
| Incol_Not_Valid_Act        | Char(1 Byte)     |               |
| Agr_Peak_Rate              | Number(18,3)     |               |
| Agr_Off_Peak_Rate          | Number(18,3)     |               |
| Agr_Schg_Amt               | Number(18,3)     |               |
| Toll_Agr_Type              | Char(1 Byte)     |               |
| Agr_Toll_Rate              | Number(18,3)     |               |
| Incol_Tl_Nvalid_Ac         | Char(1 Byte)     |               |
| Daily_Surcharge_Indication | Char(1 Byte)     |               |
| Expiration_Date            | Date             |               |
|----------------------------+------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** PC9_CELL_SITE_TO_CELL_ID
    Cell site name to number ID.

*** PC9_SERVICE_FILTER
    This table as well and *PC3_SERVICE_FILTER_LIST* are used by the *RLC*.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|----------------------+-------------------+---------------|
| *Column Name*        | *Data Type*       | *Description* |
|----------------------+-------------------+---------------|
| Be                   | Number(2,0)       |               |
| Call_Source          | Varchar2(4 Byte)  |               |
| Service_Type         | Char(1 Byte)      |               |
| Originating_Category | Varchar2(5 Byte)  |               |
| Destination_Category | Varchar2(5 Byte)  |               |
| Call_Direction       | Char(1 Byte)      |               |
| Effective_Date       | Date              |               |
| Service_Filter       | Varchar2(15 Byte) |               |
| Description          | Varchar2(30 Byte) |               |
| Expiration_Date      | Date              |               |
|----------------------+-------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** PC3_SERVICE_FILTER_LIST

            This table as well and *PC3_SERVICE_FILTER* are used by
            the *RLC*.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|----------------+-------------------+---------------|
| *Column Name*  | *Data Type*       | *Description* |
|----------------+-------------------+---------------|
| Service_Index  | Number(9,0)       |               |
| Service_Filter | Varchar2(15 Byte) |               |
| Description    | Varchar2(50 Byte) |               |
|----------------+-------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
            
*** PC9_DEST_CATEGORY
            Lists all the possible destination categories.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|----------------------+--------------------+---------------|
| *Column Name*        | *Data Type*        | *Description* |
|----------------------+--------------------+---------------|
| Cindex               | Number(9,0)        |               |
| Destination_Category | Varchar2(6 Byte)   |               |
| Description          | Varchar2(101 Byte) |               |
|----------------------+--------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
           
*** PC9_NUMBER_ANALYSIS
            Used to analyze telephone prefix's. Mostly used to determine
            International calls.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|--------------------------+-------------------+---------------|
| *Column Name*            | *Data Type*       | *Description* |
|--------------------------+-------------------+---------------|
| Prefix                   | Varchar2(30 Byte) |               |
| Station_Type             | Varchar2(30 Byte) |               |
| Effective_Date           | Date              |               |
| Destination_Category     | Varchar2(6 Byte)  |               |
| Automatically_Authorized | Char(1 Byte)      |               |
| Roaming_Dest_Category    | Varchar2(6 Byte)  |               |
| Drop_Ind                 | Char(1 Byte)      |               |
| Country_Code             | Varchar2(3 Byte)  |               |
| Description              | Varchar2(30 Byte) |               |
| Network_Call_Type        | Char(1 Byte)      |               |
| Expiration_Date          | Date              |               |
|--------------------------+-------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** PC9_ORIG_CATEGORY
    List all possible originating categories.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|----------------------+--------------------+---------------|
| *Column Name*        | *Data Type*        | *Description* |
|----------------------+--------------------+---------------|
| Cindex               | Number(9,0)        |               |
| Originating_Category | Varchar2(6 Byte)   |               |
| Description          | Varchar2(101 Byte) |               |
|----------------------+--------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** PC9_ROAMING_DEST_CATEGORY
     List all roaming destination categories.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|-----------------------+--------------------+---------------|
| *Column Name*         | *Data Type*        | *Description* |
|-----------------------+--------------------+---------------|
| CINDEX                | NUMBER(9,0)        |               |
| ROAMING_DEST_CATEGORY | VARCHAR2(6 BYTE)   |               |
| DESCRIPTION           | VARCHAR2(101 BYTE) |               |
|-----------------------+--------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** PC1_CHARGE_CODE
            Lists and describes the supported charge codes.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|-----------------+---------------------+---------------|
| *Column Name*   | *Data Type*         | *Description* |
|-----------------+---------------------+---------------|
| Charge_Code_Seq | Number(5,0)         |               |
| Charge_Code     | Varchar2(15 Byte)   |               |
| Description     | Varchar2(4000 Byte) |               |
| Charge_Entity   | Varchar2(60 Byte)   |               |
| Revenue_Type    | Char(2 Byte)        |               |
|-----------------+---------------------+---------------|

#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** PC9_NANP_NPA_LIST
    The NPA (Area Code) and the country description.
*** PC9_LOCAL_TOLL_FREE_AREA
            Lists the relationship between *SIDS* and NPA ranges where
            the toll is free.
*** PC9_IP_ADDR_LIST
            This needs to updated periodically.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|---------------+--------------------+---------------|
| *Column Name* | *Data Type*        | *Description* |
|---------------+--------------------+---------------|
| Cindex        | Number(9,0)        |               |
| Address       | Varchar2(256 Byte) | I.P Address   |
| Description   | Varchar2(101 Byte) |               |
|---------------+--------------------+---------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** SID Updates
            SID'S or Switch IDentifiers is a unique 5 digit number that
            correlates to switch. It is with the *SID* that *TOPS*
            defines the all mediation and rating logic and is the first
            enrichment step on a call record.

        When a *SID* is added or changes there is a possibility
        that the following tables need to be changed:
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
                1. PC9_SID
                2. PC9_SID_LIST
                3. PC9_SERVE_AREA_TO_SID
                4. AGD1_RESOURCES_REF
                5. MI1_STLMNT_CONTRACT
                6. MF1_OUTCOL_SID_PAIR
                7. PC9_INCOL_SID_PAIR
                8. APE1_SUBSCR_DATA_REF
                9. APE1_SUBSCR_OFFERS_REF
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
               All *SIDS* changes start with the *SID* table and
               depending on what needs to be done there determines what
               needs to be done to the other 7 tables. For example if it
               is a brand new *SID* all 8 tables need to be updated with
               the most complicated part setting up InCollect and
               OutCollect processing for a *SIDS* contract. The
               following explains in details on what needs to be done:

               1. Find the entry in the *PC9_INCOL_SID_PAIR* where
                  the *SERVE SID* is the contract number and the *HOME
                  SID* = '175' /(USCC contract number)/.

                  1. Expire the date for when you want the new rate to
                     take affect.
                  2. Use the above row as a template for an insert
                     statement.
                  3. *For outcollecs do the same as above except use
                     SERVE SID = '175'*

               2. Create an Insert statement for the
                  *PC9_INCOL_SID_PAIR* with the new rates.
               3. For the OutCollect side find all *SIDS* that that have
                  the *Settlement Contract Code*, /(In this example we
                  trying to find all *SIDS* with settlement contract
                  code = 287)/

              
                  : SELECT SIDS FROM PC9_SID WHERE SETLMNT_CONTRACT_CD = '287';
           

               4. For each *SID* found add '175' to the end and use that
                  as the resource value for the table
                  *AGD1_RESOURCES_REF* then create an insert if it
                  don't exists.
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
|-------------------------+-----------------------------------|
| *Column*                | *Value*                           |
|-------------------------+-----------------------------------|
| *RESOURCE_SEGMENT*      | *ResourceSegmentCalc_Sh*          |
| *RESOURCE_VALUE*        | SID + '175'                       |
| *RESOURCE_TYPE*         | 21 (for OutCollect)               |
| *SUBSCRIBER_ID*         | sequential number /(1, 2, 3,...)/ |
| *SUB_STATUS*            | A (default)                       |
| *ROUTING_POLICY_ID*     | 0 (for Postpaid)                  |
| *PAYMENT_CATEGORY*      | POST (default)                    |
| *CUSTOMER_ID*           | 1 + SID                           |
| *BILL_CYCLE*            | 99                                |
| *LARGE_CUST_IND*        | ‘N'                               |
| *RESOURCE_HASH_VALUE*   | *ResourceSegmentCalc_Sh*          |
| *SUBSCRIBER_HASH_VALUE* | *SubsriberHashValueCalc_Sh*       |
|-------------------------+-----------------------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

               5. For each *SID* found add a '1' in front which will get
                  you the *customer_id* then do a query against the
                  *APE1_SUBSCR_DATA_REF* to get the subscriber_id
                  /(Using the above as an example)/
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
|-------------------------+-----------------------------------|
| *Column*                | *Value*                           |
|-------------------------+-----------------------------------|
| *CYCLE_CODE*            | 99                                |
| *CUSTOMER_SEGMENT*      | *CustomerSegmentCalc_Sh*          |
| *SUBSCRIBER_ID*         | Sequential number /(1, 2, 3,...)/ |
| *CUSTOMER_ID*           | 1 + SID                           |
| *SUBSCRIBER_HASH_VALUE* | *SubscriberHashCalculator*        |
|-------------------------+-----------------------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

               6. Once you have the subscriber you need to point each
                  entries offer ID's from the
                  *APE1_SUBSCR_OFFERS_REF* table to the correct air
                  and toll charge. /(Again using the above example)/ To
                  find a suitable offer ID search the *CSM_OFFER*
                  table, if you cannot find one have the *EPC* group
                  create one. (/In this example we are looking for a
                  offer ID with the Air and Toll charge of 0.3/)
         
                 :  SELECT * FROM CSM_OFFER WHERE SOC_NAME LIKE '%_0.03_Air_0.03_Toll_PP%';
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX
|-----------------------+-----------------------------------|
| *Column*              | *Value*                           |
|-----------------------+-----------------------------------|
| *CYCLE_CODE*          | 99                                |
| *CUSTOMER_SEGMENT*    | *CustomerSegmentCalc_Sh           |
| *SUBSCRIBER_ID*       | sequential number /(1, 2, 3,...)/ |
| *OFFER_ID*            | SOC_ID                            |
| *OFFER_INSTANCE*      | Subscriber ID                     |
| SUBSCRIBER_HASH_VALUE | *SubsriberHashValueCalc_Sh*       |
|-----------------------+-----------------------------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX

*** Hash Creation Programs
               Some tables require that a unique hash value be created
               to create those values use these programs:

               : ~/abp_home/core/bin/SubsriberHashValueCalc_Sh  <SUBSCRIBER_ID>

               : ~/abp_home/core/bin/ResourceSegmentCalc_Sh     <Resource Type> 21 = (OutCollects)
               :                                                <Resource Value> 
               :                                                <Resource value length>
               : ~/abp_home/core/bin/CustomerSegmentCalc_Sh     <CUSTOMER_ID>

*** Hot Fix Procedures
         1. Develop, test the *SQL* to affect the change.
            -  #{Defect}.sql /sql script/
            -  #{Defect}BO.sql /backout script/
            -  #{Defect}VV.sql /verify script/

         2. If not part of an *EPC Dump*
            1. Update the *BPT Master List*
            2. Send *SQL* and test results to *Yogesh* and request a hot
               fix
            3. Update *BPT Hot Fix Tracking* spreadsheet
            4. Contact Carolyn/Sandeep/Sali tell them to apply the Hot
               Fix.
         3. Update all databases in the *DMZ* with the changes
         4. Create a *SMART Ticket*.
            1. Create *Install Plan*
            2. Create *Test Plan* /use email to Yogesh/
            3. Create *Backout Plan* /point to Install plan/
            4. Just add the following sections.
               -  Risk
               -  Business reason
               -  Impact assessment
         5. If not part of an *EPC Dump* Email John Kelly with the
            Install plan and all SQL.
         6. If part of an EPC dump. Notify the EPC team so they can
            include your *Smart Ticket* with their hot fix.
         7. Represent the change in the *Change Control Meeting*

** APRM Tables
*** USC_ROAM_EVNTS
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|--------------------+--------------------+----------------|
| *Name*             | *Data Type*        | *Descritption* |
|--------------------+--------------------+----------------|
| Air_Chrg_Amt       | Number (18,5)      |                |
| Application_Id     | Char (6 Byte)      |                |
| Au_Id              | Number (9)         |                |
| Bp_Start_Date      | Date               |                |
| Carrier_Cd         | Varchar2 (20 Byte) |                |
| Ciber_File_Name_1  | Varchar2 (50 Byte) |                |
| Ciber_File_Name_2  | Varchar2 (50 Byte) |                |
| Dl_Service_Code    | Char (5 Byte)      |                |
| Dl_Update_Stamp    | Number (4)         |                |
| Edr_Id             | Number (11)        |                |
| Event_Date         | Date               |                |
| Event_Id           | Number (4)         |                |
| Event_Type         | Varchar2 (20 Byte) |                |
| File_Report_Period | Date               |                |
| Generated_Rec      | Number (4)         |                |
| Geo_Code           | Varchar2 (10 Byte) |                |
| Home_Company       | Varchar2 (20 Byte) |                |
| Home_Sid           | Char (5 Byte)      |                |
| Ntwrk_Roam_Ind     | Char (1 Byte)      |                |
| Operator_Id        | Number (9)         |                |
| Orig_Bp            | Date               |                |
| Originating_Id     | Char (20 Byte)     |                |
| Other_Company      | Varchar2 (20 Byte) |                |
| Prod_Id            | Number (4)         |                |
| Serve_Company      | Varchar2 (20 Byte) |                |
| Serve_Sid          | Char (5 Byte)      |                |
| Subscriber_Id      | Char (10 Byte)     |                |
| Surcharge_Amount   | Number (18,5)      |                |
| Surcharge_Ind      | Char (1 Byte)      |                |
| Sys_Creation_Date  | Date               |                |
| Sys_Update_Date    | Date               |                |
| Terminating_Id     | Char (20 Byte)     |                |
| Toll_Chrg          | Number (18,5)      |                |
| Toll_Duration      | Number (11)        |                |
| Toll_Tp_Ind        | Varchar2 (20 Byte) |                |
| Total_Chrg_Amount  | Number (18,5)      |                |
| Total_Tax          | Number (18,5)      |                |
| Usage              | Number (18,5)      |                |
| Usc_Uom            | Char (1 Byte)      |                |
| Visit_Ind          | Char (1 Byte)      |                |
| Volume_Type        | Char (2 Byte)      |                |
|--------------------+--------------------+----------------|
#+BEGIN_LaTeX
\normalsize
#+END_LaTeX
*** usc_sap_extract_v
#+BEGIN_LaTeX
\footnotesize
#+END_LaTeX

#+ATTR_LaTeX: :environment longtable :align l|l|l
|------------------+--------------------+----------------|
| *Name*           | *Data Type*        | *Descritption* |
|------------------+--------------------+----------------|
| Au_Id            | Number (9)         |                |
| Carrier_Cd       | Varchar2 (20 Byte) |                |
| Other_Partner    | Varchar2 (20 Byte) |                |
| Au_Prod_Id       | Number (4)         |                |
| Au_Evt_Id        | Number (4)         |                |
| Au_Prod_Cat_Id   | Char (2 Byte)      |                |
| Au_Bp_Start_Date | Date               |                |
| Au_Charge        | Number             |                |
| Gl_Account       | Varchar2 (17 Byte) |                |
| Crdr_Ind         | Char (2 Byte)      |                |
| Cost_Center      | Char (10 Byte)     |                |
| Product          | Char (18 Byte)     |                |
| Tax_Code         | Char (2 Byte)      |                |
| Tax_Jur_Cd       | Char (15 Byte)     |                |
| Line_Order       | Number             |                |
|------------------+--------------------+----------------|

* Telephone Numbers
|-----------------+--------------|
| *Name*          |       *Cell* |
|-----------------+--------------|
| Vanessa         | 608-441-7106 |
| Alex            | 608-219-7641 |
| Dexter          | 608-219-5832 |
| Dr. Smith       | 608-263-7500 |
| CVS             | 608-836-6630 |
| Chuck           | 630-710-5201 |
| Cindy           | 608-516-4539 |
| Deb             | 312-810-1111 |
| DC Operations   | 865-777-8771 |
| Escalate Ticket | 217-766-1979 |
| Steve           | 608-222-5222 |
| Ron W           | 651-734-8230 |
| Paul Volpe      | 773-216-5606 |
| Aunt Patty      | 256-772-7512 |
| Help Desk:      | 608-828-5889 |
| Soly            | 630-285-8386 |
|-----------------+--------------|


* Task List						:taskjuggler_project:
** Roaming Recon
** WEDO - M2M
