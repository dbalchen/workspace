<?xml version="1.0"?>

<!--
    Revision      : PR270997
    Description   : Modified for TOPS 
    Author        : David A Smith
    Date          : Tue Jun 11 11:05:09 CDT 2013
-->

<!-- The MONITOR configuration file. -->
<monitor>
	<!-- 
		GENFERAL SETTINGS 
		Settings applicable to the overall environment of this Monitor instance.
	-->
	<general>
		<!--
			ASSOCIATE ONCALL SCHEDULE
			Value contains oncall start date and end date in format YYYMMDD.
		-->
		<schedule>

			<period>
				<start_oncall>20130101</start_oncall>
				<end_oncall>20501231</end_oncall>
				<victim>JoeMps</victim>
			</period>
		</schedule>

		<!--
			ASSOCIATE INFORMATION
			SMTP pager and email addresses.
		-->
		<associate>
			<name>JoeMps</name>
			<!--pager>6086575663@archwireless.net</pager-->
			<email>MPS@uscellular.com</email>
		</associate>

		<!--
			ROOT PATH
			Physical address of the root project directory.
			This is where all the check executables are located.
		-->
		<SERVLET>
			<TEMPLATE file="ini/Mps_Monitor.html" key="default" />
			<TEMPLATE file="ini/ACPA2.html" key="ACPA2" />
			<TEMPLATE file="ini/ACPA3.html" key="ACPA3" />
			<TEMPLATE file="ini/OncallM01.html" key="ONCALLM01" />
			<TEMPLATE file="ini/Oncall3M01.html" key="ONCALL3M01" />
		</SERVLET>
	</general>

	<!--
		MARKET
		Settings specific to each market.            
	-->
	<MARKET>
		<!--
			These sections contain input parameters for each individual
			monitor check.
			To turn off any of the checks, set its 'disable' flag to 'Yes', 'y', 
			or any other case variation thereof.
		-->
		<BATCH1 hostname="mtr01s2eap.uscc.com" port="8999" StartHour="7">
			<!--
				SwitchBehind
				This check is responsible for paging the oncall person when 
				files stuck in usage are detected.
			-->
			<SwitchBehind>
				<disable>No</disable>
				<!--
					The following 5 tags tell the monitor when it should run the
					check.  The method is similar to the Unix CRON.  
					Thus, for instance the setting:
					"   <minutes>5,23</minutes>
					<hours>3,5,19</hours> 
					<days>1-25</days>
					<dayofweek>*</dayofweek>
					<month>*</month>           "
					results in the check being performed every day of the month,
					on any day of the week, but only on days of month 1st through
					the 25th, at 3:05 AM, 3:23 AM, 5:05 AM, 5:23 AM, 7:05 PM, and
					7:23 PM.
				-->
				<minutes>0</minutes>
				<hours>7-22</hours>
				<days>*</days>
				<dayofweek>*</dayofweek>
				<month>*</month>
				<!-- Path (relative to <MpsLib>) to the audit executable -->
				<executable>Monitor/SwitchBehind.pl</executable>
				<!-- 
					Parameters passed to the executable.
					The ignore_list parameter contains a comma-delimited list of 
					switches that are to be ignored by the paging mechanism. 
					If a switch is followed by a colon and a string of digits, 
					the switch will be ignored only on the days specified by the digits.  
					The integer digits signify days of week starting with 0=Sunday.  
					So, for instance, if you want switch SWITCH to be ignored on Sunday 
					and Wednesday, but page on the rest of the days of the week, 
					the entry would be: 
					ignore_list="SWITCH:03"
				-->
				<params market="BATCH1" sql_query="switch_behind.sql"
				  ignore_list=""
					threshold="36" MpsLib="" SqlLib="sql/" Log="log/"
					title="BATCH1:SwitchBehind" />
				<!-- Minutes of hour on which the collector runs the executable -->
				<collector_interval>5,45</collector_interval>
				<repage>1</repage>
			</SwitchBehind>

			<!--
				ProgremBehind
				This check is responsible for paging the oncall person when 
				a program is behind in processing by a threshold number of records.
			-->
			<ProgramBehind>
				<disable>No</disable>
				<!--
					The following 5 tags tell the monitor when it should run the
					check.  The method is similar to the Unix CRON.  
					Thus, for instance the setting:
					"   <minutes>5,23</minutes>
					<hours>3,5,19</hours> 
					<days>1-25</days>
					<dayofweek>*</dayofweek>
					<month>*</month>           "
					results in the check being performed every day of the month,
					on any day of the week, but only on days of month 1st through
					the 25th, at 3:05 AM, 3:23 AM, 5:05 AM, 5:23 AM, 7:05 PM, and
					7:23 PM.
				-->
				<minutes>0</minutes>
				<hours>8-23</hours>
				<days>*</days>
				<dayofweek>*</dayofweek>
				<month>*</month>
				<!-- Path (relative to <MpsLib>) to the audit executable -->
				<executable>Monitor/ProgramBehind.pl</executable>
				<params market="BATCH1" sql_query="program_behind.sql"
					threshold="100" MpsLib="" SqlLib="sql/" Log="log/"
					title="BATCH1:ProgramBehind" />
				<collector_interval>6,46</collector_interval>
				<repage>1</repage>
			</ProgramBehind>

			<!--
				MissingBlock
				This check is responsible for paging the oncall person when 
				missing blocks of data are detected.
			-->
			<MissingBlock>
				<disable>No</disable>
				<!--
					The following 5 tags tell the monitor when it should run the
					check.  The method is similar to the Unix CRON.  
					Thus, for instance the setting:
					"   <minutes>5,23</minutes>
					<hours>3,5,19</hours> 
					<days>1-25</days>
					<dayofweek>*</dayofweek>
					<month>*</month>           "
					results in the check being performed every day of the month,
					on any day of the week, but only on days of month 1st through
					the 25th, at 3:05 AM, 3:23 AM, 5:05 AM, 5:23 AM, 7:05 PM, and
					7:23 PM.
				-->
				<minutes>0</minutes>
				<hours>8-23</hours>
				<days>*</days>
				<dayofweek>*</dayofweek>
				<month>*</month>
				<!-- Path (relative to <MpsLib>) to the audit executable -->
				<executable>Monitor/MissingBlock.pl</executable>
				<params market="BATCH1" sql_query="missing_block.sql"
					switch_query="voice_switches.sql" from_hrs_ago="72" to_hrs_ago="1"
					threshold="100" MpsLib="" ignore_list="" SqlLib="sql/"
					Log="log/" title="BATCH1:MissingBlock" />
				<collector_interval>2,47</collector_interval>
				<repage>0</repage>
			</MissingBlock>

			<!--
				StuckFile
				This check is responsible for paging the oncall person when 
				files stuck in usage are detected.
			-->
			<StuckFile>
				<disable>No</disable>
				<!--
					The following 5 tags tell the monitor when it should run the
					check.  The method is similar to the Unix CRON.  
					Thus, for instance the setting:
					"   <minutes>5,23</minutes>
					<hours>3,5,19</hours> 
					<days>1-25</days>
					<dayofweek>*</dayofweek>
					<month>*</month>           "
					results in the check being performed every day of the month,
					on any day of the week, but only on days of month 1st through
					the 25th, at 3:05 AM, 3:23 AM, 5:05 AM, 5:23 AM, 7:05 PM, and
					7:23 PM.
				-->
				<minutes>0</minutes>
				<hours>8-23</hours>
				<days>*</days>
				<dayofweek>*</dayofweek>
				<month>*</month>
				<!-- Path (relative to <MpsLib>) to the audit executable -->
				<executable>Monitor/StuckFile.pl</executable>
				<params market="BATCH1" sql_query="stuck_file.sql"
					threshold="4" MpsLib="" SqlLib="sql/" Log="log/"
					title="BATCH1:StuckFile" />
				<collector_interval>3,48</collector_interval>
				<repage>1</repage>
			</StuckFile>

			<MissingDataFile>
				<disable>No</disable>
				<!--
					The following 5 tags tell the monitor when it should run the
					check.  The method is similar to the Unix CRON.  
					Thus, for instance the setting:
					"   <minutes>5,23</minutes>
					<hours>3,5,19</hours> 
					<days>1-25</days>
					<dayofweek>*</dayofweek>
					<month>*</month>           "
					results in the check being performed every day of the month,
					on any day of the week, but only on days of month 1st through
					the 25th, at 3:05 AM, 3:23 AM, 5:05 AM, 5:23 AM, 7:05 PM, and
					7:23 PM.
				-->
				<minutes>0</minutes>
				<hours>8-23</hours>
				<days>*</days>
				<dayofweek>*</dayofweek>
				<month>*</month>

				<executable>Monitor/MissingDataFile.pl</executable>
				<params market="BATCH1" sql_query="missing_file.sql"
					switch_query="data_switches.sql" from_hrs_ago="72" to_hrs_ago="1"
					max_blocks="10000"
					ignore_list=""
					MpsLib="" SqlLib="sql/" Log="log/" title="BATCH1:MissingDataFile" />
				<collector_interval>0,45</collector_interval>
				<repage>0</repage>
			</MissingDataFile>

			<WebAcpa2>
				<disable>yes</disable>
				<!--
					The following 5 tags tell the monitor when it should run the
					check.  The method is similar to the Unix CRON.  
					Thus, for instance the setting:
					"   <minutes>5,23</minutes>
					<hours>3,5,19</hours> 
					<days>1-25</days>
					<dayofweek>*</dayofweek>
					<month>*</month>           "
					results in the check being performed every day of the month,
					on any day of the week, but only on days of month 1st through
					the 25th, at 3:05 AM, 3:23 AM, 5:05 AM, 5:23 AM, 7:05 PM, and
					7:23 PM.
				-->
				<minutes>
					2,5,8,11,14,17,20,23,26,29,32,35,38,41,44,47,50,53,56,59
				</minutes>
				<hours>*</hours>
				<days>*</days>
				<dayofweek>*</dayofweek>
				<month>*</month>
				<executable>Monitor/acpa2.pl</executable>
				<params title="ACPA2:BATCH1" />
				<repage>1</repage>
			</WebAcpa2>

			<WebAcpa3>
				<disable>yes</disable>
				<!--
					The following 5 tags tell the monitor when it should run the
					check.  The method is similar to the Unix CRON.  
					Thus, for instance the setting:
					"   <minutes>5,23</minutes>
					<hours>3,5,19</hours> 
					<days>1-25</days>
					<dayofweek>*</dayofweek>
					<month>*</month>           "
					results in the check being performed every day of the month,
					on any day of the week, but only on days of month 1st through
					the 25th, at 3:05 AM, 3:23 AM, 5:05 AM, 5:23 AM, 7:05 PM, and
					7:23 PM.
				-->
				<minutes>
					2,5,8,11,14,17,20,23,26,29,32,35,38,41,44,47,50,53,56,59
				</minutes>
				<hours>*</hours>
				<days>*</days>
				<dayofweek>*</dayofweek>
				<month>*</month>

				<executable>Monitor/acpa3.pl</executable>
				<params title="ACPA3:BATCH1" />
				<repage>1</repage>
			</WebAcpa3>

			<WebListenGuideRate>
				<disable>yes</disable>
				<!--
					The following 5 tags tell the monitor when it should run the
					check.  The method is similar to the Unix CRON.  
					Thus, for instance the setting:
					"   <minutes>5,23</minutes>
					<hours>3,5,19</hours> 
					<days>1-25</days>
					<dayofweek>*</dayofweek>
					<month>*</month>           "
					results in the check being performed every day of the month,
					on any day of the week, but only on days of month 1st through
					the 25th, at 3:05 AM, 3:23 AM, 5:05 AM, 5:23 AM, 7:05 PM, and
					7:23 PM.
				-->
				<minutes>1,6,11,16,21,26,31,36,41,46,51,56</minutes>
				<hours>*</hours>
				<days>*</days>
				<dayofweek>*</dayofweek>
				<month>*</month>

				<executable>
					Monitor/WebListenerGuidersRaters.pl
				</executable>
				<params title="WebListenGuideRate:BATCH1" />
				<repage>1</repage>
			</WebListenGuideRate>

			<WebSpaceMb>
				<disable>yes</disable>
				<!--
					The following 5 tags tell the monitor when it should run the
					check.  The method is similar to the Unix CRON.  
					Thus, for instance the setting:
					"   <minutes>5,23</minutes>
					<hours>3,5,19</hours> 
					<days>1-25</days>
					<dayofweek>*</dayofweek>
					<month>*</month>           "
					results in the check being performed every day of the month,
					on any day of the week, but only on days of month 1st through
					the 25th, at 3:05 AM, 3:23 AM, 5:05 AM, 5:23 AM, 7:05 PM, and
					7:23 PM.
				-->
				<minutes>7</minutes>
				<hours>*</hours>
				<days>*</days>
				<dayofweek>*</dayofweek>
				<month>*</month>

				<executable>Monitor/WebSpaceMb.pl</executable>
				<params title="WebSpaceMb:BATCH1" />
				<repage>1</repage>
			</WebSpaceMb>

			<WebStuckFileProc>
				<disable>yes</disable>
				<!--
					The following 5 tags tell the monitor when it should run the
					check.  The method is similar to the Unix CRON.  
					Thus, for instance the setting:
					"   <minutes>5,23</minutes>
					<hours>3,5,19</hours> 
					<days>1-25</days>
					<dayofweek>*</dayofweek>
					<month>*</month>           "
					results in the check being performed every day of the month,
					on any day of the week, but only on days of month 1st through
					the 25th, at 3:05 AM, 3:23 AM, 5:05 AM, 5:23 AM, 7:05 PM, and
					7:23 PM.
				-->
				<minutes>18,48</minutes>
				<hours>*</hours>
				<days>*</days>
				<dayofweek>*</dayofweek>
				<month>*</month>

				<executable>Monitor/WebStuckFileProc.pl</executable>
				<params
					ignore_list=""
					title="BATCH1:WebStuckFileProc" />
				<repage>1</repage>
			</WebStuckFileProc>
		</BATCH1>
	</MARKET>
</monitor>
